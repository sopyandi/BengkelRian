!function(e){var t={};function a(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(s,r,function(t){return e[t]}.bind(null,r));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=461)}({0:function(e,t){e.exports=React},1:function(e,t,a){"use strict";var s=a(0),r=a(8);t.a=Object(r.b)(e=>({language:e.language}),{})(e=>s.createElement("text",null,(e.localizedString||e)[e.language]))},10:function(e,t,a){"use strict";a.d(t,"h",(function(){return n})),a.d(t,"e",(function(){return o})),a.d(t,"g",(function(){return i})),a.d(t,"n",(function(){return c})),a.d(t,"l",(function(){return l})),a.d(t,"d",(function(){return d})),a.d(t,"f",(function(){return u})),a.d(t,"m",(function(){return h})),a.d(t,"k",(function(){return p})),a.d(t,"b",(function(){return m})),a.d(t,"c",(function(){return g})),a.d(t,"a",(function(){return b})),a.d(t,"i",(function(){return f})),a.d(t,"j",(function(){return E}));var s=a(2),r=a(12);const n=e=>({type:s.sb,makes:e}),o=e=>({type:s.O,makes:e}),i=e=>({type:s.P,models:e}),c=e=>({type:s.R,years:e}),l=e=>({type:s.Q,trims:e}),d=e=>({type:s.Bb,make:e}),u=e=>({type:s.Cb,model:e}),h=e=>({type:s.Eb,year:e}),p=e=>({type:s.Db,trim:e}),m=()=>({type:s.E}),g=e=>({type:s.N,cars:e}),b=(e,t)=>{if(localStorage&&!t)try{let t,a=localStorage.getItem(r.a);a?(t=JSON.parse(a),t.push(e),localStorage.setItem(r.a,JSON.stringify(t)),localStorage.setItem(r.h,(t.length-1).toString())):(t=[e],localStorage.setItem(r.a,JSON.stringify(t)),localStorage.setItem(r.h,(t.length-1).toString()))}catch(e){}return{type:s.a,car:e}},f=e=>{if(localStorage)try{localStorage.setItem(r.h,e.toString())}catch(e){}return{type:s.Ab,carIndex:e}},E=e=>({type:s.Fb,custCarId:e})},109:function(e,t,a){"use strict";var s="function"==typeof Symbol&&Symbol.for,r=s?Symbol.for("react.element"):60103,n=s?Symbol.for("react.portal"):60106,o=s?Symbol.for("react.fragment"):60107,i=s?Symbol.for("react.strict_mode"):60108,c=s?Symbol.for("react.profiler"):60114,l=s?Symbol.for("react.provider"):60109,d=s?Symbol.for("react.context"):60110,u=s?Symbol.for("react.async_mode"):60111,h=s?Symbol.for("react.concurrent_mode"):60111,p=s?Symbol.for("react.forward_ref"):60112,m=s?Symbol.for("react.suspense"):60113,g=s?Symbol.for("react.suspense_list"):60120,b=s?Symbol.for("react.memo"):60115,f=s?Symbol.for("react.lazy"):60116,E=s?Symbol.for("react.block"):60121,S=s?Symbol.for("react.fundamental"):60117,y=s?Symbol.for("react.responder"):60118,v=s?Symbol.for("react.scope"):60119;function k(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case o:case c:case i:case m:return e;default:switch(e=e&&e.$$typeof){case d:case p:case f:case b:case l:return e;default:return t}}case n:return t}}}function N(e){return k(e)===h}t.AsyncMode=u,t.ConcurrentMode=h,t.ContextConsumer=d,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=o,t.Lazy=f,t.Memo=b,t.Portal=n,t.Profiler=c,t.StrictMode=i,t.Suspense=m,t.isAsyncMode=function(e){return N(e)||k(e)===u},t.isConcurrentMode=N,t.isContextConsumer=function(e){return k(e)===d},t.isContextProvider=function(e){return k(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return k(e)===p},t.isFragment=function(e){return k(e)===o},t.isLazy=function(e){return k(e)===f},t.isMemo=function(e){return k(e)===b},t.isPortal=function(e){return k(e)===n},t.isProfiler=function(e){return k(e)===c},t.isStrictMode=function(e){return k(e)===i},t.isSuspense=function(e){return k(e)===m},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===h||e===c||e===i||e===m||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===b||e.$$typeof===l||e.$$typeof===d||e.$$typeof===p||e.$$typeof===S||e.$$typeof===y||e.$$typeof===v||e.$$typeof===E)},t.typeOf=k},11:function(e,t){e.exports=jQuery},110:function(e,t,a){"use strict";(function(e,s){Object.defineProperty(t,"__esModule",{value:!0});var r,n,o=a(111),i=(r=o)&&r.__esModule?r:{default:r};n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:s;var c=(0,i.default)(n);t.default=c}).call(this,a(34),a(29)(e))},111:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a=e.Symbol;"function"==typeof a?a.observable?t=a.observable:(t=a("observable"),a.observable=t):t="@@observable";return t}},12:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"f",(function(){return r})),a.d(t,"e",(function(){return n})),a.d(t,"g",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return l})),a.d(t,"h",(function(){return d}));const s="CARS_KEY",r="LOCATION_KEY",n="LOCATION_DETAILS_KEY",o="LOCATION_VALID_KEY",i="CART_BOOKED_PRODUCTS_KEY",c="CART_BOOKED_INQUIRIES_KEY",l="CART_BOOKED_GROUP_KEY",d="SELECTED_CAR_INDEX_KEY"},13:function(e,t,a){"use strict";var s=function(){};e.exports=s},14:function(e,t){e.exports=ReactDOM},15:function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"g",(function(){return n})),a.d(t,"f",(function(){return o})),a.d(t,"e",(function(){return i})),a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return l})),a.d(t,"h",(function(){return d})),a.d(t,"b",(function(){return u}));var s=a(2);const r=e=>({type:s.vb,productLines:e}),n=e=>({type:s.Gb,product:e}),o=e=>({type:s.zb,addon:e}),i=e=>({type:s.xb,regularServices:e}),c=e=>({type:s.fb,generalServices:e}),l=e=>({type:s.S,changeSpareparts:e}),d=e=>({type:s.Ob,washDetailings:e}),u=e=>({type:s.Y,emergencies:e})},16:function(e,t,a){"use strict";function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}a.d(t,"a",(function(){return s}))},17:function(e,t,a){"use strict";var s=a(3),r=a(78),n=a(2);const o={makes:null,models:null,years:null,trims:null,selectedMake:null,selectedModel:null,selectedYear:null,selectedTrim:null,cars:[],selectedCarIndex:null},i={userLoggedin:!1},c={step:1,progress:0},l={Label:"",Tel:""},d={problemCategory:null,problemDescription:null,disabledForm:!1},u={fullName:null,email:null,phone:null,note:null},h={productLines:null,product:null,addon:null,regularServices:null,generalServices:null,changeSpareparts:null,washDetailings:null,emergencies:null},p={bookedProducts:null,bookedInquiries:null,bookedGroup:null},m={date:null,time:null,location:null,locationDetail:null,locationValid:!1,dateSlots:[],timeSlots:[],alert:null,voucherResult:null,disabledForm:!1},g={date:null,time:null,location:null,locationDetail:null,locationValid:!1,dateSlots:[],timeSlots:[],alert:null,voucherResult:null,applyVoucherResult:null,voucherCode:null,disabledForm:!1,selectedTab:null,paramMake:null,paramModel:null,paramYear:null,paramTrim:null,scroll:0,fullName:null,email:null,phone:null,note:null,validationForm:null,consultationCategory:null,consultationDescription:null};var b=Object(s.b)({language:(e="ID",t)=>{switch(t.type){case n.ib:return t.language?t.language:e;default:return e}},carSelection:(e=o,t)=>{switch(t.type){case n.sb:return t.makes?Object.assign(Object.assign({},e),{popularMakes:t.makes}):e;case n.O:return t.makes?Object.assign(Object.assign({},e),{makes:t.makes}):e;case n.P:return t.models?Object.assign(Object.assign({},e),{models:t.models}):e;case n.R:return t.years?Object.assign(Object.assign({},e),{years:t.years}):e;case n.Q:return t.trims?Object.assign(Object.assign({},e),{trims:t.trims}):e;case n.Bb:return t.make?Object.assign(Object.assign({},e),{selectedMake:t.make,models:null,years:null,trims:null,selectedModel:null,selectedYear:null,selectedTrim:null}):e;case n.Cb:return t.model?Object.assign(Object.assign({},e),{selectedModel:t.model,years:null,trims:null,selectedYear:null,selectedTrim:null}):e;case n.Eb:return t.year?Object.assign(Object.assign({},e),{selectedYear:t.year,trims:null,selectedTrim:null}):e;case n.Db:return t.trim?Object.assign(Object.assign({},e),{selectedTrim:t.trim}):e;case n.E:return Object.assign(Object.assign({},e),{models:null,years:null,trims:null,selectedMake:null,selectedModel:null,selectedYear:null,selectedTrim:null});case n.N:{let a=t.cars&&e.selectedCustCarId?t.cars.findIndex(t=>t.custCarId==e.selectedCustCarId):null;return t.cars?Object.assign(Object.assign({},e),{cars:t.cars,selectedCarIndex:a&&-1!==a?a:null}):e}case n.a:return t.car?Object.assign(Object.assign({},e),{cars:[...e.cars,t.car],selectedCarIndex:e.cars.length}):e;case n.Ab:return null!=t.carIndex&&t.carIndex>=0&&t.carIndex<e.cars.length?Object.assign(Object.assign({},e),{selectedCarIndex:t.carIndex}):e;case n.Fb:{let a=e.cars&&t.custCarId?e.cars.findIndex(e=>e.custCarId==t.custCarId):null;return t.custCarId?Object.assign(Object.assign({},e),{selectedCustCarId:t.custCarId,selectedCarIndex:a&&-1!==a?a:null}):Object.assign(Object.assign({},e),{selectedCustCarId:void 0,selectedCarIndex:null})}default:return e}},user:(e=i,t)=>{switch(t.type){case n.Lb:return t.userLoggedin?Object.assign(Object.assign({},e),{userLoggedin:t.userLoggedin}):e;default:return e}},wizardStep:(e=c,t)=>{switch(t.type){case n.Ib:return t.step?Object.assign(Object.assign({},e),{step:t.step}):e;case n.wb:return void 0!==t.progress&&t.progress>=0?Object.assign(Object.assign({},e),{progress:t.progress}):e;default:return e}},hotlineContact:(e=l,t)=>{switch(t.type){case n.gb:return t.hotlineContactLabel?Object.assign(Object.assign({},e),{Label:t.hotlineContactLabel}):e;case n.hb:return t.hotlineContactTel?Object.assign(Object.assign({},e),{Tel:t.hotlineContactTel}):e;default:return e}},simpleForm:(e=d,t)=>{switch(t.type){case n.tb:return t.problemCategory?Object.assign(Object.assign({},e),{problemCategory:t.problemCategory}):e;case n.ub:return t.problemDescription||""==t.problemDescription?Object.assign(Object.assign({},e),{problemDescription:t.problemDescription}):e;case n.C:return Object.assign(Object.assign({},e),{disabledForm:!0});case n.B:return Object.assign(Object.assign({},e),{disabledForm:!1});default:return e}},contactInformation:(e=u,t)=>{switch(t.type){case n.eb:return t.fullName?Object.assign(Object.assign({},e),{fullName:t.fullName}):e;case n.X:return t.email?Object.assign(Object.assign({},e),{email:t.email}):e;case n.rb:return t.phone?Object.assign(Object.assign({},e),{phone:t.phone}):e;case n.mb:return t.note?Object.assign(Object.assign({},e),{note:t.note}):e;default:return e}},productSelection:(e=h,t)=>{switch(t.type){case n.vb:return t.productLines?Object.assign(Object.assign({},e),{productLines:t.productLines}):e;case n.Gb:return void 0!==t.product?Object.assign(Object.assign({},e),{product:t.product}):e;case n.zb:return void 0!==t.addon?Object.assign(Object.assign({},e),{addon:t.addon}):e;case n.xb:return t.regularServices?Object.assign(Object.assign({},e),{regularServices:t.regularServices}):e;case n.fb:return t.generalServices?Object.assign(Object.assign({},e),{generalServices:t.generalServices}):e;case n.S:return t.changeSpareparts?Object.assign(Object.assign({},e),{changeSpareparts:t.changeSpareparts}):e;case n.Ob:return t.washDetailings?Object.assign(Object.assign({},e),{washDetailings:t.washDetailings}):e;case n.Y:return t.emergencies?Object.assign(Object.assign({},e),{emergencies:t.emergencies}):e;default:return e}},cart:(e=p,t)=>{switch(t.type){case n.M:return t.bookedProducts?Object.assign(Object.assign({},e),{bookedProducts:t.bookedProducts}):e;case n.L:return t.bookedInquiries?Object.assign(Object.assign({},e),{bookedInquiries:t.bookedInquiries}):e;case n.K:return t.bookedGroup?Object.assign(Object.assign({},e),{bookedGroup:t.bookedGroup}):Object.assign(Object.assign({},e),{bookedGroup:null});default:return e}},fullForm:(e=m,t)=>{switch(t.type){case n.V:return t.date?Object.assign(Object.assign({},e),{date:t.date}):e;case n.Jb:return t.time||""==t.time?Object.assign(Object.assign({},e),{time:""!=t.time?t.time:null}):e;case n.jb:return t.location?Object.assign(Object.assign({},e),{location:t.location}):e;case n.kb:return t.locationDetail||""==t.locationDetail?Object.assign(Object.assign({},e),{locationDetail:t.locationDetail}):e;case n.lb:return t.locationValid?Object.assign(Object.assign({},e),{locationValid:t.locationValid}):Object.assign(Object.assign({},e),{locationValid:!1});case n.W:return t.dateSlots?Object.assign(Object.assign({},e),{dateSlots:t.dateSlots}):e;case n.Kb:return t.timeSlots?Object.assign(Object.assign({},e),{timeSlots:t.timeSlots}):e;case n.I:return t.alert?Object.assign(Object.assign({},e),{alert:t.alert}):Object.assign(Object.assign({},e),{alert:null});case n.Nb:return t.voucherResult?Object.assign(Object.assign({},e),{voucherResult:t.voucherResult}):Object.assign(Object.assign({},e),{voucherResult:null});case n.k:let a=0;if(t.bookedProducts)for(let e of t.bookedProducts)if(e.q?a+=(e.p?e.p:0)*e.q:a+=e.p?e.p:0,e.part&&(a+=e.part.p*(e.part.q?e.part.q:1)),e.addons)for(let t of e.addons)t.hasQuantity?t.q&&t.q>0&&(t.selectedPart?a+=(t.p+t.selectedPart.p*(t.selectedPart.q?t.selectedPart.q:1))*t.q:a+=t.p*t.q):t.added&&(a+=t.p,t.selectedPart&&(a+=t.selectedPart.p*(t.selectedPart.q?t.selectedPart.q:1)));let s=!1,r=0;if(t.voucherResult){if(t.voucherResult.pids&&t.voucherResult.pids.length>0){if(t.bookedProducts&&t.bookedProducts.length>0)for(let e of t.bookedProducts){for(let a of t.voucherResult.pids)e.id==a&&(t.voucherResult.qualified=!0,s=!0,r=(e.p?e.p:0)*(e.q?e.q:1)+(e.part?e.part.p*(e.part.q?e.part.q:1):0));if(e.addons)for(let a of e.addons)if(a.added)for(let e of t.voucherResult.pids)a.id==e&&(t.voucherResult.qualified=!0,s=!0,r=(a.p?a.p:0)*(a.q?a.q:1)+(a.selectedPart?a.selectedPart.p*(a.selectedPart.q?a.selectedPart.q:1):0))}}else if(t.voucherResult.ppids&&t.voucherResult.ppids.length>0){if(t.bookedProducts&&t.bookedProducts.length>0)for(let e of t.bookedProducts){if(e.part)for(let a of t.voucherResult.ppids)e.part.id==a&&(t.voucherResult.qualified=!0,s=!0,r=(e.p?e.p:0)*(e.q?e.q:1)+(e.part?e.part.p*(e.part.q?e.part.q:1):0));if(e.addons)for(let a of e.addons)if(a.added&&a.selectedPart)for(let e of t.voucherResult.ppids)a.selectedPart.id==e&&(t.voucherResult.qualified=!0,s=!0,r=(a.p?a.p:0)*(a.q?a.q:1)+(a.selectedPart?a.selectedPart.p*(a.selectedPart.q?a.selectedPart.q:1):0))}}else t.voucherResult.qualified=!0,s=!0,r=a;a<t.voucherResult.minp&&(t.voucherResult.qualified=!1,s=!1)}return t.voucherResult&&(t.voucherResult.qualified=s,t.voucherResult.qualifiedPrice=r),t.bookedProducts&&t.voucherResult?Object.assign(Object.assign({},e),{voucherResult:t.voucherResult}):Object.assign(Object.assign({},e),{voucherResult:null});case n.f:return Object.assign(Object.assign({},e),{disabledForm:!0});case n.e:return Object.assign(Object.assign({},e),{disabledForm:!1});default:return e}},newForm:(e=g,t)=>{switch(t.type){case n.V:return t.date?Object.assign(Object.assign({},e),{date:t.date}):e;case n.Jb:return t.time||""==t.time?Object.assign(Object.assign({},e),{time:""!=t.time?t.time:null}):e;case n.jb:return t.location?Object.assign(Object.assign({},e),{location:t.location}):Object.assign(Object.assign({},e),{location:null});case n.kb:return t.locationDetail||""==t.locationDetail?Object.assign(Object.assign({},e),{locationDetail:t.locationDetail}):e;case n.lb:return t.locationValid?Object.assign(Object.assign({},e),{locationValid:t.locationValid}):Object.assign(Object.assign({},e),{locationValid:!1});case n.W:return t.dateSlots?Object.assign(Object.assign({},e),{dateSlots:t.dateSlots}):e;case n.Kb:return t.timeSlots?Object.assign(Object.assign({},e),{timeSlots:t.timeSlots}):e;case n.I:return t.alert?Object.assign(Object.assign({},e),{alert:t.alert}):Object.assign(Object.assign({},e),{alert:null});case n.Nb:return t.voucherResult?Object.assign(Object.assign({},e),{voucherResult:t.voucherResult}):Object.assign(Object.assign({},e),{voucherResult:null});case n.k:let a=0;if(t.bookedProducts)for(let e of t.bookedProducts)if(e.q?a+=(e.p?e.p:0)*e.q:a+=e.p?e.p:0,e.part&&(a+=e.part.p*(e.part.q?e.part.q:1)),e.addons)for(let t of e.addons)t.hasQuantity?t.q&&t.q>0&&(t.selectedPart?a+=(t.p+t.selectedPart.p*(t.selectedPart.q?t.selectedPart.q:1))*t.q:a+=t.p*t.q):t.added&&(a+=t.p,t.selectedPart&&(a+=t.selectedPart.p*(t.selectedPart.q?t.selectedPart.q:1)));let s=!1,r=0;if(t.voucherResult){if(t.voucherResult.pids&&t.voucherResult.pids.length>0){if(t.bookedProducts&&t.bookedProducts.length>0)for(let e of t.bookedProducts){for(let a of t.voucherResult.pids)e.id==a&&(t.voucherResult.qualified=!0,s=!0,r=(e.p?e.p:0)*(e.q?e.q:1)+(e.part?e.part.p*(e.part.q?e.part.q:1):0));if(e.addons)for(let a of e.addons)if(a.added)for(let e of t.voucherResult.pids)a.id==e&&(t.voucherResult.qualified=!0,s=!0,r=(a.p?a.p:0)*(a.q?a.q:1)+(a.selectedPart?a.selectedPart.p*(a.selectedPart.q?a.selectedPart.q:1):0))}}else if(t.voucherResult.ppids&&t.voucherResult.ppids.length>0){if(t.bookedProducts&&t.bookedProducts.length>0)for(let e of t.bookedProducts){if(e.part)for(let a of t.voucherResult.ppids)e.part.id==a&&(t.voucherResult.qualified=!0,s=!0,r=(e.p?e.p:0)*(e.q?e.q:1)+(e.part?e.part.p*(e.part.q?e.part.q:1):0));if(e.addons)for(let a of e.addons)if(a.added&&a.selectedPart)for(let e of t.voucherResult.ppids)a.selectedPart.id==e&&(t.voucherResult.qualified=!0,s=!0,r=(a.p?a.p:0)*(a.q?a.q:1)+(a.selectedPart?a.selectedPart.p*(a.selectedPart.q?a.selectedPart.q:1):0))}}else t.voucherResult.qualified=!0,s=!0,r=a;a<t.voucherResult.minp&&(t.voucherResult.qualified=!1,s=!1)}return t.voucherResult&&(t.voucherResult.qualified=s,t.voucherResult.qualifiedPrice=r),t.bookedProducts&&t.voucherResult?Object.assign(Object.assign({},e),{voucherResult:t.voucherResult}):Object.assign(Object.assign({},e),{voucherResult:null});case n.J:return t.applyVoucherResult?Object.assign(Object.assign({},e),{applyVoucherResult:t.applyVoucherResult}):Object.assign(Object.assign({},e),{applyVoucherResult:null});case n.Mb:return t.voucherCode?Object.assign(Object.assign({},e),{voucherCode:t.voucherCode}):Object.assign(Object.assign({},e),{voucherCode:null});case n.l:let o=0;if(t.bookedProducts)for(let e of t.bookedProducts)if(e.q?o+=(e.p?e.p:0)*e.q:o+=e.p?e.p:0,e.part&&(o+=e.part.p*(e.part.q?e.part.q:1)),e.addons)for(let t of e.addons)t.hasQuantity?t.q&&t.q>0&&(t.selectedPart?o+=(t.p+t.selectedPart.p*(t.selectedPart.q?t.selectedPart.q:1))*t.q:o+=t.p*t.q):t.added&&(o+=t.p,t.selectedPart&&(o+=t.selectedPart.p*(t.selectedPart.q?t.selectedPart.q:1)));let i,c=!1;if(t.applyVoucherResult){if(t.applyVoucherResult.buyingProductId&&t.applyVoucherResult.freeProductId){let e=!1,a=!1;if(t.bookedProducts&&t.bookedProducts.length>0)for(let s of t.bookedProducts)s.id==t.applyVoucherResult.buyingProductId&&(e=!0),s.id==t.applyVoucherResult.freeProductId&&(a=!0);e&&a?c=!0:e?a||(i="Failed to apply voucher, the order doesn't contains any free product"):i="Failed to apply voucher, the order doesn't contains the needed product"}else if(t.applyVoucherResult.freeProductId){let e=!1;if(t.bookedProducts&&t.bookedProducts.length>0)for(let a of t.bookedProducts)a.id==t.applyVoucherResult.freeProductId&&(e=!0);e?c=!0:i="Failed to apply voucher, the order doesn't contains any free product"}else t.applyVoucherResult.value&&(c=!0);t.applyVoucherResult.minimumPurchase&&o<t.applyVoucherResult.minimumPurchase&&(c=!1,i="Failed to apply voucher, total orders doesn't met the minimum purchase"),t.applyVoucherResult.valid=c,t.applyVoucherResult.message=i}return t.bookedProducts&&t.applyVoucherResult?Object.assign(Object.assign({},e),{applyVoucherResult:t.applyVoucherResult}):Object.assign(Object.assign({},e),{applyVoucherResult:null});case n.Hb:return t.selectedTab?Object.assign(Object.assign({},e),{selectedTab:t.selectedTab}):e;case n.I:return t.alert?Object.assign(Object.assign({},e),{alert:t.alert}):Object.assign(Object.assign({},e),{alert:null});case n.f:return Object.assign(Object.assign({},e),{disabledForm:!0});case n.e:return Object.assign(Object.assign({},e),{disabledForm:!1});case n.z:return Object.assign(Object.assign({},e),{disabledForm:!0});case n.y:return Object.assign(Object.assign({},e),{disabledForm:!1});case n.C:return Object.assign(Object.assign({},e),{disabledForm:!0});case n.B:return Object.assign(Object.assign({},e),{disabledForm:!1});case n.nb:return t.paramMake||""==t.paramMake?Object.assign(Object.assign({},e),{paramMake:""!=t.paramMake?t.paramMake:null}):e;case n.ob:return t.paramModel||""==t.paramModel?Object.assign(Object.assign({},e),{paramModel:""!=t.paramModel?t.paramModel:null}):e;case n.qb:return t.paramYear||""==t.paramYear?Object.assign(Object.assign({},e),{paramYear:""!=t.paramYear?t.paramYear:null}):e;case n.pb:return t.paramTrim||""==t.paramTrim?Object.assign(Object.assign({},e),{paramTrim:""!=t.paramTrim?t.paramTrim:null}):e;case n.yb:return t.scroll?Object.assign(Object.assign({},e),{scroll:t.scroll}):Object.assign(Object.assign({},e),{scroll:0});case n.ab:return t.formFullName?Object.assign(Object.assign({},e),{fullName:t.formFullName}):Object.assign(Object.assign({},e),{fullName:null});case n.Z:return t.formEmail?Object.assign(Object.assign({},e),{email:t.formEmail}):Object.assign(Object.assign({},e),{email:null});case n.cb:return t.formPhone?Object.assign(Object.assign({},e),{phone:t.formPhone}):Object.assign(Object.assign({},e),{phone:null});case n.bb:return t.formNote?Object.assign(Object.assign({},e),{note:t.formNote}):Object.assign(Object.assign({},e),{note:null});case n.db:return t.formValidation?Object.assign(Object.assign({},e),{validationForm:t.formValidation}):Object.assign(Object.assign({},e),{validationForm:null});case n.T:return t.consultationCategory?Object.assign(Object.assign({},e),{consultationCategory:t.consultationCategory}):Object.assign(Object.assign({},e),{consultationCategory:null});case n.U:return t.consultationDescription?Object.assign(Object.assign({},e),{consultationDescription:t.consultationDescription}):Object.assign(Object.assign({},e),{consultationDescription:null});default:return e}},routing:r.a});const f=Object(s.c)(b);t.a=f},2:function(e,t,a){"use strict";a.d(t,"ib",(function(){return s})),a.d(t,"Lb",(function(){return r})),a.d(t,"sb",(function(){return n})),a.d(t,"O",(function(){return o})),a.d(t,"P",(function(){return i})),a.d(t,"R",(function(){return c})),a.d(t,"Q",(function(){return l})),a.d(t,"Bb",(function(){return d})),a.d(t,"Cb",(function(){return u})),a.d(t,"Eb",(function(){return h})),a.d(t,"Db",(function(){return p})),a.d(t,"E",(function(){return m})),a.d(t,"N",(function(){return g})),a.d(t,"a",(function(){return b})),a.d(t,"Ab",(function(){return f})),a.d(t,"Fb",(function(){return E})),a.d(t,"n",(function(){return S})),a.d(t,"o",(function(){return y})),a.d(t,"m",(function(){return v})),a.d(t,"t",(function(){return k})),a.d(t,"u",(function(){return N})),a.d(t,"s",(function(){return w})),a.d(t,"q",(function(){return C})),a.d(t,"r",(function(){return P})),a.d(t,"p",(function(){return O})),a.d(t,"c",(function(){return T})),a.d(t,"d",(function(){return I})),a.d(t,"b",(function(){return A})),a.d(t,"G",(function(){return j})),a.d(t,"H",(function(){return F})),a.d(t,"F",(function(){return q})),a.d(t,"C",(function(){return R})),a.d(t,"D",(function(){return D})),a.d(t,"B",(function(){return L})),a.d(t,"w",(function(){return M})),a.d(t,"x",(function(){return B})),a.d(t,"v",(function(){return x})),a.d(t,"f",(function(){return G})),a.d(t,"g",(function(){return V})),a.d(t,"e",(function(){return _})),a.d(t,"i",(function(){return K})),a.d(t,"j",(function(){return Q})),a.d(t,"h",(function(){return U})),a.d(t,"z",(function(){return z})),a.d(t,"A",(function(){return Y})),a.d(t,"y",(function(){return H})),a.d(t,"Ib",(function(){return W})),a.d(t,"wb",(function(){return $})),a.d(t,"gb",(function(){return J})),a.d(t,"hb",(function(){return X})),a.d(t,"tb",(function(){return Z})),a.d(t,"ub",(function(){return ee})),a.d(t,"T",(function(){return te})),a.d(t,"U",(function(){return ae})),a.d(t,"eb",(function(){return se})),a.d(t,"X",(function(){return re})),a.d(t,"rb",(function(){return ne})),a.d(t,"mb",(function(){return oe})),a.d(t,"vb",(function(){return ie})),a.d(t,"Gb",(function(){return ce})),a.d(t,"zb",(function(){return le})),a.d(t,"xb",(function(){return de})),a.d(t,"fb",(function(){return ue})),a.d(t,"S",(function(){return he})),a.d(t,"Ob",(function(){return pe})),a.d(t,"Y",(function(){return me})),a.d(t,"M",(function(){return ge})),a.d(t,"L",(function(){return be})),a.d(t,"K",(function(){return fe})),a.d(t,"V",(function(){return Ee})),a.d(t,"Jb",(function(){return Se})),a.d(t,"jb",(function(){return ye})),a.d(t,"kb",(function(){return ve})),a.d(t,"lb",(function(){return ke})),a.d(t,"W",(function(){return Ne})),a.d(t,"Kb",(function(){return we})),a.d(t,"Nb",(function(){return Ce})),a.d(t,"I",(function(){return Pe})),a.d(t,"k",(function(){return Oe})),a.d(t,"J",(function(){return Te})),a.d(t,"Mb",(function(){return Ie})),a.d(t,"l",(function(){return Ae})),a.d(t,"Hb",(function(){return je})),a.d(t,"nb",(function(){return Fe})),a.d(t,"ob",(function(){return qe})),a.d(t,"qb",(function(){return Re})),a.d(t,"pb",(function(){return De})),a.d(t,"yb",(function(){return Le})),a.d(t,"ab",(function(){return Me})),a.d(t,"Z",(function(){return Be})),a.d(t,"cb",(function(){return xe})),a.d(t,"bb",(function(){return Ge})),a.d(t,"db",(function(){return Ve}));const s="SET_LANGUAGE",r="SET_USER_LOGGEDIN",n="SET_POPULAR_MAKES",o="SET_CAR_MAKES",i="SET_CAR_MODELS",c="SET_CAR_YEARS",l="SET_CAR_TRIMS",d="SET_SELECTED_CAR_MAKE",u="SET_SELECTED_CAR_MODEL",h="SET_SELECTED_CAR_YEAR",p="SET_SELECTED_CAR_TRIM",m="RESET_SELECTED_CAR_MAKE_MODEL_YEAR_TRIM",g="SET_CARS",b="ADD_CAR",f="SET_SELECTED_CAR_INDEX",E="SET_SELECTED_CUST_CAR_ID",S="GET_CARMODELS_REQUESTED",y="GET_CARMODELS_SUCCESS",v="GET_CARMODELS_FAILED",k="GET_CARYEARS_REQUESTED",N="GET_CARYEARS_SUCCESS",w="GET_CARYEARS_FAILED",C="GET_CARTRIMS_REQUESTED",P="GET_CARTRIMS_SUCCESS",O="GET_CARTRIMS_FAILED",T="ADD_CAR_REQUESTED",I="ADD_CAR_SUCCESS",A="ADD_CAR_FAILED",j="SELECT_CAR_REQUEST",F="SELECT_CAR_SUCCESS",q="SELECT_CAR_FAILED",R="PROBLEM_INQUIRY_REQUESTED",D="PROBLEM_INQUIRY_SUCCESS",L="PROBLEM_INQUIRY_FAILED",M="GET_SLOTS_REQUESTED",B="GET_SLOTS_SUCCESS",x="GET_SLOTS_FAILED",G="BOOKING_REQUESTED",V="BOOKING_SUCCESS",_="BOOKING_FAILED",K="CHECK_LOCATION_REQUESTED",Q="CHECK_LOCATION_SUCCESS",U="CHECK_LOCATION_FAILED",z="ORDER_REQUESTED",Y="ORDER_SUCCESS",H="ORDER_FAILED",W="SET_STEP",$="SET_PROGRESS",J="SET_HOTLINE_CONTACT_LABEL",X="SET_HOTLINE_CONTACT_TEL",Z="SET_PROBLEM_CATEGORY",ee="SET_PROBLEM_DESCRIPTION",te="SET_CONSULTATION_CATEGORY",ae="SET_CONSULTATION_DESCRIPTION",se="SET_FULL_NAME",re="SET_EMAIL",ne="SET_PHONE",oe="SET_NOTE",ie="SET_PRODUCT_LINES",ce="SET_SELECTED_PRODUCT",le="SET_SELECTED_ADDON",de="SET_REGULAR_SERVICES",ue="SET_GENERAL_SERVICES",he="SET_CHANGE_SPAREPARTS",pe="SET_WASH_DETAILINGS",me="SET_EMERGENCIES",ge="SET_BOOKED_PRODUCTS",be="SET_BOOKED_INQUIRIES",fe="SET_BOOKED_GROUP",Ee="SET_DATE",Se="SET_TIME",ye="SET_LOCATION",ve="SET_LOCATION_DETAIL",ke="SET_LOCATION_VALID",Ne="SET_DATE_SLOTS",we="SET_TIME_SLOTS",Ce="SET_VOUCHER_RESULT",Pe="SET_ALERT",Oe="CHECK_VOUCHER_QUALIFIED",Te="SET_APPLY_VOUCHER_RESULT",Ie="SET_VOUCHER_CODE",Ae="CHECK_VOUCHER_VALID",je="SET_SELECTED_TAB",Fe="SET_PARAM_MAKE",qe="SET_PARAM_MODEL",Re="SET_PARAM_YEAR",De="SET_PARAM_TRIM",Le="SET_SCROLL",Me="SET_FORM_FULL_NAME",Be="SET_FORM_EMAIL",xe="SET_FORM_PHONE",Ge="SET_FORM_NOTE",Ve="SET_FORM_VALIDATION"},21:function(e,t,a){"use strict";e.exports=function(e,t,a,s,r,n,o,i){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[a,s,r,n,o,i],d=0;(c=new Error(t.replace(/%s/g,(function(){return l[d++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},28:function(e,t,a){"use strict";var s=a(31),r=a.n(s),n={},o=0,i=function(e,t){var a=""+t.end+t.strict+t.sensitive,s=n[a]||(n[a]={});if(s[e])return s[e];var i=[],c={re:r()(e,i,t),keys:i};return o<1e4&&(s[e]=c,o++),c};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments[2];"string"==typeof t&&(t={path:t});var s=t,r=s.path,n=s.exact,o=void 0!==n&&n,c=s.strict,l=void 0!==c&&c,d=s.sensitive,u=void 0!==d&&d;if(null==r)return a;var h=i(r,{end:o,strict:l,sensitive:u}),p=h.re,m=h.keys,g=p.exec(e);if(!g)return null;var b=g[0],f=g.slice(1),E=e===b;return o&&!E?null:{path:r,url:"/"===r&&""===b?"/":b,isExact:E,params:m.reduce((function(e,t,a){return e[t.name]=f[a],e}),{})}}},29:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},3:function(e,t,a){"use strict";a.d(t,"c",(function(){return P})),a.d(t,"b",(function(){return T})),a.d(t,"a",(function(){return A}));var s=a(75),r="object"==typeof self&&self&&self.Object===Object&&self,n=(s.a||r||Function("return this")()).Symbol,o=Object.prototype,i=o.hasOwnProperty,c=o.toString,l=n?n.toStringTag:void 0;var d=function(e){var t=i.call(e,l),a=e[l];try{e[l]=void 0;var s=!0}catch(e){}var r=c.call(e);return s&&(t?e[l]=a:delete e[l]),r},u=Object.prototype.toString;var h=function(e){return u.call(e)},p=n?n.toStringTag:void 0;var m=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":p&&p in Object(e)?d(e):h(e)};var g=function(e,t){return function(a){return e(t(a))}}(Object.getPrototypeOf,Object);var b=function(e){return null!=e&&"object"==typeof e},f=Function.prototype,E=Object.prototype,S=f.toString,y=E.hasOwnProperty,v=S.call(Object);var k=function(e){if(!b(e)||"[object Object]"!=m(e))return!1;var t=g(e);if(null===t)return!0;var a=y.call(t,"constructor")&&t.constructor;return"function"==typeof a&&a instanceof a&&S.call(a)==v},N=a(51),w=a.n(N),C="@@redux/INIT";function P(e,t,a){var s;if("function"==typeof t&&void 0===a&&(a=t,t=void 0),void 0!==a){if("function"!=typeof a)throw new Error("Expected the enhancer to be a function.");return a(P)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var r=e,n=t,o=[],i=o,c=!1;function l(){i===o&&(i=o.slice())}function d(){return n}function u(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return l(),i.push(e),function(){if(t){t=!1,l();var a=i.indexOf(e);i.splice(a,1)}}}function h(e){if(!k(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,n=r(n,e)}finally{c=!1}for(var t=o=i,a=0;a<t.length;a++){(0,t[a])()}return e}return h({type:C}),(s={dispatch:h,subscribe:u,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");r=e,h({type:C})}})[w.a]=function(){var e,t=u;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function a(){e.next&&e.next(d())}return a(),{unsubscribe:t(a)}}})[w.a]=function(){return this},e},s}function O(e,t){var a=t&&t.type;return"Given action "+(a&&'"'+a.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function T(e){for(var t=Object.keys(e),a={},s=0;s<t.length;s++){var r=t[s];0,"function"==typeof e[r]&&(a[r]=e[r])}var n=Object.keys(a);var o=void 0;try{!function(e){Object.keys(e).forEach((function(t){var a=e[t];if(void 0===a(void 0,{type:C}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===a(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+C+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(a)}catch(e){o=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(o)throw o;for(var s=!1,r={},i=0;i<n.length;i++){var c=n[i],l=a[c],d=e[c],u=l(d,t);if(void 0===u){var h=O(c,t);throw new Error(h)}r[c]=u,s=s||u!==d}return s?r:e}}function I(e,t){return function(){return t(e.apply(void 0,arguments))}}function A(e,t){if("function"==typeof e)return I(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var a=Object.keys(e),s={},r=0;r<a.length;r++){var n=a[r],o=e[n];"function"==typeof o&&(s[n]=I(o,t))}return s}Object.assign},31:function(e,t,a){var s=a(80);e.exports=p,e.exports.parse=n,e.exports.compile=function(e,t){return i(n(e,t),t)},e.exports.tokensToFunction=i,e.exports.tokensToRegExp=h;var r=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function n(e,t){for(var a,s=[],n=0,o=0,i="",d=t&&t.delimiter||"/";null!=(a=r.exec(e));){var u=a[0],h=a[1],p=a.index;if(i+=e.slice(o,p),o=p+u.length,h)i+=h[1];else{var m=e[o],g=a[2],b=a[3],f=a[4],E=a[5],S=a[6],y=a[7];i&&(s.push(i),i="");var v=null!=g&&null!=m&&m!==g,k="+"===S||"*"===S,N="?"===S||"*"===S,w=a[2]||d,C=f||E;s.push({name:b||n++,prefix:g||"",delimiter:w,optional:N,repeat:k,partial:v,asterisk:!!y,pattern:C?l(C):y?".*":"[^"+c(w)+"]+?"})}}return o<e.length&&(i+=e.substr(o)),i&&s.push(i),s}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function i(e,t){for(var a=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(a[r]=new RegExp("^(?:"+e[r].pattern+")$",u(t)));return function(t,r){for(var n="",i=t||{},c=(r||{}).pretty?o:encodeURIComponent,l=0;l<e.length;l++){var d=e[l];if("string"!=typeof d){var u,h=i[d.name];if(null==h){if(d.optional){d.partial&&(n+=d.prefix);continue}throw new TypeError('Expected "'+d.name+'" to be defined')}if(s(h)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var p=0;p<h.length;p++){if(u=c(h[p]),!a[l].test(u))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(u)+"`");n+=(0===p?d.prefix:d.delimiter)+u}}else{if(u=d.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):c(h),!a[l].test(u))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+u+'"');n+=d.prefix+u}}else n+=d}return n}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function d(e,t){return e.keys=t,e}function u(e){return e&&e.sensitive?"":"i"}function h(e,t,a){s(t)||(a=t||a,t=[]);for(var r=(a=a||{}).strict,n=!1!==a.end,o="",i=0;i<e.length;i++){var l=e[i];if("string"==typeof l)o+=c(l);else{var h=c(l.prefix),p="(?:"+l.pattern+")";t.push(l),l.repeat&&(p+="(?:"+h+p+")*"),o+=p=l.optional?l.partial?h+"("+p+")?":"(?:"+h+"("+p+"))?":h+"("+p+")"}}var m=c(a.delimiter||"/"),g=o.slice(-m.length)===m;return r||(o=(g?o.slice(0,-m.length):o)+"(?:"+m+"(?=$))?"),o+=n?"$":r&&g?"":"(?="+m+"|$)",d(new RegExp("^"+o,u(a)),t)}function p(e,t,a){return s(t)||(a=t||a,t=[]),a=a||{},e instanceof RegExp?function(e,t){var a=e.source.match(/\((?!\?)/g);if(a)for(var s=0;s<a.length;s++)t.push({name:s,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return d(e,t)}(e,t):s(e)?function(e,t,a){for(var s=[],r=0;r<e.length;r++)s.push(p(e[r],t,a).source);return d(new RegExp("(?:"+s.join("|")+")",u(a)),t)}(e,t,a):function(e,t,a){return h(n(e,a),t,a)}(e,t,a)}},315:function(e,t,a){"use strict";var s=a(0),r=a(1);t.a=()=>s.createElement("div",{className:"row hidden-m"},s.createElement("div",{className:"cover cover-booking",style:{background:"url('https://montircdn.azureedge.net/img/cover-hiw.jpg') no-repeat 38% 0%",backgroundSize:"cover"}},s.createElement("div",{className:"cover-messages"},s.createElement("h1",null,s.createElement(r.a,{EN:"Professional Car Mechanics Delivered to You",ID:"Mekanik Profesional Kami Siap Datang"})),s.createElement("h5",null,s.createElement(r.a,{EN:"Car service at your location • Save up to 30% from repair shop • Service with warranty.",ID:"Servis mobil di lokasi Anda • Lebih hemat 30% dari bengkel • Layanan bergaransi."})))))},320:function(e,t,a){"use strict";var s=a(0),r=a(422),n=a(423),o=a(3),i=a(8),c=a(1),l=a(2);const d=e=>({type:l.Ib,step:e}),u=e=>({type:l.wb,progress:e});class h extends s.Component{constructor(e){super(e),this.state={hotlineContact:e.hotlineContact,newForm:e.newForm,cart:e.cart,wizardStep:e.wizardStep}}componentDidMount(){}componentWillReceiveProps(e){let t=this.state;this.state.newForm!=e.newForm&&(t=Object.assign(Object.assign({},t),{newForm:e.newForm}),this.setState(t)),this.state.cart!=e.cart&&(t=Object.assign(Object.assign({},t),{cart:e.cart}),this.setState(t)),this.state.wizardStep!=e.wizardStep&&(t=Object.assign(Object.assign({},t),{wizardStep:e.wizardStep}),this.setState(t))}openCart(){let e=this.state.wizardStep.step+1;this.props.setStep(e),history.pushState(JSON.stringify({step:e}),document.title,location.href)}handleBack(){history.back();let e=this.state.wizardStep.step-1;this.props.setStep(e)}render(){let e=0;return this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0&&(e+=this.state.cart.bookedProducts.length),this.state.cart.bookedInquiries&&this.state.cart.bookedInquiries.length>0&&(e+=this.state.cart.bookedInquiries.length),s.createElement("div",{className:"booking-navbar visible-m"},1==this.state.wizardStep.step&&s.createElement("button",{type:"button",className:"navbar-cart",onClick:this.openCart.bind(this)},s.createElement("i",{className:"fa fa-shopping-cart"}),e>0&&s.createElement("div",{className:"badge"},e)),this.state.hotlineContact&&""!=this.state.hotlineContact.Label&&""!=this.state.hotlineContact.Tel&&s.createElement("a",{href:this.state.hotlineContact.Tel,className:"navbar-phone"},s.createElement("i",{className:"fa fa-phone"})),1==this.state.wizardStep.step&&s.createElement("a",{href:"/",className:"navbar-back"},s.createElement("i",{className:"fa fa-arrow-left"}),s.createElement("span",{className:"back"},s.createElement(c.a,{EN:"BACK",ID:"KEMBALI"}))),this.state.wizardStep.step>=2&&s.createElement("a",{href:"javascript:void(0)",className:"navbar-back",onClick:this.handleBack.bind(this)},s.createElement("i",{className:"fa fa-arrow-left"}),s.createElement("span",{className:"back"},s.createElement(c.a,{EN:"BACK",ID:"KEMBALI"}))),s.createElement("h1",{className:"navbar-title"},this.state.newForm.selectedTab?this.state.newForm.selectedTab.name:""))}}var p=Object(i.b)(e=>({hotlineContact:e.hotlineContact,newForm:e.newForm,cart:e.cart,wizardStep:e.wizardStep}),e=>({setStep:Object(o.a)(d,e),setProgress:Object(o.a)(u,e)}))(h),m=a(9);class g extends s.Component{constructor(e){super(e),this.state={wizardStep:e.wizardStep,newForm:e.newForm,cart:e.cart,cartOpen:this.props.cartOpen,started:e.wizardStep.progress>0||e.wizardStep.step>1,language:e.language,user:e.user}}componentDidMount(){}componentWillReceiveProps(e){let t=this.state;this.state.wizardStep!=e.wizardStep&&(t=Object.assign(Object.assign({},t),{wizardStep:e.wizardStep}),this.setState(t)),this.state.newForm!=e.newForm&&(t=Object.assign(Object.assign({},t),{newForm:e.newForm}),this.setState(t)),this.state.cart!=e.cart&&(t=Object.assign(Object.assign({},t),{cart:e.cart}),this.setState(t)),this.state.cartOpen!=e.cartOpen&&(t=Object.assign(Object.assign({},t),{cartOpen:e.cartOpen}),this.setState(t))}classFor(e){return this.state.wizardStep.progress>e?" complete":this.state.wizardStep.progress==e?" active":""}classForStep(e){return e+1==this.state.wizardStep.step?" current-step":""}isHidden(){return 1==this.state.wizardStep.step&&this.state.wizardStep.progress<1}handleAnchor(e){this.smoothScrollTo(e.currentTarget.dataset.anchor)}smoothScrollTo(e){$(e).addClass("flash"),setTimeout((function(){$(e).removeClass("flash")}),100);let t=$(e).offset();t&&window.scroll({top:t.top-70,left:0,behavior:"smooth"})}handleNext(){if(1==this.state.wizardStep.step&&1==this.state.cart.bookedGroup){let e=this.state.wizardStep.step+3;this.props.setStep(e),history.pushState(JSON.stringify({step:e}),document.title,location.href);let t=this.state.newForm.consultationCategory,a=this.state.newForm.consultationDescription,s=[],r={id:1,category:t||"",description:a||""};s.push(r),this.props.setBookedInquiries(s,this.state.user.userLoggedin),this.state.newForm.selectedTab&&(1==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(1,this.state.user.userLoggedin):3==this.state.newForm.selectedTab.tab||5==this.state.newForm.selectedTab.tab||6==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(2,this.state.user.userLoggedin):4==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(3,this.state.user.userLoggedin):2==this.state.newForm.selectedTab.tab&&this.props.setBookedGroup(4,this.state.user.userLoggedin))}else if(1==this.state.wizardStep.step){let e=this.state.wizardStep.step+1;this.props.setStep(e),history.pushState(JSON.stringify({step:e}),document.title,location.href)}else if(2==this.state.wizardStep.step&&3==this.state.cart.bookedGroup){let e=this.state.wizardStep.step+2;this.props.setStep(e),history.pushState(JSON.stringify({step:e}),document.title,location.href)}else if(2==this.state.wizardStep.step&&this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0){let e=this.state.wizardStep.step+1;this.props.setStep(e),history.pushState(JSON.stringify({step:e}),document.title,location.href)}else if(2==this.state.wizardStep.step&&this.state.cart.bookedProducts&&0==this.state.cart.bookedProducts.length||!this.state.cart.bookedProducts){let e=this.state.wizardStep.step+2;this.props.setStep(e),history.pushState(JSON.stringify({step:e}),document.title,location.href)}else{let e=this.state.wizardStep.step+1;this.props.setStep(e),history.pushState(JSON.stringify({step:e}),document.title,location.href)}}handleCart(e){this.props.onOpenCart&&this.props.onOpenCart(!0)}cartProductValid(){let e=!0;if(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0){for(let t of this.state.cart.bookedProducts)if(t.addons&&t.addons)for(let a of t.addons)a.mandatory&&!a.added&&(e=!1)}else e=!1;return e}render(){let e="Car Model",t="Pilih Mobil",a="Car Selected",r="Mobil Dipilih",n="Describe What You Needs",o="Jelaskan Kebutuhan",i="Location",l="Lokasi",d="Location & Time",u="Lokasi & Waktu",h="Contact Info",p="Info Kontak",m="BACK",g="KEMBALI",b="NEXT",f="LANJUT",E="START",S="MULAI",y="Open cart",v="Buka keranjang";return s.createElement("text",null,s.createElement("div",{className:"progress-row sticky hidden-m"+(this.isHidden()?" hide-bar":"")},s.createElement("div",{className:"container"},s.createElement("a",{href:"javascript:void(0)",className:"cart-toggle",onClick:this.handleCart.bind(this)},s.createElement("i",{className:"fa fa-shopping-cart"}),s.createElement(c.a,{EN:y,ID:v}),s.createElement("span",{className:"caret"})),s.createElement("div",{className:"col-sm-3 col-m-12"+this.classForStep(0)+this.classFor(0)},s.createElement("div",{className:"progress-status"+this.classFor(0)},s.createElement("div",{"data-anchor":"#select-car",className:"hidden-m",onClick:this.handleAnchor.bind(this)},s.createElement(c.a,{EN:e,ID:t})),s.createElement("div",{className:"visible-m"},0==this.state.wizardStep.progress?s.createElement(c.a,{EN:e,ID:t}):s.createElement(c.a,{EN:a,ID:r})),s.createElement("a",{href:"javascript:void(0)",className:"visible-m next-step"},this.state.started?s.createElement(c.a,{EN:b,ID:f}):s.createElement(c.a,{EN:E,ID:S})," ",s.createElement("i",{className:"fa fa-angle-right"})))),s.createElement("div",{className:"col-sm-3 col-m-12"+this.classForStep(1)+this.classFor(1)},s.createElement("div",{className:"progress-status"+this.classFor(1)},s.createElement("div",{"data-anchor":"#select-services",className:"hidden-m",onClick:this.handleAnchor.bind(this)},s.createElement(c.a,{EN:n,ID:o})),s.createElement("div",{className:"visible-m"},s.createElement(c.a,{EN:n,ID:o})),s.createElement("a",{href:"javascript:void(0)",className:"visible-m next-step"},this.state.started?s.createElement(c.a,{EN:b,ID:f}):s.createElement(c.a,{EN:E,ID:S})," ",s.createElement("i",{className:"fa fa-angle-right"})))),s.createElement("div",{className:"col-sm-3 col-m-12"+this.classForStep(2)+this.classFor(2)},s.createElement("div",{className:"progress-status"+this.classFor(2)},s.createElement("div",{"data-anchor":"#make-appointment",className:"hidden-m",onClick:this.handleAnchor.bind(this)},this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0?s.createElement(c.a,{EN:d,ID:u}):s.createElement(c.a,{EN:i,ID:l})),s.createElement("div",{className:"visible-m"},this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0?s.createElement(c.a,{EN:d,ID:u}):s.createElement(c.a,{EN:i,ID:l})),s.createElement("a",{href:"javascript:void(0)",className:"visible-m prev-step"},s.createElement("i",{className:"fa fa-angle-left"})," ",s.createElement(c.a,{EN:m,ID:g})),s.createElement("a",{href:"javascript:void(0)",className:"visible-m next-step"},s.createElement(c.a,{EN:b,ID:f})," ",s.createElement("i",{className:"fa fa-angle-right"})))),s.createElement("div",{className:"col-sm-3 col-m-12"+this.classForStep(3)+this.classFor(3)},s.createElement("div",{className:"progress-status"+this.classFor(3)},s.createElement("div",{"data-anchor":"#contact-info",className:"hidden-m",onClick:this.handleAnchor.bind(this)},s.createElement(c.a,{EN:h,ID:p})),1==this.state.wizardStep.progress&&s.createElement("div",{className:"cart visible-m"},s.createElement(c.a,{EN:h,ID:p})),s.createElement("a",{href:"javascript:void(0)",className:"visible-m prev-step"},s.createElement("i",{className:"fa fa-angle-left"})," ",s.createElement(c.a,{EN:m,ID:g})))),s.createElement("div",{className:"progress-bar progress-"+this.state.wizardStep.progress}))),(this.cartProductValid()||this.state.cart.bookedInquiries&&this.state.cart.bookedInquiries.length>0)&&(1==this.state.wizardStep.step||2==this.state.wizardStep.step)&&s.createElement("div",{className:"footer-next visible-m"},s.createElement("button",{className:"btn btn-default",onClick:this.handleNext.bind(this)},s.createElement(c.a,{EN:b,ID:f}),s.createElement("i",{className:"fa fa-arrow-right"}))),this.cartProductValid()&&this.state.newForm.date&&this.state.newForm.time&&this.state.newForm.location&&this.state.newForm.locationValid&&3==this.state.wizardStep.step&&s.createElement("div",{className:"footer-next visible-m"},s.createElement("button",{className:"btn btn-default",onClick:this.handleNext.bind(this)},s.createElement(c.a,{EN:b,ID:f}),s.createElement("i",{className:"fa fa-arrow-right"}))))}}var b=Object(i.b)(e=>({wizardStep:e.wizardStep,newForm:e.newForm,cart:e.cart,language:e.language,user:e.user}),e=>({setStep:Object(o.a)(d,e),setProgress:Object(o.a)(u,e),setBookedInquiries:Object(o.a)(m.b,e),setBookedGroup:Object(o.a)(m.a,e)}))(g),f=a(7),E=a(11),S=a(12);const y=(e,t)=>{if(localStorage&&!t)try{localStorage.setItem(S.g,e.toString())}catch(e){}return{type:l.lb,locationValid:e}},v=e=>"/api/models/"+encodeURIComponent(e),k=(e,t)=>"/api/models/"+encodeURIComponent(e)+"/"+encodeURIComponent(t),N=(e,t,a)=>"/api/models/"+encodeURIComponent(e)+"/"+encodeURIComponent(t)+"/"+encodeURIComponent(a),w=(e,t)=>{let a="",s=[];for(let e of t)s.push("pids="+e);s.length>0&&(a+="?"+s.join("&"));var r=E.ajax({url:"/api/slots"+a,type:"GET",dataType:"json",success:(a,s,r)=>{var n;e(P(t)),e((n=a,{type:l.W,dateSlots:n}))},error:(a,s,r)=>{e(O(t,r))}});e(C(t,r))},C=(e,t)=>({type:l.w,pids:e,jqXhr:t}),P=e=>({type:l.x,pids:e}),O=(e,t)=>({type:l.v,pids:e,errorMessage:t});var T=a(15);class I extends s.Component{constructor(e){super(e),this.state={cart:e.cart,language:e.language,user:e.user,wizardStep:e.wizardStep,productSelection:e.productSelection,newForm:e.newForm,carSelection:e.carSelection}}componentDidMount(){}componentWillReceiveProps(e){let t=this.state;this.state.cart!=e.cart&&(t=Object.assign(Object.assign({},t),{cart:e.cart}),this.setState(t)),this.state.wizardStep!=e.wizardStep&&(t=Object.assign(Object.assign({},t),{wizardStep:e.wizardStep}),this.setState(t)),this.state.productSelection!=e.productSelection&&(t=Object.assign(Object.assign({},t),{productSelection:e.productSelection}),this.setState(t)),this.state.newForm!=e.newForm&&(t=Object.assign(Object.assign({},t),{newForm:e.newForm}),this.setState(t)),this.state.carSelection!=e.carSelection&&(t=Object.assign(Object.assign({},t),{carSelection:e.carSelection}),this.setState(t))}productNeedsQuotation(e){if(e){if(1==e.quote)return!0;if(e.addons)for(let t of e.addons)if(1==t.quote)return!0}return!1}handleIncreaseProduct(e){let t=e.currentTarget.dataset.productId;if(this.state.cart.bookedProducts){for(let e of this.state.cart.bookedProducts)e.id==t&&(e.q=e.q?e.q<10?e.q+1:10:2);this.props.setBookedProducts(this.state.cart.bookedProducts,this.state.user.userLoggedin),this.props.checkVoucherValid(this.state.cart.bookedProducts,this.state.newForm.applyVoucherResult)}}handleDecreaseProduct(e){let t=e.currentTarget.dataset.productId;if(this.state.cart.bookedProducts){for(let e of this.state.cart.bookedProducts)if(e.id==t&&(e.q=e.q&&e.q>1?e.q-1:1,e.addons))for(let t of e.addons)t.q&&t.q>e.q&&(t.q=e.q);this.props.setBookedProducts(this.state.cart.bookedProducts,this.state.user.userLoggedin),this.props.checkVoucherValid(this.state.cart.bookedProducts,this.state.newForm.applyVoucherResult)}}handleIncreaseAddon(e){let t=e.currentTarget.dataset.productId,a=e.currentTarget.dataset.addonId;if(this.state.cart.bookedProducts){for(let e of this.state.cart.bookedProducts)if(e.id==t&&e.addons)for(let t of e.addons)if(t.id==a){let a=e.q?e.q:1,s=t.q?t.q<10?t.q+1:10:1;s<=a&&(t.q=s)}this.props.setBookedProducts(this.state.cart.bookedProducts,this.state.user.userLoggedin),this.props.checkVoucherValid(this.state.cart.bookedProducts,this.state.newForm.applyVoucherResult)}}handleDecreaseAddon(e){let t=e.currentTarget.dataset.productId,a=e.currentTarget.dataset.addonId;if(this.state.cart.bookedProducts){for(let e of this.state.cart.bookedProducts)if(e.id==t&&e.addons)for(let t of e.addons)t.id==a&&(t.q=t.q&&t.q>0?t.q-1:0);this.props.setBookedProducts(this.state.cart.bookedProducts,this.state.user.userLoggedin),this.props.checkVoucherValid(this.state.cart.bookedProducts,this.state.newForm.applyVoucherResult)}}handleToggleAddon(e){let t=e.currentTarget.dataset.productId,a=e.currentTarget.dataset.addonId;if(this.state.cart.bookedProducts){for(let e of this.state.cart.bookedProducts)if(e.id==t&&e.addons)for(let t of e.addons)t.id==a&&(t.added=!t.added);this.props.setBookedProducts(this.state.cart.bookedProducts,this.state.user.userLoggedin),this.props.checkVoucherValid(this.state.cart.bookedProducts,this.state.newForm.applyVoucherResult)}}removeProduct(e){let t={title:("EN"==this.state.language?"Remove ":"Keluarkan ")+e.name+("EN"==this.state.language?" from cart?":" dari keranjang?"),message:e.addons&&e.addons.length>0?e.name+("EN"==this.state.language?" and all of its optional services will be removed from cart.":" dan semua layanan tambahannya akan dikeluarkan dari keranjang."):null,okButton:"EN"==this.state.language?"REMOVE":"KELUARKAN",cancelButton:"EN"==this.state.language?"CANCEL":"BATAL",okOnly:!1,ok:function(){let t=e.id,a=[];if(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0){a=this.state.cart.bookedProducts.slice();for(let e=0;e<a.length;e++)if(a[e].id==t){a.splice(e,1);break}}this.props.setBookedProducts(a,this.state.user.userLoggedin),this.props.checkVoucherValid(a,this.state.newForm.applyVoucherResult);let s=[];for(let e of a)s.push(e.id);this.props.getSlotsAsync(s);let r=[];this.state.cart.bookedInquiries&&this.state.cart.bookedInquiries.length>0&&(r=this.state.cart.bookedInquiries),a.length>0||r.length>0?this.props.setProgress(2):(this.props.setStep(1),this.props.setProgress(1),this.props.setBookedGroup(null,this.state.user.userLoggedin))}.bind(this)};this.props.setAlert(t)}handleEditProduct(e){if(this.state.productSelection.productLines)for(let t of this.state.productSelection.productLines)for(let a of t.categories)for(let t of a.products)if(t.id==e)return void this.props.setSelectedProduct(t)}getMandatoryAddons(){let e=[],t=this.props.bookedProduct.addons;if(t)for(let a of t)a.mandatory&&e.push(a);return e}checkOptionalAddonsVisible(){let e=!0,t=this.props.bookedProduct.addons;if(t)for(let a of t)a.mandatory&&!a.added&&(e=!1);return e}render(){let e=this.productNeedsQuotation(this.props.bookedProduct),t=this.getMandatoryAddons(),a=this.checkOptionalAddonsVisible();return s.createElement("div",{className:"new-booked-product"},this.state.wizardStep.step<3&&s.createElement("a",{href:"javascript:void(0)",className:"remove fa fa-trash","data-product-id":this.props.bookedProduct.id,onClick:this.removeProduct.bind(this,this.props.bookedProduct)}),s.createElement("h6",null,this.props.bookedProduct.name),0==t.length&&this.props.bookedProduct.part&&!e&&s.createElement("div",{className:"booked-part"},s.createElement("div",{className:"price"},this.props.bookedProduct.part.q&&this.props.bookedProduct.part.q>0?"Rp "+(this.props.bookedProduct.part.q*this.props.bookedProduct.part.p).toLocaleString():"Rp "+this.props.bookedProduct.part.p.toLocaleString()),s.createElement("div",{className:"name"},this.props.bookedProduct.part.unit?this.props.bookedProduct.part.q+" "+this.props.bookedProduct.part.unit+" "+this.props.bookedProduct.part.name:this.props.bookedProduct.part.name)),0==t.length&&this.props.bookedProduct.p&&this.props.bookedProduct.p>0&&!e?s.createElement("div",{className:"booked-part"},s.createElement("div",{className:"price"},"Rp ",(this.props.bookedProduct.p+(this.props.bookedProduct.addons?this.props.bookedProduct.addons.reduce((e,t)=>e+(t.recommended&&t.added?t.selectedPart?t.p+t.selectedPart.p*(t.q?t.q:1):t.p:0),0):0)).toLocaleString()),this.props.bookedProduct.hasQuantity&&s.createElement("div",{className:"qty-box"},s.createElement("span",{"data-product-id":this.props.bookedProduct.id,onClick:this.handleDecreaseProduct.bind(this),className:"dec"+(this.props.bookedProduct.q&&this.props.bookedProduct.q>1?" minus":" disabled")},"-"),s.createElement("span",{className:"qty"},this.props.bookedProduct.q?this.props.bookedProduct.q:1),s.createElement("span",{"data-product-id":this.props.bookedProduct.id,onClick:this.handleIncreaseProduct.bind(this),className:"inc"+(this.props.bookedProduct.q?this.props.bookedProduct.q<10?" plus":" disabled":" plus")},"+")),!this.props.bookedProduct.hasQuantity&&s.createElement("div",{className:"name"},this.props.bookedProduct.part?s.createElement(c.a,{EN:"Service fee",ID:"Harga jasa"}):s.createElement(c.a,{EN:"Price",ID:"Harga"}))):null,0==t.length&&e&&s.createElement("div",{className:"booked-part"},s.createElement("div",{className:"name"},s.createElement(c.a,{EN:"Price will be given info via email and phone",ID:"Harga akan diinfokan via email dan telepon"}))),t.length>0&&t.map((function(e,t){return s.createElement("div",{key:e.id,className:"booked-part"},e.selectedPart&&s.createElement("div",{className:"price"},"Rp ",(e.p+e.selectedPart.p*(e.selectedPart.q?e.selectedPart.q:1)).toLocaleString()),!e.selectedPart&&s.createElement("div",{className:"price"},"Rp ",e.p.toLocaleString()),s.createElement("div",{className:"name"},e.name))}),this),a&&this.props.bookedProduct.addons&&this.props.bookedProduct.addons.length>0&&s.createElement("div",{className:"booked-addons"},this.props.bookedProduct.addons.map((function(t,a){return t.mandatory?null:t.hasQuantity?s.createElement("div",{key:t.id,className:"booked-part"},s.createElement("div",{className:"qty-box"},s.createElement("span",{"data-addon-id":t.id,"data-product-id":this.props.bookedProduct.id,onClick:this.handleDecreaseAddon.bind(this),className:"dec"+(t.q&&t.q>0?" minus":" disabled")},"-"),s.createElement("span",{className:"qty"},t.q?t.q:0),s.createElement("span",{"data-addon-id":t.id,"data-product-id":this.props.bookedProduct.id,onClick:this.handleIncreaseAddon.bind(this),className:"inc"+(t.q?t.q<10?" plus":" disabled":" plus")},"+")),t.added&&t.selectedPart&&!e&&s.createElement("div",{className:"price"},"Rp ",(t.p+t.selectedPart.p*(t.selectedPart.q?t.selectedPart.q:1)).toLocaleString()),t.added&&!t.selectedPart&&!e&&s.createElement("div",{className:"price"},"Rp ",t.p.toLocaleString()),s.createElement("div",{className:"addon-name"},t.name)):s.createElement("div",{key:t.id,className:"booked-part"},s.createElement("a",{href:"javascript:void(0)",className:"switch"+(t.added?" on":""),"data-product-id":this.props.bookedProduct.id,"data-addon-id":t.id,onClick:this.handleToggleAddon.bind(this)},s.createElement("i",{className:"fa fa-check"})),t.added&&t.selectedPart&&s.createElement("div",{className:"price"},"Rp ",(t.p+t.selectedPart.p*(t.selectedPart.q?t.selectedPart.q:0)).toLocaleString()),t.added&&!t.selectedPart&&s.createElement("div",{className:"price"},"Rp ",t.p.toLocaleString()),s.createElement("div",{className:"addon-name"},t.name))}),this)))}}var A=Object(i.b)(e=>({cart:e.cart,language:e.language,user:e.user,wizardStep:e.wizardStep,productSelection:e.productSelection,newForm:e.newForm,carSelection:e.carSelection}),e=>({setSelectedProduct:Object(o.a)(T.g,e),setBookedProducts:Object(o.a)(m.c,e),setAlert:Object(o.a)(f.c,e),setProgress:Object(o.a)(u,e),setStep:Object(o.a)(d,e),checkQualifiedVoucher:Object(o.a)(f.a,e),getSlotsAsync:t=>w(e,t),setBookedGroup:Object(o.a)(m.a,e),checkVoucherValid:Object(o.a)(f.b,e)}))(I);class j extends s.Component{constructor(e){super(e),this.state={language:e.language,cart:e.cart,newForm:e.newForm,voucherApplied:!1,voucherIsApplying:!1,carSelection:e.carSelection}}componentDidMount(){}componentWillReceiveProps(e){let t=this.state;this.state.cart!=e.cart&&(t=Object.assign(Object.assign({},t),{cart:e.cart}),this.setState(t)),this.state.newForm!=e.newForm&&(t=Object.assign(Object.assign({},t),{newForm:e.newForm}),this.setState(t)),this.state.carSelection!=e.carSelection&&(t=Object.assign(Object.assign({},t),{carSelection:e.carSelection}),this.setState(t))}handleChangeField(e){e.currentTarget.value!=this.state.voucherCode&&this.setState({voucherCode:e.currentTarget.value})}handleApplyVoucher(e){this.setState({voucherIsApplying:!0},(function(){let e,t=[];if(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0)for(let e of this.state.cart.bookedProducts){let a={addons:e.addons,hasAddons:e.hasAddons,hasParts:e.hasParts,hasQuantity:e.hasQuantity,id:e.id,name:e.name,p:e.p,part:e.part,q:e.q&&e.q>1?e.q:1,quote:e.quote,subtotal:e.subtotal};if(e.part&&(a.part={brand:e.part.brand,d:e.part.d,icon:e.part.icon,id:e.part.id,lp:e.part.lp,name:e.part.name,p:e.part.p,q:e.part.q,type:e.part.type,unit:e.part.unit}),e.addons){a.addons=[];for(let t of e.addons)t.hasQuantity?t.q&&t.q>=1&&a.addons.push(t):t.added&&(t.q=t.q&&t.q>1?t.q:1,a.addons.push(t))}t.push(a)}this.state.carSelection.cars&&this.state.carSelection.cars.length>0&&(e=null!=this.state.carSelection.selectedCarIndex?{custCarId:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].custCarId?this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].custCarId:1,make:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].make,model:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].model,year:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].year,trim:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].trim}:this.state.carSelection.cars.find(e=>e.custCarId==this.state.carSelection.selectedCustCarId)),E.ajax({url:"/api/apply-voucher",method:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify({car:e,contact:{name:this.state.newForm.fullName,email:this.state.newForm.email,phone:this.state.newForm.phone,notes:this.state.newForm.note},products:t,date:null,time:null,location:null,locationDetails:null,voucher:this.state.voucherCode}),success:function(e,t,a){e.valid?this.setState({voucherApplied:!0}):this.setState({voucherValidation:e.message}),this.props.setApplyVoucherResult(e),this.props.setVoucherCode(this.state.voucherCode)}.bind(this),error:function(e,t,a){this.props.setApplyVoucherResult(null),this.props.setVoucherCode(null)}.bind(this),complete:function(e,t){this.setState({voucherIsApplying:!1})}.bind(this)})}))}handleChangeVoucher(e){this.setState({voucherApplied:!1,voucherValidation:void 0},(function(){this.props.setApplyVoucherResult(null),this.props.setVoucherCode(null)}))}render(){return s.createElement("div",null,this.state.voucherApplied&&this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0&&s.createElement("div",{className:"applied-voucher"+(this.state.newForm.applyVoucherResult&&!this.state.newForm.applyVoucherResult.valid?" not-valid":"")},s.createElement("img",{src:"/img/icon-giftcard.svg",className:"icon-gift"}),s.createElement("span",{className:"code"+(this.state.newForm.applyVoucherResult&&!this.state.newForm.applyVoucherResult.valid?" line-through":"")},this.state.voucherCode),this.state.newForm.applyVoucherResult&&this.state.newForm.applyVoucherResult.valid&&s.createElement("i",{className:"fa fa-check icon-accept hover-able",onClick:this.handleChangeVoucher.bind(this)}),this.state.newForm.applyVoucherResult&&!this.state.newForm.applyVoucherResult.valid&&s.createElement("div",{className:"validation-error text-danger"},this.state.newForm.applyVoucherResult&&this.state.newForm.applyVoucherResult.message)),!this.state.voucherApplied&&this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0&&s.createElement("div",{className:"booking-voucher"},s.createElement("h6",null,s.createElement(c.a,{EN:"Got voucher code?",ID:"Punya kode voucher?"})),s.createElement("div",{className:"voucher-input"},s.createElement("div",{className:"voucher-input-icon"},s.createElement("img",{src:"/img/icon-voucher.png"})),s.createElement("input",{type:"text",ref:e=>{this.voucher=e},placeholder:"EN"==this.state.language?"Code…":"Kode...",onChange:this.handleChangeField.bind(this)}),s.createElement("button",{className:"btn btn-default",disabled:this.state.voucherIsApplying,onClick:!this.state.voucherIsApplying&&this.handleApplyVoucher.bind(this)},this.state.voucherIsApplying?s.createElement("i",{className:"applying"}):s.createElement(c.a,{EN:"APPLY",ID:"GUNAKAN"}))),this.state.voucherValidation&&s.createElement("div",{className:"validation-error text-danger"},this.state.voucherValidation)))}}var F=Object(i.b)(e=>({language:e.language,cart:e.cart,newForm:e.newForm,carSelection:e.carSelection}),e=>({setVoucherResult:Object(o.a)(f.y,e),checkQualifiedVoucher:Object(o.a)(f.a,e),setApplyVoucherResult:Object(o.a)(f.d,e),setVoucherCode:Object(o.a)(f.x,e)}))(j);const q=(e,t,a,s,r,n,o,i,c,l,d,u,h,p)=>{var m=$.ajax({url:"/api/book",type:"POST",headers:{AntiForgeryToken:document.getElementsByName("__RequestVerificationToken").item(0).value},contentType:"application/json; charset=utf-8",data:JSON.stringify({car:t,contact:{name:a,email:s,phone:r,notes:n},products:o,date:i,time:c,location:l,locationDetails:d,voucher:u}),dataType:"json",success:(t,a,s)=>{if(e(D()),localStorage&&!p)try{localStorage.removeItem(S.d),localStorage.removeItem(S.c)}catch(e){}"ID"==h?window.location.href="/pesan/status-order/"+t.receipt:"EN"==h&&(window.location.href="/en/book/order-status/"+t.receipt)},error:(t,a,s)=>{e(L(s))}});e(R(m))},R=e=>({type:l.f,jqXhr:e}),D=()=>({type:l.g}),L=e=>({type:l.e,errorMessage:e}),M=(e,t,a,s,r,n,o,i)=>{var c=$.ajax({url:"/api/problem-inquiry",type:"POST",headers:{AntiForgeryToken:document.getElementsByName("__RequestVerificationToken").item(0).value},contentType:"application/json; charset=utf-8",data:JSON.stringify({car:t,contact:{name:a,email:s,phone:r},category:n,inquiry:o}),dataType:"json",success:(t,a,s)=>{e(x()),"ID"==i?window.location.href="/pesan/status-order/"+t.hash:"EN"==i&&(window.location.href="/en/book/order-status/"+t.hash)},error:(t,a,s)=>{e(G(s))}});e(B(c))},B=e=>({type:l.C,jqXhr:e}),x=()=>({type:l.D}),G=e=>({type:l.B,errorMessage:e}),V=(e,t,a,s,r,n,o,i,c,l,d,u,h,p,m,g)=>{var b=$.ajax({url:"/api/order",type:"POST",headers:{AntiForgeryToken:document.getElementsByName("__RequestVerificationToken").item(0).value},contentType:"application/json; charset=utf-8",data:JSON.stringify({car:t,contact:{name:a,email:s,phone:r,notes:n},products:o,date:i,time:c,location:l,locationDetails:d,voucher:u,consultationCategory:h,consultationMessage:p}),dataType:"json",success:(t,a,s)=>{e(K()),localStorage&&!g&&(localStorage.removeItem(S.d),localStorage.removeItem(S.c)),"ID"==m?window.location.href="/pesan/tagihan/"+t.receipt:"EN"==m&&(window.location.href="/en/book/invoice/"+t.receipt)},error:(t,a,s)=>{e(Q(s))}});e(_(b))},_=e=>({type:l.z,jqXhr:e}),K=()=>({type:l.A}),Q=e=>({type:l.y,errorMessage:e});class U extends s.Component{constructor(e){super(e),this.state=Object.assign({carSelection:e.carSelection,cart:e.cart,newForm:e.newForm,wizardStep:e.wizardStep,language:e.language,cartOpen:this.props.cartOpen},this.getDataProps(e))}getDataProps(e){let t,a=e.carSelection.cars,s=e.carSelection.selectedCustCarId,r=e.carSelection.selectedCarIndex;return s?a&&a.length>0&&(t=a.find(e=>e.custCarId==s)):null!=r&&a&&a.length>0&&(t=a[r]),{selectedCar:t}}componentDidMount(){}componentWillReceiveProps(e){let t=this.state;if(this.state.carSelection!=e.carSelection){let a,s=e.carSelection.cars,r=e.carSelection.selectedCustCarId,n=e.carSelection.selectedCarIndex;r?s&&s.length>0&&(a=s.find(e=>e.custCarId==r)):null!=n&&s&&s.length>0&&(a=s[n]),t=Object.assign(Object.assign({},t),{carSelection:e.carSelection,selectedCar:a}),this.setState(t)}this.state.cart!=e.cart&&(t=Object.assign(Object.assign({},t),{cart:e.cart}),this.setState(t)),this.state.newForm!=e.newForm&&(t=Object.assign(Object.assign({},t),{newForm:e.newForm}),this.setState(t)),this.state.wizardStep!=e.wizardStep&&(t=Object.assign(Object.assign({},t),{wizardStep:e.wizardStep}),this.setState(t)),this.state.cartOpen!=e.cartOpen&&(t=Object.assign(Object.assign({},t),{cartOpen:e.cartOpen}),this.setState(t))}smoothScrollTo(e){$(e).addClass("flash"),setTimeout((function(){$(e).removeClass("flash")}),100);let t=$(e).offset();t&&window.scroll({top:t.top-70,left:0,behavior:"smooth"})}totalSummary(){if(this.needsQuotation())return s.createElement("div",{className:"new-booking-sidebar-footer"},s.createElement("div",{className:"new-booking-sidebar-total"},s.createElement("div",{className:"grand-total"},s.createElement("div",{className:"price"},"Rp -"),s.createElement("div",{className:"name"},s.createElement(c.a,{EN:"Grand Total",ID:"Total Harga"})))));if(this.state.newForm.applyVoucherResult&&this.state.newForm.applyVoucherResult.valid&&this.getTotalApplyVoucher()!=this.getTotal()){let e=.1*this.getTotalApplyVoucher();return s.createElement("div",{className:"new-booking-sidebar-footer"},s.createElement("div",{className:"new-booking-sidebar-total"},s.createElement("div",{className:"voucher-total"},s.createElement("div",{className:"price"},"-Rp ",(this.getTotal()-this.getTotalApplyVoucher()).toLocaleString()),s.createElement("div",{className:"name"},s.createElement(c.a,{EN:"Discount Voucher",ID:"Voucher Diskon"}))),s.createElement("div",{className:"voucher-total"},s.createElement("div",{className:"price"},"Rp ",e.toLocaleString()),s.createElement("div",{className:"name"},"PPN 10%")),s.createElement("div",{className:"grand-total"},s.createElement("div",{className:"price"},"Rp ",(this.getTotalApplyVoucher()+e).toLocaleString()),s.createElement("div",{className:"name"},s.createElement(c.a,{EN:"Grand Total",ID:"Total Harga"})))))}if(this.state.newForm.voucherResult&&"Available"==this.state.newForm.voucherResult.status&&this.getTotalDiscount()!=this.getTotal()&&this.state.newForm.voucherResult.qualified){let e=.1*this.getTotalDiscount();return s.createElement("div",{className:"new-booking-sidebar-footer"},s.createElement("div",{className:"new-booking-sidebar-total"},s.createElement("div",{className:"voucher-total"},s.createElement("div",{className:"price"},"-Rp ",(this.getTotal()-this.getTotalDiscount()).toLocaleString()),s.createElement("div",{className:"name"},s.createElement(c.a,{EN:"Discount Voucher",ID:"Voucher Diskon"}))),s.createElement("div",{className:"voucher-total"},s.createElement("div",{className:"price"},"Rp ",e.toLocaleString()),s.createElement("div",{className:"name"},"PPN 10%")),s.createElement("div",{className:"grand-total"},s.createElement("div",{className:"price"},"Rp ",(this.getTotalDiscount()+e).toLocaleString()),s.createElement("div",{className:"name"},s.createElement(c.a,{EN:"Grand Total",ID:"Total Harga"})))))}{let e=.1*this.getTotal();return s.createElement("div",{className:"new-booking-sidebar-footer"},s.createElement("div",{className:"new-booking-sidebar-total"},s.createElement("div",{className:"voucher-total"},s.createElement("div",{className:"price"},"Rp ",e.toLocaleString()),s.createElement("div",{className:"name"},"PPN 10%")),s.createElement("div",{className:"grand-total"},s.createElement("div",{className:"price"},"Rp ",(this.getTotal()+e).toLocaleString()),s.createElement("div",{className:"name"},s.createElement(c.a,{EN:"Grand Total",ID:"Total Harga"})))))}}getTotal(){let e=0;if(this.state.cart.bookedProducts)for(let t of this.state.cart.bookedProducts)if(t.q?e+=(t.p?t.p:0)*t.q:e+=t.p?t.p:0,t.part&&(e+=t.part.p*(t.part.q?t.part.q:1)),t.addons)for(let a of t.addons)a.hasQuantity?a.q&&a.q>0&&(a.selectedPart?e+=(a.p+a.selectedPart.p*(a.selectedPart.q?a.selectedPart.q:1))*a.q:e+=a.p*a.q):a.added&&(e+=a.p,a.selectedPart&&(e+=a.selectedPart.p*(a.selectedPart.q?a.selectedPart.q:1)));return e}getTotalApplyVoucher(){let e=0,t=0;if(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0)for(let t of this.state.cart.bookedProducts)if(t.q?e+=(t.p?t.p:0)*t.q:e+=t.p?t.p:0,t.part&&(e+=t.part.p*(t.part.q?t.part.q:1)),t.addons)for(let a of t.addons)a.hasQuantity?a.q&&a.q>0&&(a.selectedPart?e+=(a.p+a.selectedPart.p*(a.selectedPart.q?a.selectedPart.q:1))*a.q:e+=a.p*a.q):a.added&&(e+=a.p,a.selectedPart&&(e+=a.selectedPart.p*(a.selectedPart.q?a.selectedPart.q:1)));if(this.state.newForm.applyVoucherResult&&this.state.newForm.applyVoucherResult.valid&&this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0){for(let e of this.state.cart.bookedProducts)if(e.id!=this.state.newForm.applyVoucherResult.freeProductId&&(e.q?t+=(e.p?e.p:0)*e.q:t+=e.p?e.p:0,e.part&&(t+=e.part.p*(e.part.q?e.part.q:1)),e.addons))for(let a of e.addons)a.hasQuantity?a.q&&a.q>0&&(a.selectedPart?t+=(a.p+a.selectedPart.p*(a.selectedPart.q?a.selectedPart.q:1))*a.q:t+=a.p*a.q):a.added&&(t+=a.p,a.selectedPart&&(t+=a.selectedPart.p*(a.selectedPart.q?a.selectedPart.q:1)));this.state.newForm.applyVoucherResult.value&&(t-=this.state.newForm.applyVoucherResult.value)}return e!=t?t:e}getTotalDiscount(){let e=0,t=0;if(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0)for(let t of this.state.cart.bookedProducts)if(t.q?e+=(t.p?t.p:0)*t.q:e+=t.p?t.p:0,t.part&&(e+=t.part.p*(t.part.q?t.part.q:1)),t.addons)for(let a of t.addons)a.hasQuantity?a.q&&a.q>0&&(a.selectedPart?e+=(a.p+a.selectedPart.p*(a.selectedPart.q?a.selectedPart.q:1))*a.q:e+=a.p*a.q):a.added&&(e+=a.p,a.selectedPart&&(e+=a.selectedPart.p*(a.selectedPart.q?a.selectedPart.q:1)));if(this.state.newForm.voucherResult)if(this.state.newForm.voucherResult.pids&&this.state.newForm.voucherResult.pids.length>0){if(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0)for(let e of this.state.cart.bookedProducts){for(let a of this.state.newForm.voucherResult.pids)e.id==a&&("Rupiah"==this.state.newForm.voucherResult.du?t+=this.state.newForm.voucherResult.dr:"Percent"==this.state.newForm.voucherResult.du&&(t+=this.state.newForm.voucherResult.qualifiedPrice*this.state.newForm.voucherResult.dr/100));if(e.addons)for(let a of e.addons)if(a.added)for(let e of this.state.newForm.voucherResult.pids)a.id==e&&("Rupiah"==this.state.newForm.voucherResult.du?t+=this.state.newForm.voucherResult.dr:"Percent"==this.state.newForm.voucherResult.du&&(t+=this.state.newForm.voucherResult.qualifiedPrice*this.state.newForm.voucherResult.dr/100))}}else if(this.state.newForm.voucherResult.ppids&&this.state.newForm.voucherResult.ppids.length>0){if(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0)for(let e of this.state.cart.bookedProducts){if(e.part)for(let a of this.state.newForm.voucherResult.ppids)e.part.id==a&&"BonusForQty"==this.state.newForm.voucherResult.du&&(t+=Math.floor((e.part.q?e.part.q:1)/(this.state.newForm.voucherResult.dr+1))*e.part.p);if(e.addons)for(let a of e.addons)if(a.added&&a.selectedPart)for(let e of this.state.newForm.voucherResult.ppids)a.selectedPart.id==e&&"BonusForQty"==this.state.newForm.voucherResult.du&&(t+=Math.floor((a.selectedPart.q?a.selectedPart.q:1)/(this.state.newForm.voucherResult.dr+1))*a.selectedPart.p)}}else"Rupiah"==this.state.newForm.voucherResult.du?t+=this.state.newForm.voucherResult.dr:"Percent"==this.state.newForm.voucherResult.du&&(t+=this.state.newForm.voucherResult.qualifiedPrice*this.state.newForm.voucherResult.dr/100);return this.state.newForm.voucherResult&&e>=this.state.newForm.voucherResult.minp?e-t:e}getWizardStepClass(e){return e==this.state.wizardStep.step?" wizard-step":e==this.state.wizardStep.step-1?" wizard-step wizard-step-prev":e==this.state.wizardStep.step+1?" wizard-step wizard-step-next":" hidden-m"}handleDismissCart(e){this.setState({cartOpen:!1}),this.props.onDismissCart&&this.props.onDismissCart(!1)}needsQuotation(){if(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0)for(var e of this.state.cart.bookedProducts){if(this.state.newForm.applyVoucherResult&&this.state.newForm.applyVoucherResult.freeProductId&&this.state.newForm.applyVoucherResult.freeProductId==e.id)break;if(1==e.quote)return!0;if(e.addons)for(var t of e.addons)if(1==t.quote)return!0}return!1}handleNext(){(this.state.cart.bookedProducts&&0==this.state.cart.bookedProducts.length||!this.state.cart.bookedProducts)&&this.props.setProgress(2),this.props.setStep(2),history.pushState(JSON.stringify({step:2}),document.title,location.href)}handlePrev(){this.props.setStep(1)}cartProductValid(){let e=!0;if(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0){for(let t of this.state.cart.bookedProducts)if(t.addons&&t.addons)for(let a of t.addons)a.mandatory&&!a.added&&(e=!1)}else e=!1;return e}handleSubmit(){if(!this.state.newForm.disabledForm){let e={nameValidation:null,emailValidation:null,phoneValidation:null,dateValidation:null,timeValidation:null,locationValidation:null},t=!1;if(this.state.newForm.fullName?0==this.state.newForm.fullName.trim().length?(e.nameValidation="EN"==this.state.language?"Name cannot be empty":"Nama harap diisi",t=!0):this.state.newForm.fullName.trim().length<3&&(e.nameValidation="EN"==this.state.language?"Name is too short":"Nama terlalu pendek",t=!0):(e.nameValidation="EN"==this.state.language?"Name cannot be empty":"Nama harap diisi",t=!0),this.state.newForm.email?0==this.state.newForm.email.trim().length?(e.emailValidation="EN"==this.state.language?"Email address cannot be empty":"Email harap diisi",t=!0):/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.state.newForm.email.trim())||(e.emailValidation="EN"==this.state.language?"Email address is not valid":"Email tidak sesuai format yang benar",t=!0):(e.emailValidation="EN"==this.state.language?"Email address cannot be empty":"Email harap diisi",t=!0),this.state.newForm.phone?0==this.state.newForm.phone.trim().length?(e.phoneValidation="EN"==this.state.language?"Mobile phone number cannot be empty":"Nomor ponsel harap diisi",t=!0):/^(0|62|\+62)[8][0-9]{5,14}$/.test(this.state.newForm.phone.trim())||(e.phoneValidation="EN"==this.state.language?"Not a valid Indonesian <b>mobile phone</b> number":"Bukan nomor ponsel Indonesia",t=!0):(e.phoneValidation="EN"==this.state.language?"Mobile phone number cannot be empty":"Nomor ponsel harap diisi",t=!0),this.state.newForm.selectedTab&&4!=this.state.newForm.selectedTab.tab&&1!=this.state.newForm.selectedTab.tab&&(this.state.newForm.date||(e.dateValidation="EN"==this.state.language?"Date cannot be empty":"Tanggal harap diisi",t=!0,this.smoothScrollTo("#make-appointment")),this.state.newForm.time||(e.timeValidation="EN"==this.state.language?"Time cannot be empty":"Waktu harap diisi",t=!0,this.smoothScrollTo("#make-appointment")),this.state.newForm.location?this.state.newForm.locationValid||(e.locationValidation="EN"==this.state.language?"Your selected location is outside our service coverage area":"Maaf, Montir belum bisa melayani wilayah Anda",t=!0,this.smoothScrollTo("#make-appointment")):(e.locationValidation="EN"==this.state.language?"Location cannot be empty":"Alamat harap diisi",t=!0,this.smoothScrollTo("#make-appointment"))),this.props.setFormValidation(e),t)return;let a=[],s=[];if(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0)for(let e of this.state.cart.bookedProducts){let t={addons:e.addons,hasAddons:e.hasAddons,hasParts:e.hasParts,hasQuantity:e.hasQuantity,id:e.id,name:e.name,p:e.p,part:e.part,q:e.q&&e.q>1?e.q:1,quote:e.quote,subtotal:e.subtotal};if(e.part&&(t.part={brand:e.part.brand,d:e.part.d,icon:e.part.icon,id:e.part.id,lp:e.part.lp,name:e.part.name,p:e.part.p,q:e.part.q,type:e.part.type,unit:e.part.unit}),e.addons){t.addons=[];for(let a of e.addons)a.hasQuantity?a.q&&a.q>=1&&t.addons.push(a):a.added&&(a.q=a.q&&a.q>1?a.q:1,t.addons.push(a))}a.push(t)}if(this.state.cart.bookedInquiries&&this.state.cart.bookedInquiries.length>0)for(let e of this.state.cart.bookedInquiries){let t={id:e.id,category:e.category,description:e.description};s.push(t)}if(s.length>0&&a.length>0){if(this.state.newForm.fullName&&this.state.newForm.email&&this.state.newForm.phone&&this.state.cart.bookedInquiries&&this.state.cart.bookedInquiries.length>0&&this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0&&this.state.newForm.date&&this.state.newForm.time&&this.state.newForm.location&&this.state.newForm.locationValid){let e;if(this.state.carSelection.cars&&this.state.carSelection.cars.length>0){let t=s[0].category,r=s[0].description;null!=this.state.carSelection.selectedCarIndex?(e={custCarId:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].custCarId?this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].custCarId:1,make:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].make,model:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].model,year:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].year,trim:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].trim},this.props.orderAsync(e,this.state.newForm.fullName,this.state.newForm.email,this.state.newForm.phone,this.state.newForm.note,a,this.state.newForm.date,this.state.newForm.time,this.state.newForm.location,this.state.newForm.locationDetail,this.state.newForm.applyVoucherResult&&this.state.newForm.applyVoucherResult.valid?this.state.newForm.voucherCode:null,t,r,this.state.language,null!=this.state.carSelection.selectedCustCarId)):null!=this.state.carSelection.selectedCustCarId&&(e=this.state.carSelection.cars.find(e=>e.custCarId==this.state.carSelection.selectedCustCarId),e&&this.props.orderAsync(e,this.state.newForm.fullName,this.state.newForm.email,this.state.newForm.phone,this.state.newForm.note,a,this.state.newForm.date,this.state.newForm.time,this.state.newForm.location,this.state.newForm.locationDetail,this.state.newForm.applyVoucherResult&&this.state.newForm.applyVoucherResult.valid?this.state.newForm.voucherCode:null,t,r,this.state.language,!0))}}}else if(a.length>0){if(this.state.newForm.fullName&&this.state.newForm.email&&this.state.newForm.phone&&this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0){let e;this.state.carSelection.cars&&this.state.carSelection.cars.length>0&&(null!=this.state.carSelection.selectedCarIndex?(e={custCarId:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].custCarId?this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].custCarId:1,make:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].make,model:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].model,year:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].year,trim:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].trim},this.props.bookingAsync(e,this.state.newForm.fullName,this.state.newForm.email,this.state.newForm.phone,this.state.newForm.note,a,this.state.newForm.date,this.state.newForm.time,this.state.newForm.location,this.state.newForm.locationDetail,this.state.newForm.applyVoucherResult&&this.state.newForm.applyVoucherResult.valid?this.state.newForm.voucherCode:null,this.state.language,null!=this.state.carSelection.selectedCustCarId)):null!=this.state.carSelection.selectedCustCarId&&(e=this.state.carSelection.cars.find(e=>e.custCarId==this.state.carSelection.selectedCustCarId),e&&this.props.bookingAsync(e,this.state.newForm.fullName,this.state.newForm.email,this.state.newForm.phone,this.state.newForm.note,a,this.state.newForm.date,this.state.newForm.time,this.state.newForm.location,this.state.newForm.locationDetail,this.state.newForm.applyVoucherResult&&this.state.newForm.applyVoucherResult.valid?this.state.newForm.voucherCode:null,this.state.language,!0)))}}else if(s.length>0&&this.state.newForm.fullName&&this.state.newForm.email&&this.state.newForm.phone&&this.state.cart.bookedInquiries&&this.state.cart.bookedInquiries.length>0){let e;this.state.carSelection.cars&&this.state.carSelection.cars.length>0&&(null!=this.state.carSelection.selectedCarIndex?(e={custCarId:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].custCarId?this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].custCarId:1,make:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].make,model:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].model,year:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].year,trim:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].trim},this.props.problemInquiryAsync(e,this.state.newForm.fullName,this.state.newForm.email,this.state.newForm.phone,s[0].category,s[0].description,this.state.language)):null!=this.state.carSelection.selectedCustCarId&&(e=this.state.carSelection.cars.find(e=>e.custCarId==this.state.carSelection.selectedCustCarId),e&&this.props.problemInquiryAsync(e,this.state.newForm.fullName,this.state.newForm.email,this.state.newForm.phone,s[0].category,s[0].description,this.state.language)))}}}render(){return s.createElement("div",{className:"new-booking-sidebar sticky mobile-cart"+(this.state.cartOpen?" open":"")+this.getWizardStepClass(2)},s.createElement("div",{className:"booking-sidebar-overlay hidden-m",onClick:this.handleDismissCart.bind(this)}),s.createElement("div",{className:"new-booking-sidebar-content"},s.createElement("div",{className:"sidebar-title"},s.createElement("h5",null,s.createElement(c.a,{EN:"Your Cart",ID:"Daftar Pesanan"})),this.state.selectedCar&&s.createElement("div",{className:"car"},this.state.selectedCar.year," ",this.state.selectedCar.make," ",this.state.selectedCar.model," ",this.state.selectedCar.trim),!this.state.selectedCar&&s.createElement("div",{className:"car muted"},s.createElement(c.a,{EN:"Car not selected.",ID:"Mobil belum dipilih."}))),(this.state.cart.bookedInquiries&&0==this.state.cart.bookedInquiries.length||!this.state.cart.bookedInquiries)&&(this.state.cart.bookedProducts&&0==this.state.cart.bookedProducts.length||!this.state.cart.bookedProducts)&&s.createElement("div",{className:"new-booked-product"},s.createElement("h6",null,s.createElement(c.a,{EN:"No items on cart",ID:"Keranjang masih kosong"})),s.createElement("div",{className:"booked-part"},s.createElement("div",{className:"name"},s.createElement(c.a,{EN:"Select services",ID:"Pilih servis yang anda butuhkan"})))),this.state.cart.bookedProducts&&this.state.cart.bookedProducts.map((function(e,t){return s.createElement(A,{key:t,bookedProduct:e})}),this),s.createElement(F,null),1==this.state.wizardStep.step&&this.state.selectedCar&&(this.state.cart.bookedInquiries&&this.state.cart.bookedInquiries.length>0||this.cartProductValid())&&s.createElement("div",{className:"booking-page hidden-m"},s.createElement("button",{className:"btn btn-next",disabled:!this.state.selectedCar||(this.state.cart.bookedInquiries&&0==this.state.cart.bookedInquiries.length||!this.state.cart.bookedInquiries)&&(this.state.cart.bookedProducts&&0==this.state.cart.bookedProducts.length||!this.state.cart.bookedProducts),onClick:this.state.selectedCar&&(this.state.cart.bookedInquiries&&this.state.cart.bookedInquiries.length>0||this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0)&&this.handleNext.bind(this)},s.createElement(c.a,{EN:"NEXT",ID:"LANJUTKAN PESANAN"}))),this.state.wizardStep.step>=2&&s.createElement("div",{className:"booking-page hidden-m"},s.createElement("button",{className:"btn btn-prev",disabled:this.state.newForm.disabledForm,onClick:!this.state.newForm.disabledForm&&this.handleSubmit.bind(this)},s.createElement(c.a,{EN:"BOOK NOW",ID:"PESAN SEKARANG"})))),this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0&&this.totalSummary())}}var z=Object(i.b)(e=>({carSelection:e.carSelection,cart:e.cart,newForm:e.newForm,wizardStep:e.wizardStep,language:e.language}),e=>({setProgress:Object(o.a)(u,e),setStep:Object(o.a)(d,e),bookingAsync:(t,a,s,r,n,o,i,c,l,d,u,h,p)=>q(e,t,a,s,r,n,o,i,c,l,d,u,h,p),problemInquiryAsync:(t,a,s,r,n,o,i)=>M(e,t,a,s,r,n,o,i),orderAsync:(t,a,s,r,n,o,i,c,l,d,u,h,p,m,g)=>V(e,t,a,s,r,n,o,i,c,l,d,u,h,p,m,g),setFormValidation:Object(o.a)(f.l,e)}))(U);class Y extends s.Component{constructor(e){super(e),this.state={language:e.language,filteredItems:null,keyword:null},this.groupNames=["abc","defg","hijk","lmno","pqrs","tuvw","xyz"],this.groupLabels={abc:"A - C",defg:"D - G",hijk:"H - K",lmno:"L - O",pqrs:"P - S",tuvw:"T - W",xyz:"X - Z"},this.decades=[],this.transmissions=[]}componentDidMount(){}componentWillReceiveProps(e){this.props.disabled!=e.disabled&&(e.disabled||Modernizr.touchevents||this.dropdown.classList.add("open"))}groupByInitial(){let e={};if(this.props.items)for(let t of this.props.items){let a=t.charAt(0).toLowerCase();for(let s of this.groupNames)if(s.indexOf(a)>=0){s in e?e[s].push(t):e[s]=[t];break}}return e}groupByDecade(){this.decades=[];let e={};if(this.props.items){let t=(new Date).getFullYear();for(let a of this.props.items){let s=a.substr(0,3);s="199"==s?"1990 - 1995":parseInt(s+"9")>t?s+"0 - "+t:s+"0 - "+s+"9",s in e?e[s].push(a):(e[s]=[a],this.decades.push(s))}}return e}groupByTransmission(){this.transmissions=[];let e={};if(this.props.items)for(let t of this.props.items){let a;a=t.indexOf("Automatic")>=0?"Automatic":t.indexOf("Manual")>=0?"Manual":"NA",a in e?e[a].push(t):e[a]=[t]}return e}handleSelect(e){this.props.onSelect&&this.props.onSelect(e)}handleKeyDown(e){40==e.keyCode&&this.firstItem&&this.firstItem.focus()}handleKeyUp(e){var t=e.target.value,a=t.trim().toLowerCase();if(a.length>0){if(this.props.items){var s=this.props.items.filter(e=>e.trim().toLowerCase().indexOf(a)>=0);this.setState({filteredItems:s,keyword:t})}}else this.setState({filteredItems:null,keyword:null})}handleItemKeyDown(e){this.props.searchable&&(38==e.keyCode?e.target==this.firstItem&&setTimeout(function(){this.searchBox.focus()}.bind(this),100):(e.keyCode>=65&&e.keyCode<=90||e.keyCode>=97&&e.keyCode<=122)&&this.searchBox.focus())}render(){let e=[];if(this.props.groupBy){if("initial"==this.props.groupBy){let t=this.groupByInitial();for(let a of this.groupNames)if(a in t){e.push({className:"optgroup",text:this.groupLabels[a]});for(let s of t[a])e.push({text:s})}}else if("decade"==this.props.groupBy){let t=this.groupByDecade();for(let a of this.decades){e.push({className:"optgroup",text:a});for(let s of t[a])e.push({text:s})}}else if("transmission"==this.props.groupBy){let t=this.groupByTransmission();if("NA"in t)for(let a of t.NA)e.push({text:a});if("Automatic"in t){e.push({className:"optgroup",text:"Automatic"});for(let a of t.Automatic)e.push({text:a})}if("Manual"in t){e.push({className:"optgroup",text:"Manual"});for(let a of t.Manual)e.push({text:a})}}}else if(e.push({className:"optgroup",text:(this.props.name||this.props)[this.props.language]}),this.props.items)for(let t of this.props.items)e.push({text:t});return this.firstItem=null,s.createElement("div",{className:"dropdown",ref:e=>{this.dropdown=e}},s.createElement("button",{className:"btn btn-booking dropdown-toggle"+(this.props.disabled?" disabled":"")+(this.props.pulses&&!this.props.disabled?" orange-outline-pulses-if-unopened":""),"data-toggle":"dropdown",disabled:this.props.disabled,"aria-haspopup":"true","aria-expanded":"false"},this.props.selectedItem||(this.props.name||this.props)[this.props.language]," ",s.createElement("span",{className:"caret hidden-m"}),s.createElement("i",{className:"fa fa-sort visible-m-inline-block"})),s.createElement("div",{className:"dropdown-menu"},s.createElement("h3",{className:"visible-m"},(this.props.name||this.props)[this.props.language]),this.props.searchable&&s.createElement("div",{className:"bs-searchbox search-box"},s.createElement("div",{className:"search-box-icon"},s.createElement("img",{src:"https://montircdn.azureedge.net/img/icon-search.svg",width:"18",height:"18"})),s.createElement("input",{type:"search",ref:e=>{this.searchBox=e},placeholder:(this.props.searchPrompt||this.props)[this.props.language],onKeyDown:this.handleKeyDown.bind(this),onKeyUp:this.handleKeyUp.bind(this)})),this.state.filteredItems&&s.createElement("ul",null,s.createElement("li",{className:"optgroup optgroup-search"},s.createElement(c.a,{EN:"Search results for",ID:"Hasil penelusuran untuk"})," ",s.createElement("strong",null,this.state.keyword),":"),this.state.filteredItems.map((function(e,t){return s.createElement("li",{key:t},s.createElement("a",{href:"javascript:void(0)",className:e==this.props.selectedItem?"selected":"",onClick:this.handleSelect.bind(this,e),onKeyDown:this.handleItemKeyDown.bind(this),ref:e=>{this.firstItem||(this.firstItem=e)}},e))}),this)),!this.state.filteredItems&&s.createElement("ul",null,this.props.shortlist&&this.props.shortlist.length>0&&s.createElement("li",{className:"optgroup"},(this.props.shortlistTitle||this.props)[this.props.language]),this.props.shortlist&&this.props.shortlist.length>0&&this.props.shortlist.map((function(e,t){return s.createElement("li",{key:t},s.createElement("a",{href:"javascript:void(0)",className:e==this.props.selectedItem?"selected":"",onClick:this.handleSelect.bind(this,e),onKeyDown:this.handleItemKeyDown.bind(this),ref:e=>{this.firstItem||(this.firstItem=e)}},e))}),this),e&&e.map((function(e,t){return e.className?s.createElement("li",{key:t,className:e.className},e.text):s.createElement("li",{key:t},s.createElement("a",{href:"javascript:void(0)",className:e.text==this.props.selectedItem?"selected":"",onClick:this.handleSelect.bind(this,e.text),onKeyDown:this.handleItemKeyDown.bind(this),ref:e=>{this.firstItem||(this.firstItem=e)}},e.text))}),this)),s.createElement("a",{href:"javascript:void(0)",className:"visible-m"},s.createElement(c.a,{EN:"CANCEL",ID:"BATAL"}))))}}var H=Object(i.b)(e=>({language:e.language}),e=>({}))(Y);class W extends s.Component{constructor(e){super(e),this.state={language:e.language}}componentDidMount(){}componentWillReceiveProps(e){}handleSelectAdd(){this.props.onSelectAdd&&this.props.onSelectAdd()}handleSelectCar(e,t){this.props.onSelectCar&&this.props.onSelectCar(e,t)}render(){return s.createElement("div",{className:"dropdown",ref:e=>{this.dropdown=e}},s.createElement("button",{className:"btn btn-booking dropdown-toggle"+(this.props.disabled?" disabled":""),"data-toggle":"dropdown",disabled:this.props.disabled,"aria-haspopup":"true","aria-expanded":"false"},this.props.selectedItem?this.props.selectedItem.year+" "+this.props.selectedItem.make+" "+this.props.selectedItem.model+" "+this.props.selectedItem.trim:(this.props.prompt||this.props)[this.props.language]," ",s.createElement("span",{className:"caret hidden-m"}),s.createElement("i",{className:"fa fa-sort visible-m-inline-block"})),s.createElement("div",{className:"dropdown-menu"},s.createElement("h3",{className:"visible-m"},(this.props.prompt||this.props)[this.props.language]),s.createElement("ul",null,s.createElement("li",{className:"optgroup"},(this.props.shortlistTitle||this.props)[this.props.language]),s.createElement("li",null,s.createElement("a",{href:"javascript:void(0)",onClick:this.handleSelectAdd.bind(this)},(this.props.prompt||this.props)[this.props.language])),s.createElement("li",{className:"optgroup"},(this.props.listTitle||this.props)[this.props.language]),this.props.items&&this.props.items.length>0&&this.props.items.map((function(e,t){return s.createElement("li",{key:t},s.createElement("a",{href:"javascript:void(0)",className:e==this.props.selectedItem?"selected":"",onClick:this.handleSelectCar.bind(this,e,t)},e.year+" "+e.make+" "+e.model+" "+e.trim))}),this))))}}var J=Object(i.b)(e=>({language:e.language}),e=>({}))(W),X=a(10);const Z=(e,t)=>{var a=E.ajax({url:v(t),type:"GET",dataType:"json",success:(a,s,r)=>{e(te(t)),e(Object(X.g)(a))},error:(a,s,r)=>{e(ae(t,r))}});e(ee(t,a))},ee=(e,t)=>({type:l.n,make:e,jqXhr:t}),te=e=>({type:l.o,make:e}),ae=(e,t)=>({type:l.m,make:e,errorMessage:t}),se=(e,t,a)=>{var s=E.ajax({url:k(t,a),type:"GET",dataType:"json",success:(s,r,n)=>{e(ne(t,a)),e(Object(X.n)(s))},error:(s,r,n)=>{e(oe(t,a,n))}});e(re(t,a,s))},re=(e,t,a)=>({type:l.t,make:e,model:t,jqXhr:a}),ne=(e,t)=>({type:l.u,make:e,model:t}),oe=(e,t,a)=>({type:l.s,make:e,model:t,errorMessage:a}),ie=(e,t,a,s)=>{var r=E.ajax({url:N(t,a,s),type:"GET",dataType:"json",success:(r,n,o)=>{e(le(t,a,s)),e(Object(X.l)(r))},error:(r,n,o)=>{e(de(t,a,s,o))}});e(ce(t,a,s,r))},ce=(e,t,a,s)=>({type:l.q,make:e,model:t,year:a,jqXhr:s}),le=(e,t,a)=>({type:l.r,make:e,model:t,year:a}),de=(e,t,a,s)=>({type:l.p,make:e,model:t,year:a,errorMessage:s}),ue=(e,t)=>{var a=$.ajax({url:"/api/select-car",type:"POST",headers:{AntiForgeryToken:document.getElementsByName("__RequestVerificationToken").item(0).value},contentType:"application/json; charset=utf-8",data:JSON.stringify({custCarId:t}),dataType:"json",success:(a,s,r)=>{e(pe(t)),e(Object(X.j)(t))},error:(a,s,r)=>{e(me(t,r))}});e(he(t,a))},he=(e,t)=>({type:l.G,custCarId:e,jqXhr:t}),pe=e=>({type:l.H,custCarId:e}),me=(e,t)=>({type:l.F,custCarId:e,errorMessage:t}),ge=(e,t,a,s,r,n)=>{var o=$.ajax({url:"/api/add-car",type:"POST",headers:{AntiForgeryToken:document.getElementsByName("__RequestVerificationToken").item(0).value},contentType:"application/json; charset=utf-8",data:JSON.stringify({make:t,model:a,year:s,trim:r}),dataType:"json",success:(o,i,c)=>{e(fe(t,a,s,r,n)),e(Object(X.a)(o,n)),o.custCarId&&ue(e,o.custCarId)},error:(o,i,c)=>{e(Ee(t,a,s,r,n,c))}});e(be(t,a,s,r,n,o))},be=(e,t,a,s,r,n)=>({type:l.c,make:e,model:t,year:a,trim:s,userLoggedin:r,jqXhr:n}),fe=(e,t,a,s,r)=>({type:l.d,make:e,model:t,year:a,trim:s,userLoggedin:r}),Ee=(e,t,a,s,r,n)=>({type:l.b,make:e,model:t,year:a,trim:s,userLoggedin:r,errorMessage:n});class Se extends s.Component{constructor(e){super(e),this.state=Object.assign({carSelection:e.carSelection,user:e.user,cart:e.cart,saving:!1,language:e.language},this.getDataCarSelection(e))}componentDidMount(){}componentWillReceiveProps(e){let t=this.state;this.state.selectedMake!=e.carSelection.selectedMake&&(t=Object.assign(Object.assign({},t),{selectedMake:e.carSelection.selectedMake}),this.setState(t)),this.state.selectedModel!=e.carSelection.selectedModel&&(t=Object.assign(Object.assign({},t),{selectedModel:e.carSelection.selectedModel}),this.setState(t)),this.state.selectedYear!=e.carSelection.selectedYear&&(t=Object.assign(Object.assign({},t),{selectedYear:e.carSelection.selectedYear}),this.setState(t)),this.state.selectedTrim!=e.carSelection.selectedTrim&&(t=Object.assign(Object.assign({},t),{selectedTrim:e.carSelection.selectedTrim}),this.setState(t)),this.state.models!=e.carSelection.models&&(t=Object.assign(Object.assign({},t),{models:e.carSelection.models}),this.setState(t)),this.state.years!=e.carSelection.years&&(t=Object.assign(Object.assign({},t),{years:e.carSelection.years}),this.setState(t)),this.state.trims!=e.carSelection.trims&&(t=Object.assign(Object.assign({},t),{trims:e.carSelection.trims}),this.setState(t)),this.state.cars!=e.carSelection.cars&&(t=Object.assign(Object.assign({},t),{cars:e.carSelection.cars}),this.setState(t)),this.state.cart!=e.cart&&(t=Object.assign(Object.assign({},t),{cart:e.cart}),this.setState(t)),e.carSelection.selectedCustCarId?this.state.cars&&this.state.cars.length>0&&(t=Object.assign(Object.assign({},t),{selectedCar:this.state.cars.find(t=>t.custCarId==e.carSelection.selectedCustCarId)}),this.setState(t)):null!=e.carSelection.selectedCarIndex?e.carSelection.cars&&e.carSelection.cars.length>0&&(t=Object.assign(Object.assign({},t),{selectedCar:e.carSelection.cars[e.carSelection.selectedCarIndex]}),this.setState(t)):(t=Object.assign(Object.assign({},t),{selectedCar:void 0}),this.setState(t))}getDataCarSelection(e){let t,a=e.carSelection.cars,s=e.carSelection.makes,r=e.carSelection.models,n=e.carSelection.years,o=e.carSelection.trims,i=e.carSelection.popularMakes,c=e.carSelection.selectedMake,l=e.carSelection.selectedModel,d=e.carSelection.selectedYear,u=e.carSelection.selectedTrim,h=e.carSelection.selectedCustCarId,p=e.carSelection.selectedCarIndex;return h?a&&a.length>0&&(t=a.find(e=>e.custCarId==h)):null!=p&&a&&a.length>0&&(t=a[p]),{cars:a,makes:s,models:r,years:n,trims:o,popularMakes:i,selectedMake:c,selectedModel:l,selectedYear:d,selectedTrim:u,selectedCar:t}}handleSelectMake(e){this.props.setMake(e),this.props.getCarModelsAsync(e)}handleSelectModel(e){this.state.selectedMake&&(this.props.setModel(e),this.props.getCarYearsAsync(this.state.selectedMake,e))}handleSelectYear(e){this.state.selectedMake&&this.state.selectedModel&&(this.props.setYear(e),this.props.getCarTrimsAsync(this.state.selectedMake,this.state.selectedModel,e))}handleSelectTrim(e){if(this.state.selectedMake&&this.state.selectedModel&&this.state.selectedYear){if(this.props.setTrim(e),this.state.user.userLoggedin)this.props.addCarAsync(this.state.selectedMake,this.state.selectedModel,this.state.selectedYear,e,this.state.user.userLoggedin);else{let t={custCarId:null,make:this.state.selectedMake,model:this.state.selectedModel,year:this.state.selectedYear,trim:e};this.props.addCar(t,this.state.user.userLoggedin)}this.props.resetMakeModelYearTrim(),this.props.setProgress(1),this.smoothScrollTo("#select-services")}}handleSelectAdd(){if(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0){let e={title:"EN"==this.state.language?"Clear Cart and Change Car?":"Kosongkan Keranjang dan Pilih Mobil Lain?",message:"EN"==this.state.language?"Your cart will be cleared if you select a different car.":"Keranjang pesanan akan dikosongkan jika Anda memilih mobil lain.",okButton:"EN"==this.state.language?"CLEAR CART":"KOSONGKAN KERANJANG",cancelButton:"EN"==this.state.language?"CANCEL":"BATAL",okOnly:!1,ok:function(){this.props.setBookedProducts([],this.state.user.userLoggedin),this.props.setBookedInquiries([],this.state.user.userLoggedin),this.props.setSelectedCustCarId(null),this.props.setProgress(0),this.props.setStep(1)}.bind(this)};this.props.setAlert(e)}else this.props.setSelectedCustCarId(null),this.props.setProgress(0),this.props.setStep(1)}handleSelectCar(e,t){if(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0||this.state.cart.bookedInquiries&&this.state.cart.bookedInquiries.length>0){let a={title:"EN"==this.state.language?"Clear Cart and Change Car?":"Kosongkan Keranjang dan Pilih Mobil Lain?",message:"EN"==this.state.language?"Your cart will be cleared if you select a different car.":"Keranjang pesanan akan dikosongkan jika Anda memilih mobil lain.",okButton:"EN"==this.state.language?"CLEAR CART":"KOSONGKAN KERANJANG",cancelButton:"EN"==this.state.language?"CANCEL":"BATAL",okOnly:!1,ok:function(){this.props.setBookedProducts([],this.state.user.userLoggedin),this.props.setBookedInquiries([],this.state.user.userLoggedin),this.state.user.userLoggedin?(this.props.setSelectedCustCarId(e.custCarId),this.props.selectCarAsync(e.custCarId)):this.props.setSelectedCarIndex(t),this.props.setProgress(1),this.smoothScrollTo("#select-services")}.bind(this)};this.props.setAlert(a)}else this.state.user.userLoggedin&&null!=e.custCarId?(this.props.setSelectedCustCarId(e.custCarId),this.props.selectCarAsync(e.custCarId)):this.props.setSelectedCarIndex(t),this.props.setProgress(1),this.smoothScrollTo("#select-services")}smoothScrollTo(e){$(e).addClass("flash"),setTimeout((function(){$(e).removeClass("flash")}),100);let t=$(e).offset();t&&window.scroll({top:t.top-70,left:0,behavior:"smooth"})}render(){return s.createElement("div",{className:"hidden-m"},s.createElement("div",{className:"cover-messages visible-m"},s.createElement("h1",null,s.createElement(c.a,{EN:"Professional Car Mechanics Delivered to You",ID:"Mekanik Profesional Kami Siap Datang"}))),s.createElement("h5",{className:"hidden-m"},s.createElement(c.a,{EN:"Select Your Car",ID:"Pilih Mobil"})),s.createElement("h6",{className:"visible-m"},s.createElement(c.a,{EN:"Select your car to get started",ID:"Mari mulai dengan memilih mobil Anda"})),this.state.cars&&this.state.cars.length>0&&s.createElement("div",{className:"car-selector"},s.createElement(J,{items:this.state.cars,prompt:{EN:"Add New Car",ID:"Tambah Mobil"},listTitle:{EN:"Saved Cars",ID:"Mobil Tersimpan"},shortlistTitle:{EN:"Have Another Car?",ID:"Punya Mobil Lain?"},selectedItem:this.state.selectedCar,disabled:this.state.saving,onSelectAdd:this.handleSelectAdd.bind(this),onSelectCar:this.handleSelectCar.bind(this)})),!this.state.selectedCar&&s.createElement("div",{className:"car-model-selector"},s.createElement(H,{items:this.state.makes,name:{EN:"Make",ID:"Merk"},shortlist:this.state.popularMakes,shortlistTitle:{EN:"Popular",ID:"Populer"},groupBy:"initial",searchable:!0,searchPrompt:{EN:"Search makes...",ID:"Cari merk..."},onSelect:this.handleSelectMake.bind(this),selectedItem:this.state.selectedMake,pulses:this.state.makes&&!this.state.selectedMake}),s.createElement(H,{items:this.state.models,name:{EN:"Model",ID:"Model"},shortlistTitle:{EN:"Older Model",ID:"Model Lama"},disabled:!this.state.models,onSelect:this.handleSelectModel.bind(this),selectedItem:this.state.selectedModel,pulses:this.state.selectedMake&&this.state.models&&!this.state.selectedModel}),s.createElement(H,{items:this.state.years,name:{EN:"Year",ID:"Tahun"},groupBy:"decade",disabled:!this.state.years,onSelect:this.handleSelectYear.bind(this),selectedItem:this.state.selectedYear,pulses:this.state.selectedModel&&this.state.years&&!this.state.selectedYear}),s.createElement(H,{items:this.state.trims,name:{EN:"Trim",ID:"Varian"},groupBy:"transmission",disabled:!this.state.trims,onSelect:this.handleSelectTrim.bind(this),selectedItem:this.state.selectedTrim,pulses:this.state.selectedYear&&this.state.trims&&!this.state.selectedTrim})))}}var ye=Object(i.b)(e=>({carSelection:e.carSelection,user:e.user,cart:e.cart,language:e.language}),e=>({setMakes:Object(o.a)(X.e,e),setModels:Object(o.a)(X.g,e),setYears:Object(o.a)(X.n,e),setTrims:Object(o.a)(X.l,e),setMake:Object(o.a)(X.d,e),setModel:Object(o.a)(X.f,e),setYear:Object(o.a)(X.m,e),setTrim:Object(o.a)(X.k,e),resetMakeModelYearTrim:Object(o.a)(X.b,e),setSelectedCustCarId:Object(o.a)(X.j,e),setSelectedCarIndex:Object(o.a)(X.i,e),addCar:Object(o.a)(X.a,e),getCarModelsAsync:t=>Z(e,t),getCarYearsAsync:(t,a)=>se(e,t,a),getCarTrimsAsync:(t,a,s)=>ie(e,t,a,s),addCarAsync:(t,a,s,r,n)=>ge(e,t,a,s,r,n),selectCarAsync:t=>ue(e,t),setStep:Object(o.a)(d,e),setProgress:Object(o.a)(u,e),setAlert:Object(o.a)(f.c,e),setBookedProducts:Object(o.a)(m.c,e),setBookedInquiries:Object(o.a)(m.b,e)}))(Se);class ve extends s.Component{constructor(e){super(e),this.state=Object.assign({carSelection:e.carSelection,user:e.user,cart:e.cart,language:e.language,saving:!1,adding:!1},this.getDataCarSelection(e))}componentDidMount(){}componentWillReceiveProps(e){let t=this.state;this.state.selectedMake!=e.carSelection.selectedMake&&(t=Object.assign(Object.assign({},t),{selectedMake:e.carSelection.selectedMake}),this.setState(t)),this.state.selectedModel!=e.carSelection.selectedModel&&(t=Object.assign(Object.assign({},t),{selectedModel:e.carSelection.selectedModel}),this.setState(t)),this.state.selectedYear!=e.carSelection.selectedYear&&(t=Object.assign(Object.assign({},t),{selectedYear:e.carSelection.selectedYear}),this.setState(t)),this.state.selectedTrim!=e.carSelection.selectedTrim&&(t=Object.assign(Object.assign({},t),{selectedTrim:e.carSelection.selectedTrim}),this.setState(t)),this.state.models!=e.carSelection.models&&(t=Object.assign(Object.assign({},t),{models:e.carSelection.models}),this.setState(t)),this.state.years!=e.carSelection.years&&(t=Object.assign(Object.assign({},t),{years:e.carSelection.years}),this.setState(t)),this.state.trims!=e.carSelection.trims&&(t=Object.assign(Object.assign({},t),{trims:e.carSelection.trims}),this.setState(t)),this.state.cars!=e.carSelection.cars&&(t=Object.assign(Object.assign({},t),{cars:e.carSelection.cars}),this.setState(t)),e.carSelection.selectedCustCarId?this.state.cars&&this.state.cars.length>0&&(t=Object.assign(Object.assign({},t),{selectedCar:this.state.cars.find(t=>t.custCarId==e.carSelection.selectedCustCarId)}),this.setState(t)):null!=e.carSelection.selectedCarIndex?e.carSelection.cars&&e.carSelection.cars.length>0&&(t=Object.assign(Object.assign({},t),{selectedCar:e.carSelection.cars[e.carSelection.selectedCarIndex]}),this.setState(t)):(t=Object.assign(Object.assign({},t),{selectedCar:void 0}),this.setState(t)),this.state.cart!=e.cart&&(t=Object.assign(Object.assign({},t),{cart:e.cart}),this.setState(t))}getDataCarSelection(e){let t,a=e.carSelection.cars,s=e.carSelection.makes,r=e.carSelection.models,n=e.carSelection.years,o=e.carSelection.trims,i=e.carSelection.popularMakes,c=e.carSelection.selectedMake,l=e.carSelection.selectedModel,d=e.carSelection.selectedYear,u=e.carSelection.selectedTrim,h=e.carSelection.selectedCustCarId,p=e.carSelection.selectedCarIndex;return h?a&&a.length>0&&(t=a.find(e=>e.custCarId==h)):null!=p&&a&&a.length>0&&(t=a[p]),{cars:a,makes:s,models:r,years:n,trims:o,popularMakes:i,selectedMake:c,selectedModel:l,selectedYear:d,selectedTrim:u,selectedCar:t}}handleSelectMake(e){this.props.setMake(e),this.props.getCarModelsAsync(e)}handleSelectModel(e){this.state.selectedMake&&(this.props.setModel(e),this.props.getCarYearsAsync(this.state.selectedMake,e))}handleSelectYear(e){this.state.selectedMake&&this.state.selectedModel&&(this.props.setYear(e),this.props.getCarTrimsAsync(this.state.selectedMake,this.state.selectedModel,e))}handleSelectTrim(e){if(this.state.selectedMake&&this.state.selectedModel&&this.state.selectedYear){if(this.props.setTrim(e),this.state.user.userLoggedin)this.props.addCarAsync(this.state.selectedMake,this.state.selectedModel,this.state.selectedYear,e,this.state.user.userLoggedin);else{let t={custCarId:null,make:this.state.selectedMake,model:this.state.selectedModel,year:this.state.selectedYear,trim:e};this.props.addCar(t,this.state.user.userLoggedin)}this.props.resetMakeModelYearTrim(),this.props.setProgress(1),this.smoothScrollTo("#select-services")}}smoothScrollTo(e){$(e).addClass("flash"),setTimeout((function(){$(e).removeClass("flash")}),100);let t=$(e).offset();t&&window.scroll({top:t.top-70,left:0,behavior:"smooth"})}handleSelectCar(e,t){if(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0||this.state.cart.bookedInquiries&&this.state.cart.bookedInquiries.length>0){let a={title:"EN"==this.state.language?"Clear Cart and Change Car?":"Kosongkan Keranjang dan Pilih Mobil Lain?",message:"EN"==this.state.language?"Your cart will be cleared if you select a different car.":"Keranjang pesanan akan dikosongkan jika Anda memilih mobil lain.",okButton:"EN"==this.state.language?"CLEAR CART":"KOSONGKAN KERANJANG",cancelButton:"EN"==this.state.language?"CANCEL":"BATAL",okOnly:!1,ok:function(){this.props.setBookedProducts([],this.state.user.userLoggedin),this.props.setBookedInquiries([],this.state.user.userLoggedin),this.state.user.userLoggedin?(this.props.setSelectedCustCarId(e.custCarId),this.props.selectCarAsync(e.custCarId)):this.props.setSelectedCarIndex(t),this.props.setProgress(1),this.smoothScrollTo("#select-services")}.bind(this)};this.props.setAlert(a)}else this.state.user.userLoggedin&&e.custCarId?(this.props.setSelectedCustCarId(e.custCarId),this.props.selectCarAsync(e.custCarId)):this.props.setSelectedCarIndex(t),this.props.setProgress(1),history.pushState(JSON.stringify({step:2}),document.title,location.href)}handleAddCar(e){this.setState({adding:!0})}handleCancelAddCar(e){this.setState({adding:!1})}handleDoAddCar(e){this.setState({adding:!1},(function(){if(this.state.user.userLoggedin)this.props.addCarAsync(this.state.selectedMake,this.state.selectedModel,this.state.selectedYear,this.state.selectedTrim,this.state.user.userLoggedin);else{let e={custCarId:null,make:this.state.selectedMake,model:this.state.selectedModel,year:this.state.selectedYear,trim:this.state.selectedTrim};this.props.addCar(e,this.state.user.userLoggedin)}this.props.resetMakeModelYearTrim()}))}handleSelectAdd(){if(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0||this.state.cart.bookedInquiries&&this.state.cart.bookedInquiries.length>0){let e={title:"EN"==this.state.language?"Clear Cart and Change Car?":"Kosongkan Keranjang dan Pilih Mobil Lain?",message:"EN"==this.state.language?"Your cart will be cleared if you select a different car.":"Keranjang pesanan akan dikosongkan jika Anda memilih mobil lain.",okButton:"EN"==this.state.language?"CLEAR CART":"KOSONGKAN KERANJANG",cancelButton:"EN"==this.state.language?"CANCEL":"BATAL",okOnly:!1,ok:function(){this.props.setBookedProducts([],this.state.user.userLoggedin),this.props.setBookedInquiries([],this.state.user.userLoggedin),this.props.setSelectedCustCarId(null),this.props.setProgress(0),this.props.setStep(1)}.bind(this)};this.props.setAlert(e)}else this.props.setSelectedCustCarId(null),this.props.setProgress(0),this.props.setStep(1)}render(){return s.createElement("div",{className:"visible-m"},s.createElement("h3",null,s.createElement(c.a,{EN:"SELECT CAR",ID:"PILIH MOBIL"})),this.state.cars&&this.state.cars.length>0&&s.createElement("div",{className:"row m-car-selector"},s.createElement("div",{className:"m-add-car-overlay",onClick:this.handleCancelAddCar.bind(this)}),s.createElement("div",{className:"m-add-car-dialog"},s.createElement("div",{className:"col-xs-12 m-car-dropdown"},s.createElement(J,{items:this.state.cars,prompt:{EN:"Add New Car",ID:"Tambah Mobil"},listTitle:{EN:"Saved Cars",ID:"Mobil Tersimpan"},shortlistTitle:{EN:"Have Another Car?",ID:"Punya Mobil Lain?"},selectedItem:this.state.selectedCar,disabled:this.state.saving,onSelectAdd:this.handleSelectAdd.bind(this),onSelectCar:this.handleSelectCar.bind(this)})))),!this.state.selectedCar&&s.createElement("div",{className:"row m-car-selector"},s.createElement("div",{className:"m-add-car-overlay",onClick:this.handleCancelAddCar.bind(this)}),s.createElement("div",{className:"m-add-car-dialog"},s.createElement("div",{className:"col-xs-6 m-car-dropdown"},s.createElement(H,{items:this.state.makes,name:{EN:"Make",ID:"Merk"},shortlist:this.state.popularMakes,shortlistTitle:{EN:"Popular",ID:"Populer"},groupBy:"initial",searchable:!0,searchPrompt:{EN:"Search makes...",ID:"Cari merk..."},onSelect:this.handleSelectMake.bind(this),selectedItem:this.state.selectedMake,pulses:this.state.makes&&!this.state.selectedMake})),s.createElement("div",{className:"col-xs-6 m-car-dropdown"},s.createElement(H,{items:this.state.models,name:{EN:"Model",ID:"Model"},shortlistTitle:{EN:"Older Model",ID:"Model Lama"},disabled:!this.state.models,onSelect:this.handleSelectModel.bind(this),selectedItem:this.state.selectedModel,pulses:this.state.selectedMake&&this.state.models&&!this.state.selectedModel})),s.createElement("div",{className:"col-xs-6 m-car-dropdown separator"},s.createElement(H,{items:this.state.years,name:{EN:"Year",ID:"Tahun"},groupBy:"decade",disabled:!this.state.years,onSelect:this.handleSelectYear.bind(this),selectedItem:this.state.selectedYear,pulses:this.state.selectedModel&&this.state.years&&!this.state.selectedYear})),s.createElement("div",{className:"col-xs-6 m-car-dropdown separator"},s.createElement(H,{items:this.state.trims,name:{EN:"Trim",ID:"Varian"},groupBy:"transmission",disabled:!this.state.trims,onSelect:this.handleSelectTrim.bind(this),selectedItem:this.state.selectedTrim,pulses:this.state.selectedYear&&this.state.trims&&!this.state.selectedTrim})))))}}var ke=Object(i.b)(e=>({carSelection:e.carSelection,user:e.user,cart:e.cart,language:e.language}),e=>({setMakes:Object(o.a)(X.e,e),setModels:Object(o.a)(X.g,e),setYears:Object(o.a)(X.n,e),setTrims:Object(o.a)(X.l,e),setMake:Object(o.a)(X.d,e),setModel:Object(o.a)(X.f,e),setYear:Object(o.a)(X.m,e),setTrim:Object(o.a)(X.k,e),resetMakeModelYearTrim:Object(o.a)(X.b,e),setSelectedCustCarId:Object(o.a)(X.j,e),setSelectedCarIndex:Object(o.a)(X.i,e),addCar:Object(o.a)(X.a,e),getCarModelsAsync:t=>Z(e,t),getCarYearsAsync:(t,a)=>se(e,t,a),getCarTrimsAsync:(t,a,s)=>ie(e,t,a,s),addCarAsync:(t,a,s,r,n)=>ge(e,t,a,s,r,n),selectCarAsync:t=>ue(e,t),setStep:Object(o.a)(d,e),setProgress:Object(o.a)(u,e),setAlert:Object(o.a)(f.c,e),setBookedProducts:Object(o.a)(m.c,e),setBookedInquiries:Object(o.a)(m.b,e)}))(ve);class Ne extends s.Component{constructor(e){super(e),this.state={wizardStep:e.wizardStep}}componentDidMount(){}componentWillReceiveProps(e){let t=this.state;this.state.wizardStep!=e.wizardStep&&(t=Object.assign(Object.assign({},t),{wizardStep:e.wizardStep}),this.setState(t))}getWizardStepClass(e){return e==this.state.wizardStep.step?" wizard-step":e==this.state.wizardStep.step-1?" wizard-step wizard-step-prev":e==this.state.wizardStep.step+1?" wizard-step wizard-step-next":" hidden-m"}render(){return s.createElement("div",{id:"select-car",className:"booking-car-model"+this.getWizardStepClass(1)},s.createElement(ye,null),s.createElement(ke,null))}}var we=Object(i.b)(e=>({wizardStep:e.wizardStep}),e=>({}))(Ne);class Ce extends s.Component{constructor(e){if(super(e),this.state=Object.assign({carSelection:e.carSelection,language:e.language,productSelection:e.productSelection,cart:e.cart,user:e.user,newForm:e.newForm,searchResult:null,quickAdding:null},this.getData(e)),this.state.selectedRegularService&&this.state.selectedCar&&this.state.selectedRegularService.id){let e="/api/product/"+this.state.selectedRegularService.id,t=this.state.selectedCar;t.make&&t.model&&t.year&&t.trim&&(e+="/"+encodeURIComponent(t.make)+"/"+encodeURIComponent(t.model)+"/"+encodeURIComponent(t.year)+"/"+encodeURIComponent(t.trim)),$.ajax({url:e,type:"GET",dataType:"json",success:function(e,t,a){if(e&&e.addons&&(e.mandatoryAddons=e.addons.filter(e=>e.mandatory),e.optionalAddons=e.addons.filter(e=>!e.mandatory),e.mandatoryAddons))for(var s of e.mandatoryAddons){if(s.added=!0,s.parts&&1==s.parts.length){let e=s.pq&&s.pq>0?s.pq:1;s.selectedPart={brand:s.parts[0].brand,d:s.parts[0].d,icon:s.parts[0].icon,id:s.parts[0].id,lp:s.parts[0].lp,name:s.parts[0].name,p:s.parts[0].p,q:e,type:s.parts[0].type,unit:s.parts[0].unit}}s.parts&&s.parts.length>0&&!s.selectedPart&&(s.added=!1)}this.state.selectedRegularService=e}.bind(this)})}}getData(e){let t,a=e.productSelection.regularServices,s=e.carSelection.cars,r=e.carSelection.selectedCustCarId,n=e.carSelection.selectedCarIndex;r?s&&s.length>0&&(t=s.find(e=>e.custCarId==r)):null!=n&&s&&s.length>0&&(t=s[n]);let o=null;if(e.cart.bookedProducts&&e.cart.bookedProducts.length>0){let t=null;for(let a of e.cart.bookedProducts){if(a.addons)for(let e of a.addons)if(e.mandatory){t=a;break}if(t)break}if(t){let a=e.productSelection.regularServices;if(a&&a.length>0)for(let e of a)e.id==t.id&&(o=e)}}let i=null;if(e.cart.bookedProducts&&e.cart.bookedProducts.length>0){let t=null;for(let a of e.cart.bookedProducts){if(a.addons)for(let e of a.addons)if(e.mandatory){t=a;break}if(t)break}i=t}return{products:a,selectedCar:t,selectedRegularService:o,bookedRegularService:i}}componentDidMount(){this.state.bookedRegularService&&$(".addon-mandatory").addClass("show")}componentWillReceiveProps(e){let t=this.state;if(this.state.carSelection!=e.carSelection){let a,s=e.carSelection.cars,r=e.carSelection.selectedCustCarId,n=e.carSelection.selectedCarIndex;r?s&&s.length>0&&(a=s.find(e=>e.custCarId==r)):null!=n&&s&&s.length>0&&(a=s[n]),t=Object.assign(Object.assign({},t),{carSelection:e.carSelection,selectedCar:a}),this.setState(t)}if(this.state.productSelection!=e.productSelection&&(t=Object.assign(Object.assign({},t),{productSelection:e.productSelection}),this.setState(t)),this.state.cart!=e.cart){let a=null;if(e.cart.bookedProducts&&e.cart.bookedProducts.length>0){let t=null;for(let a of e.cart.bookedProducts){if(a.addons)for(let e of a.addons)if(e.mandatory){t=a;break}if(t)break}a=t}a?(t=Object.assign(Object.assign({},t),{cart:e.cart}),this.setState(t)):(t=Object.assign(Object.assign({},t),{cart:e.cart,selectedRegularService:null,bookedRegularService:null}),this.setState(t))}this.state.newForm!=e.newForm&&(t=Object.assign(Object.assign({},t),{newForm:e.newForm}),this.setState(t))}handleSearch(e){let t=e.currentTarget.value.trim().toLowerCase();if(t.length>0){let e=this.state.productSelection.regularServices,a=[];if(e&&e.length>0)for(let s of e)s.name&&-1!=s.name.toLowerCase().search(t)&&a.push(s);this.setState({keyword:t,searchResult:a})}else this.setState({keyword:t,searchResult:null})}highlightText(e,t){t=t.trim().toLowerCase();var a=e.toLowerCase().search(t);return-1!=a?e=(e=e.slice(0,a+t.length)+"</b>"+e.slice(a+t.length)).slice(0,a)+"<b>"+e.slice(a):e}handleOpenAddon(e){this.props.setSelectedProduct(this.state.selectedRegularService),this.props.setSelectedAddon(e)}handleQuickAdd(e){if(null==this.state.quickAdding)if(this.state.selectedCar)if(this.state.newForm.selectedTab&&(!this.state.cart.bookedGroup||1==this.state.cart.bookedGroup&&1==this.state.newForm.selectedTab.tab||1==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&3==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&5==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&6==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||3==this.state.cart.bookedGroup&&4==this.state.newForm.selectedTab.tab||3==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||4==this.state.cart.bookedGroup&&2==this.state.newForm.selectedTab.tab||4==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab)){let t=e.currentTarget.dataset.productId;this.setState({quickAdding:t},(function(){if(this.state.selectedCar&&t){let e="/api/product/"+t,a=this.state.selectedCar;a.make&&a.model&&a.year&&a.trim&&(e+="/"+encodeURIComponent(a.make)+"/"+encodeURIComponent(a.model)+"/"+encodeURIComponent(a.year)+"/"+encodeURIComponent(a.trim)),$.ajax({url:e,type:"GET",dataType:"json",success:function(e,a,s){if(e&&e.addons&&(e.mandatoryAddons=e.addons.filter(e=>e.mandatory),e.optionalAddons=e.addons.filter(e=>!e.mandatory),e.mandatoryAddons))for(var r of e.mandatoryAddons){if(r.added=!0,r.parts&&1==r.parts.length){let e=r.pq&&r.pq>0?r.pq:1;r.selectedPart={brand:r.parts[0].brand,d:r.parts[0].d,icon:r.parts[0].icon,id:r.parts[0].id,lp:r.parts[0].lp,name:r.parts[0].name,p:r.parts[0].p,q:e,type:r.parts[0].type,unit:r.parts[0].unit}}r.parts&&r.parts.length>0&&!r.selectedPart&&(r.added=!1)}this.setState({selectedRegularService:e,quickAdding:null},function(){let a=this.state.cart.bookedProducts,s={addons:null,hasAddons:this.hasAddons(e),hasParts:this.hasParts(e),hasQuantity:e.hasQuantity,id:t,name:e.name,p:e.p,part:null,q:e.q?e.q:1,quote:e.needsQuotation?1:0,subtotal:this.getProductSubtotal(e.id)};if(e.parts&&1==e.parts.length&&(s.part={brand:e.parts[0].brand,d:e.parts[0].d,icon:e.parts[0].icon,id:e.parts[0].id,lp:e.parts[0].lp,name:e.parts[0].brand+" "+e.parts[0].type,p:e.parts[0].p,q:e.pq&&e.pq>0?e.pq:1,type:e.parts[0].type,unit:null},e.pg&&("Volume"==e.pg.c?s.part.unit=(this.props.language,"Liter"):"Multiple"==e.pg.c&&s.part&&(s.part.q&&s.part.q>1?s.part.unit="EN"==this.props.language?"Pieces":"Buah":s.part.unit="EN"==this.props.language?"Piece":"Buah"))),e.addons&&e.addons.length>0)for(var r of(s.addons=[],e.addons)){var n=r.q?r.q:0;if(r.parts&&1==r.parts.length){let e=r.pq&&r.pq>0?r.pq:1;s.addons.push({added:!!r.hasQuantity||r.added,addons:r.addons,articles:r.articles,awp:r.awp,brands:r.brands,bt:r.bt,ch:r.ch,cover:r.cover,d:r.d,disabled:r.disabled,estd:r.estd,hasQuantity:r.hasQuantity,icon:r.icon,id:r.id,name:r.name,lobt:r.lobt,loh:r.loh,lp:r.lp,mandatory:r.mandatory,mandatoryAddons:r.mandatoryAddons,nawp:r.nawp,needsQuotation:r.needsQuotation,nocar:r.nocar,oh:r.oh,optionalAddons:r.optionalAddons,p:r.p,part:{brand:r.parts[0].brand,d:r.parts[0].d,icon:r.parts[0].icon,id:r.parts[0].id,lp:r.parts[0].lp,name:r.parts[0].name,p:r.parts[0].p,q:e,type:r.parts[0].type,unit:r.parts[0].unit},parts:r.parts,pg:r.pg,pq:r.pq,q:n,quote:r.needsQuotation?1:0,recommended:r.recommended,subtotal:(r.p+r.parts[0].p*e)*n,sd:r.sd,seqNo:r.seqNo,selectedBrand:r.selectedBrand,selectedPart:{brand:r.parts[0].brand,d:r.parts[0].d,icon:r.parts[0].icon,id:r.parts[0].id,lp:r.parts[0].lp,name:r.parts[0].name,p:r.parts[0].p,q:e,type:r.parts[0].type,unit:r.parts[0].unit}})}else{let e=r.pq&&r.pq>0?r.pq:1;s.addons.push({added:!!r.hasQuantity||r.added,addons:r.addons,articles:r.articles,awp:r.awp,brands:r.brands,bt:r.bt,ch:r.ch,cover:r.cover,d:r.d,disabled:r.disabled,estd:r.estd,hasQuantity:r.hasQuantity,icon:r.icon,id:r.id,name:r.name,lobt:r.lobt,loh:r.loh,lp:r.lp,mandatory:r.mandatory,mandatoryAddons:r.mandatoryAddons,nawp:r.nawp,needsQuotation:r.needsQuotation,nocar:r.nocar,oh:r.oh,optionalAddons:r.optionalAddons,p:r.p,part:r.selectedPart,parts:r.parts,pg:r.pg,pq:r.pq,q:n,quote:r.needsQuotation?1:0,recommended:r.recommended,subtotal:(r.p+(r.selectedPart&&r.selectedPart.q?r.selectedPart.q:0)*e)*n,sd:r.sd,seqNo:r.seqNo,selectedBrand:r.selectedBrand,selectedPart:r.selectedPart})}}this.setState({bookedRegularService:s},function(){(null==a||a&&0==a.length)&&this.smoothScrollTo("#make-appointment"),a||(a=[]),a.push(s);let e=[];for(let t of a)e.push(t.id);this.props.setBookedProducts(a,this.state.user.userLoggedin),this.props.checkVoucherValid(this.state.cart.bookedProducts,this.state.newForm.applyVoucherResult),this.props.getSlotsAsync(e),this.props.setProgress(2),this.state.newForm.selectedTab&&(1==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(1,this.state.user.userLoggedin):3==this.state.newForm.selectedTab.tab||5==this.state.newForm.selectedTab.tab||6==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(2,this.state.user.userLoggedin):4==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(3,this.state.user.userLoggedin):2==this.state.newForm.selectedTab.tab&&this.props.setBookedGroup(4,this.state.user.userLoggedin)),setTimeout((function(){$(".addon-mandatory").addClass("show")}),200)}.bind(this))}.bind(this))}.bind(this),error:function(e,t,a){this.setState({quickAdding:null})}.bind(this)})}}))}else{let e={title:"EN"==this.state.language?"Empty the cart?":"Kosongkan keranjang?",message:"EN"==this.state.language?"You must empty the cart before moving service.":"Anda harus mengosongkan keranjang sebelum pindah layanan.",okButton:"EN"==this.state.language?"REMOVE":"KOSONGKAN",cancelButton:"EN"==this.state.language?"CANCEL":"BATAL",okOnly:!1,ok:function(){this.props.setBookedProducts([],this.state.user.userLoggedin),this.props.setBookedInquiries([],this.state.user.userLoggedin),this.props.setBookedGroup(null,this.state.user.userLoggedin),this.props.setProgress(1)}.bind(this)};this.props.setAlert(e)}else{let e={title:"EN"==this.state.language?"Please select car":"Tolong pilih mobil",message:"EN"==this.state.language?"You need to select car first before add product.":"Anda perlu memilih mobil terlebih dahulu sebelum menambahkan produk.",okButton:(this.state.language,"OK"),okOnly:!0,ok:function(){}.bind(this)};this.props.setAlert(e)}}handleRemoveProduct(e){let t;this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0&&(t=this.state.cart.bookedProducts.find(t=>t.id==e.id)),this.setState({selectedRegularService:null,bookedRegularService:null},function(){let a=t?t.id:e.id,s=[];if(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0){s=this.state.cart.bookedProducts.slice();for(let e=0;e<s.length;e++)if(s[e].id==a){s.splice(e,1);break}}this.props.setBookedProducts(s,this.state.user.userLoggedin),this.props.checkVoucherValid(s,this.state.newForm.applyVoucherResult);let r=[];for(let e of s)r.push(e.id);this.props.getSlotsAsync(r);let n=[];this.state.cart.bookedInquiries&&this.state.cart.bookedInquiries.length>0&&(n=this.state.cart.bookedInquiries),s.length>0||n.length>0?this.props.setProgress(2):(this.props.setProgress(1),this.props.setBookedGroup(null,this.state.user.userLoggedin))}.bind(this))}isSelected(e){return!!this.state.cart.bookedProducts&&(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.some(t=>t.id==e))}hasParts(e){if(e.brands&&e.brands.length>0||e.parts&&e.parts.length>0)return!0;if(e.addons)for(var t of e.addons)if(t.mandatory&&this.hasParts(t))return!0;return!1}hasAddons(e){if(e.addons)for(var t of e.addons)if(!t.mandatory&&!t.recommended)return!0;return!1}getProductSubtotal(e){var t=0;if(e)if(e.brands&&0!=e.brands.length||e.parts&&0!=e.parts.length){if(e&&(e.added||e.mandatory)&&!isNaN(e.p)&&(t+=e.p,e.selectedPart)){var a=e.selectedPart.q&&e.selectedPart.q>0?e.selectedPart.q:1;t+=e.selectedPart.p*a}}else t=e.p;return t}smoothScrollTo(e){$(e).addClass("flash"),setTimeout((function(){$(e).removeClass("flash")}),100);let t=$(e).offset();t&&window.scroll({top:t.top-70,left:0,behavior:"smooth"})}handleRemoveOptionalAddon(e){let t=e.currentTarget.dataset.productId,a=e.currentTarget.dataset.addonId;if(this.state.cart.bookedProducts){for(let e of this.state.cart.bookedProducts)if(e.id==t&&e.addons)for(let t of e.addons)t.id==a&&(t.added=!1);this.props.setBookedProducts(this.state.cart.bookedProducts,this.state.user.userLoggedin),this.props.checkVoucherValid(this.state.cart.bookedProducts,this.state.newForm.applyVoucherResult)}}handleAddOptionalAddon(e){let t=e.currentTarget.dataset.productId,a=e.currentTarget.dataset.addonId;if(this.state.cart.bookedProducts){for(let e of this.state.cart.bookedProducts)if(e.id==t&&e.addons)for(let t of e.addons)t.id==a&&(t.added=!0);this.props.setBookedProducts(this.state.cart.bookedProducts,this.state.user.userLoggedin),this.props.checkVoucherValid(this.state.cart.bookedProducts,this.state.newForm.applyVoucherResult)}}getMandatoryAddons(){let e=[];if(this.state.bookedRegularService){let t=this.state.bookedRegularService.addons;if(t)for(let a of t)a.mandatory&&e.push(a)}return e}getOptionalAddons(){let e=[];if(this.state.bookedRegularService){let t=this.state.bookedRegularService.addons;if(t)for(let a of t)a.mandatory||e.push(a)}return e}checkOptionalAddonsVisible(){let e=!0;if(this.state.bookedRegularService){let t=this.state.bookedRegularService.addons;if(t)for(let a of t)a.mandatory&&!a.added&&(e=!1)}return e}render(){let e=this.getMandatoryAddons(),t=this.getOptionalAddons(),a=this.checkOptionalAddonsVisible();return s.createElement("div",{className:"content regular-service"},!this.state.selectedRegularService&&s.createElement("div",{className:"search hidden-m"},s.createElement("div",{className:"search-box"},s.createElement("div",{className:"search-box-icon"},s.createElement("img",{src:"https://montircdn.azureedge.net/img/icon-search.svg",width:"18",height:"18"})),s.createElement("input",{type:"text",placeholder:"EN"==this.state.language?"Search services...":"Telusuri layanan...",onKeyUp:this.handleSearch.bind(this)}))),s.createElement("ul",null,this.state.searchResult&&!this.state.selectedRegularService&&this.state.searchResult.map((function(e,t){let a=this.isSelected(e.id);return s.createElement("li",{key:t,className:"product"},s.createElement("span",{className:"product-name not-selected",dangerouslySetInnerHTML:{__html:this.highlightText(e.name,this.state.keyword)}}),a&&s.createElement("a",{href:"javascript:void(0)",className:"btn cancel",onClick:this.handleRemoveProduct.bind(this,e)},s.createElement(c.a,{EN:"CANCEL",ID:"BATAL"})),a&&s.createElement("span",{className:"added-to-cart"},s.createElement(c.a,{EN:"Added to cart",ID:"Di keranjang"})),!a&&s.createElement("button",{disabled:null!=this.state.quickAdding,className:"btn add-to-cart","data-product-id":e.id,onClick:this.handleQuickAdd.bind(this)},s.createElement(c.a,{EN:"ADD",ID:"PILIH"})),!a&&s.createElement("img",{className:"arrow-forward",src:"/img/icon-arrow-fwd.png"}))}),this),!this.state.searchResult&&!this.state.selectedRegularService&&this.state.products&&this.state.products.map((function(e,t){let a=this.isSelected(e.id);return s.createElement("li",{key:t,className:"product"},a&&s.createElement("span",{className:"product-name not-selected"},e.name),!a&&s.createElement("a",{href:"javascript:void(0)",className:"product-name not-selected","data-product-id":e.id,onClick:this.handleQuickAdd.bind(this)},e.name),a&&s.createElement("a",{href:"javascript:void(0)",className:"btn cancel",onClick:this.handleRemoveProduct.bind(this,e)},s.createElement(c.a,{EN:"CANCEL",ID:"BATAL"})),a&&s.createElement("span",{className:"added-to-cart hidden-m"},s.createElement(c.a,{EN:"Added to cart",ID:"Di keranjang"})),!a&&s.createElement("button",{disabled:null!=this.state.quickAdding,className:"btn add-to-cart","data-product-id":e.id,onClick:this.handleQuickAdd.bind(this)},s.createElement(c.a,{EN:"ADD",ID:"PILIH"})),!a&&s.createElement("img",{className:"arrow-forward",src:"/img/icon-arrow-fwd.png"}))}),this),this.state.selectedRegularService&&s.createElement("li",{className:"product"},s.createElement("span",{className:"product-name not-selected"},this.state.selectedRegularService.name),s.createElement("a",{href:"javascript:void(0)",className:"btn cancel",onClick:this.handleRemoveProduct.bind(this,this.state.selectedRegularService)},s.createElement(c.a,{EN:"CANCEL",ID:"BATAL"})),s.createElement("span",{className:"added-to-cart hidden-m"},s.createElement(c.a,{EN:"Added to cart",ID:"Di keranjang"}))),this.state.selectedRegularService&&e.length>0&&e.map((function(e,t){let a=e.added,r=!(!(e.parts&&e.parts.length>0)||e.selectedPart),n=!(!e.parts||1!=e.parts.length);return r?s.createElement("li",{key:t,className:"addon-mandatory"},s.createElement("a",{href:"javascript:void(0)",className:"addon-name not-selected",onClick:this.handleOpenAddon.bind(this,e)},e.name),s.createElement("a",{href:"javascript:void(0)",className:"btn add-to-cart orange-outline-pulses-if-untouched",onClick:this.handleOpenAddon.bind(this,e)},s.createElement(c.a,{EN:"ADD",ID:"PILIH"}))):s.createElement("li",{key:t,className:"addon-mandatory"},a&&s.createElement("i",{className:"addon-added fa fa-check"}),s.createElement("a",{href:"javascript:void(0)",className:"addon-name"+(a?"":" not-selected"),onClick:this.handleOpenAddon.bind(this,e)},e.name),s.createElement("a",{href:"javascript:void(0)",className:"addon-price"+(a?"":" not-selected"),onClick:this.handleOpenAddon.bind(this,e)},e.parts&&e.parts.length>0&&e.selectedPart&&e.pq&&e.pq>0&&"Rp "+(e.selectedPart.p*e.pq+e.p).toLocaleString(),e.parts&&e.parts.length>0&&e.selectedPart&&!e.pq&&"Rp "+(e.selectedPart.p+e.p).toLocaleString(),e.parts&&0==e.parts.length&&"Rp "+e.p.toLocaleString(),!e.parts&&"Rp "+e.p.toLocaleString()),a&&n&&s.createElement("a",{href:"javascript:void(0)",className:"actions",onClick:this.handleOpenAddon.bind(this,e)},s.createElement(c.a,{EN:"SEE",ID:"LIHAT"})),a&&!n&&s.createElement("a",{href:"javascript:void(0)",className:"actions",onClick:this.handleOpenAddon.bind(this,e)},s.createElement(c.a,{EN:"EDIT",ID:"UBAH"})),!a&&s.createElement("a",{href:"javascript:void(0)",className:"actions",onClick:this.handleOpenAddon.bind(this,e)},s.createElement(c.a,{EN:"SEE",ID:"LIHAT"})))}),this),this.state.selectedRegularService&&a&&t.length>0&&s.createElement("li",{className:"separator"},s.createElement("span",{className:"separator-title"},s.createElement(c.a,{EN:"Optional Service",ID:"Jasa Tambahan"}))),this.state.selectedRegularService&&a&&t.length>0&&t.map((function(e,t){let a=e.added;return s.createElement("li",{key:t,className:"addon-optional"},a&&s.createElement("i",{className:"addon-added fa fa-check"}),s.createElement("span",{className:"addon-name"},e.name),s.createElement("span",{className:"addon-price"},e.parts&&e.parts.length>0&&e.pq&&e.pq>0&&"Rp "+(e.parts[0].p*e.pq+e.p).toLocaleString(),e.parts&&e.parts.length>0&&!e.pq&&"Rp "+(e.parts[0].p+e.p).toLocaleString(),e.parts&&0==e.parts.length&&"Rp "+e.p.toLocaleString(),!e.parts&&"Rp "+e.p.toLocaleString()),a&&s.createElement("a",{href:"javascript:void(0)",className:"cancel","data-product-id":this.state.selectedRegularService.id,"data-addon-id":e.id,onClick:this.handleRemoveOptionalAddon.bind(this)},s.createElement(c.a,{EN:"CANCEL",ID:"BATAL"})),!a&&s.createElement("a",{href:"javascript:void(0)",className:"btn add-to-cart","data-product-id":this.state.selectedRegularService.id,"data-addon-id":e.id,onClick:this.handleAddOptionalAddon.bind(this)},s.createElement(c.a,{EN:"ADD TO CART",ID:"TAMBAHKAN"})))}),this)))}}var Pe=Object(i.b)(e=>({carSelection:e.carSelection,language:e.language,productSelection:e.productSelection,cart:e.cart,user:e.user,newForm:e.newForm}),e=>({setSelectedProduct:Object(o.a)(T.g,e),setSelectedAddon:Object(o.a)(T.f,e),setBookedProducts:Object(o.a)(m.c,e),getSlotsAsync:t=>w(e,t),setAlert:Object(o.a)(f.c,e),checkQualifiedVoucher:Object(o.a)(f.a,e),setProgress:Object(o.a)(u,e),setBookedGroup:Object(o.a)(m.a,e),setBookedInquiries:Object(o.a)(m.b,e),checkVoucherValid:Object(o.a)(f.b,e)}))(Ce);class Oe extends s.Component{constructor(e){super(e),this.state=Object.assign({carSelection:e.carSelection,language:e.language,productSelection:e.productSelection,cart:e.cart,user:e.user,newForm:e.newForm,searchResult:null,quickAdding:null},this.getData(e))}getData(e){let t,a,s=e.productSelection.generalServices,r=e.carSelection.cars,n=e.carSelection.selectedCustCarId,o=e.carSelection.selectedCarIndex;return n?r&&r.length>0&&(t=r.find(e=>e.custCarId==n)):null!=o&&r&&r.length>0&&(t=r[o]),s&&s.length>0&&(a=s[0]),{productCategories:s,selectedCar:t,selectedCategory:a}}componentDidMount(){}componentWillReceiveProps(e){let t=this.state;if(this.state.carSelection!=e.carSelection){let a,s=e.carSelection.cars,r=e.carSelection.selectedCustCarId,n=e.carSelection.selectedCarIndex;r?s&&s.length>0&&(a=s.find(e=>e.custCarId==r)):null!=n&&s&&s.length>0&&(a=s[n]),t=Object.assign(Object.assign({},t),{carSelection:e.carSelection,selectedCar:a}),this.setState(t)}this.state.productSelection!=e.productSelection&&(t=Object.assign(Object.assign({},t),{productSelection:e.productSelection}),this.setState(t)),this.state.cart!=e.cart&&(t=Object.assign(Object.assign({},t),{cart:e.cart}),this.setState(t)),this.state.newForm!=e.newForm&&(t=Object.assign(Object.assign({},t),{newForm:e.newForm}),this.setState(t))}handleSearch(e){let t=e.currentTarget.value.trim().toLowerCase();if(t.length>0){let e=this.state.productSelection.generalServices,a=[];if(e&&e.length>0)for(let s of e)for(let e of s.products)e.name&&-1!=e.name.toLowerCase().search(t)&&a.push(e);this.setState({keyword:t,searchResult:a})}else this.setState({keyword:t,searchResult:null})}highlightText(e,t){t=t.trim().toLowerCase();var a=e.toLowerCase().search(t);return-1!=a?e=(e=e.slice(0,a+t.length)+"</b>"+e.slice(a+t.length)).slice(0,a)+"<b>"+e.slice(a):e}handleOpenProduct(e){if(this.state.newForm.selectedTab&&(!this.state.cart.bookedGroup||1==this.state.cart.bookedGroup&&1==this.state.newForm.selectedTab.tab||1==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&3==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&5==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&6==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||3==this.state.cart.bookedGroup&&4==this.state.newForm.selectedTab.tab||3==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||4==this.state.cart.bookedGroup&&2==this.state.newForm.selectedTab.tab||4==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab))this.props.setSelectedProduct(e);else{let e={title:"EN"==this.state.language?"Empty the cart?":"Kosongkan keranjang?",message:"EN"==this.state.language?"You must empty the cart before moving service.":"Anda harus mengosongkan keranjang sebelum pindah layanan.",okButton:"EN"==this.state.language?"REMOVE":"KOSONGKAN",cancelButton:"EN"==this.state.language?"CANCEL":"BATAL",okOnly:!1,ok:function(){this.props.setBookedProducts([],this.state.user.userLoggedin),this.props.setBookedInquiries([],this.state.user.userLoggedin),this.props.setBookedGroup(null,this.state.user.userLoggedin),this.props.setProgress(1)}.bind(this)};this.props.setAlert(e)}}handleQuickAdd(e){if(this.state.newForm.selectedTab&&(!this.state.cart.bookedGroup||1==this.state.cart.bookedGroup&&1==this.state.newForm.selectedTab.tab||1==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&3==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&5==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&6==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||3==this.state.cart.bookedGroup&&4==this.state.newForm.selectedTab.tab||3==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||4==this.state.cart.bookedGroup&&2==this.state.newForm.selectedTab.tab||4==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab)){let t=e.currentTarget.dataset.productId;this.setState({quickAdding:t},(function(){if(this.state.selectedCar&&t){let e="/api/product/"+t,a=this.state.selectedCar;a.make&&a.model&&a.year&&a.trim&&(e+="/"+encodeURIComponent(a.make)+"/"+encodeURIComponent(a.model)+"/"+encodeURIComponent(a.year)+"/"+encodeURIComponent(a.trim)),$.ajax({url:e,type:"GET",dataType:"json",success:function(e,a,s){this.setState({quickAdding:null},function(){if(e.brands&&e.brands.length>0||e.parts&&e.parts.length>1||e.nocar||e.disabled||e.needsQuotation||!this.state.selectedCar)this.handleOpenProduct(e);else{let r=this.state.cart.bookedProducts,n={addons:null,hasAddons:this.hasAddons(e),hasParts:this.hasParts(e),hasQuantity:e.hasQuantity,id:t,name:e.name,p:e.p,part:null,q:e.q?e.q:1,quote:e.needsQuotation?1:0,subtotal:this.getProductSubtotal(e.id)};if(e.parts&&1==e.parts.length&&(n.part={brand:e.parts[0].brand,d:e.parts[0].d,icon:e.parts[0].icon,id:e.parts[0].id,lp:e.parts[0].lp,name:e.parts[0].brand+" "+e.parts[0].type,p:e.parts[0].p,q:e.pq&&e.pq>0?e.pq:1,type:e.parts[0].type,unit:null},e.pg&&("Volume"==e.pg.c?n.part.unit=(this.props.language,"Liter"):"Multiple"==e.pg.c&&n.part&&(n.part.q&&n.part.q>1?n.part.unit="EN"==this.props.language?"Pieces":"Buah":n.part.unit="EN"==this.props.language?"Piece":"Buah"))),e.addons&&e.addons.length>0)for(var a of(n.addons=[],e.addons))if(a&&!(a.mandatory||a.brands&&0!=a.brands.length||a.parts&&!(a.parts.length<=1))){var s=a.q?a.q:0;if(a.parts&&1==a.parts.length){let e=a.pq&&a.pq>0?a.pq:1;n.addons.push({added:!!a.hasQuantity||a.added,addons:a.addons,articles:a.articles,awp:a.awp,brands:a.brands,bt:a.bt,ch:a.ch,cover:a.cover,d:a.d,disabled:a.disabled,estd:a.estd,hasQuantity:a.hasQuantity,icon:a.icon,id:a.id,name:a.name,lobt:a.lobt,loh:a.loh,lp:a.lp,mandatory:a.mandatory,mandatoryAddons:a.mandatoryAddons,nawp:a.nawp,needsQuotation:a.needsQuotation,nocar:a.nocar,oh:a.oh,optionalAddons:a.optionalAddons,p:a.p,part:{brand:a.parts[0].brand,d:a.parts[0].d,icon:a.parts[0].icon,id:a.parts[0].id,lp:a.parts[0].lp,name:a.parts[0].name,p:a.parts[0].p,q:e,type:a.parts[0].type,unit:a.parts[0].unit},parts:a.parts,pg:a.pg,pq:a.pq,q:s,quote:a.needsQuotation?1:0,recommended:a.recommended,subtotal:(a.p+a.parts[0].p*e)*s,sd:a.sd,seqNo:a.seqNo,selectedBrand:a.selectedBrand,selectedPart:{brand:a.parts[0].brand,d:a.parts[0].d,icon:a.parts[0].icon,id:a.parts[0].id,lp:a.parts[0].lp,name:a.parts[0].name,p:a.parts[0].p,q:e,type:a.parts[0].type,unit:a.parts[0].unit}})}else{let e=a.pq&&a.pq>0?a.pq:1;n.addons.push({added:!!a.hasQuantity||a.added,addons:a.addons,articles:a.articles,awp:a.awp,brands:a.brands,bt:a.bt,ch:a.ch,cover:a.cover,d:a.d,disabled:a.disabled,estd:a.estd,hasQuantity:a.hasQuantity,icon:a.icon,id:a.id,name:a.name,lobt:a.lobt,loh:a.loh,lp:a.lp,mandatory:a.mandatory,mandatoryAddons:a.mandatoryAddons,nawp:a.nawp,needsQuotation:a.needsQuotation,nocar:a.nocar,oh:a.oh,optionalAddons:a.optionalAddons,p:a.p,part:a.selectedPart,parts:a.parts,pg:a.pg,pq:a.pq,q:s,quote:a.needsQuotation?1:0,recommended:a.recommended,subtotal:(a.p+(a.selectedPart&&a.selectedPart.q?a.selectedPart.q:0)*e)*s,sd:a.sd,seqNo:a.seqNo,selectedBrand:a.selectedBrand,selectedPart:a.selectedPart})}}(null==r||r&&0==r.length)&&this.smoothScrollTo("#make-appointment"),r||(r=[]),r.push(n);let o=[];for(let e of r)o.push(e.id);this.props.setBookedProducts(r,this.state.user.userLoggedin),this.props.checkVoucherValid(r,this.state.newForm.applyVoucherResult),this.props.getSlotsAsync(o),this.props.setProgress(2),this.state.newForm.selectedTab&&(1==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(1,this.state.user.userLoggedin):3==this.state.newForm.selectedTab.tab||5==this.state.newForm.selectedTab.tab||6==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(2,this.state.user.userLoggedin):4==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(3,this.state.user.userLoggedin):2==this.state.newForm.selectedTab.tab&&this.props.setBookedGroup(4,this.state.user.userLoggedin))}}.bind(this))}.bind(this),error:function(e,t,a){this.setState({quickAdding:null})}.bind(this)})}}))}else{let e={title:"EN"==this.state.language?"Empty the cart?":"Kosongkan keranjang?",message:"EN"==this.state.language?"You must empty the cart before moving service.":"Anda harus mengosongkan keranjang sebelum pindah layanan.",okButton:"EN"==this.state.language?"REMOVE":"KOSONGKAN",cancelButton:"EN"==this.state.language?"CANCEL":"BATAL",okOnly:!1,ok:function(){this.props.setBookedProducts([],this.state.user.userLoggedin),this.props.setBookedInquiries([],this.state.user.userLoggedin),this.props.setBookedGroup(null,this.state.user.userLoggedin),this.props.setProgress(1)}.bind(this)};this.props.setAlert(e)}}handleRemoveProduct(e){let t;this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0&&(t=this.state.cart.bookedProducts.find(t=>t.id==e.id));let a={title:("EN"==this.state.language?"Remove ":"Keluarkan ")+(t?t.name:e.name)+("EN"==this.state.language?" from cart?":" dari keranjang?"),message:t&&t.addons&&t.addons.length>0?(t?t.name:e.name)+("EN"==this.state.language?" and all of its optional services will be removed from cart.":" dan semua layanan tambahannya akan dikeluarkan dari keranjang."):null,okButton:"EN"==this.state.language?"REMOVE":"KELUARKAN",cancelButton:"EN"==this.state.language?"CANCEL":"BATAL",okOnly:!1,ok:function(){let a=t?t.id:e.id,s=[];if(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0){s=this.state.cart.bookedProducts.slice();for(let e=0;e<s.length;e++)if(s[e].id==a){s.splice(e,1);break}}this.props.setBookedProducts(s,this.state.user.userLoggedin),this.props.checkVoucherValid(s,this.state.newForm.applyVoucherResult);let r=[];for(let e of s)r.push(e.id);this.props.getSlotsAsync(r);let n=[];this.state.cart.bookedInquiries&&this.state.cart.bookedInquiries.length>0&&(n=this.state.cart.bookedInquiries),s.length>0||n.length>0?this.props.setProgress(2):(this.props.setProgress(1),this.props.setBookedGroup(null,this.state.user.userLoggedin))}.bind(this)};this.props.setAlert(a)}isSelected(e){return!!this.state.cart.bookedProducts&&(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.some(t=>t.id==e))}hasParts(e){if(e){if(e.brands&&e.brands.length>0||e.parts&&e.parts.length>0)return!0;if(e.addons)for(var t of e.addons)if(t.mandatory&&this.hasParts(t))return!0}return!1}hasAddons(e){if(e.addons)for(var t of e.addons)if(!t.mandatory&&!t.recommended)return!0;return!1}getProductSubtotal(e){var t=0;if(e)if(e.brands&&0!=e.brands.length||e.parts&&0!=e.parts.length){if(e&&(e.added||e.mandatory)&&!isNaN(e.p)&&(t+=e.p,e.selectedPart)){var a=e.selectedPart.q&&e.selectedPart.q>0?e.selectedPart.q:1;t+=e.selectedPart.p*a}}else t=e.p;return t}smoothScrollTo(e){$(e).addClass("flash"),setTimeout((function(){$(e).removeClass("flash")}),100);let t=$(e).offset();t&&window.scroll({top:t.top-70,left:0,behavior:"smooth"})}handleSelectCategory(e){this.state.productCategories&&this.setState({selectedCategory:this.state.productCategories.find(t=>t.id==e.currentTarget.dataset.categoryId)})}render(){return s.createElement("div",{className:"content general-service"},s.createElement("div",{className:"search hidden-m"},s.createElement("div",{className:"search-box"},s.createElement("div",{className:"search-box-icon"},s.createElement("img",{src:"https://montircdn.azureedge.net/img/icon-search.svg",width:"18",height:"18"})),s.createElement("input",{type:"text",placeholder:"EN"==this.state.language?"Search services...":"Telusuri layanan...",onKeyUp:this.handleSearch.bind(this)}))),this.state.searchResult&&s.createElement("ul",{className:"search-result"},this.state.searchResult.map((function(e,t){let a=this.isSelected(e.id);return s.createElement("li",{key:t},a&&s.createElement("i",{className:"product-added fa fa-check"}),s.createElement("a",{href:"javascript:void(0)",className:"product-name"+(a?"":" not-selected"),onClick:this.handleOpenProduct.bind(this,e),dangerouslySetInnerHTML:{__html:this.highlightText(e.name,this.state.keyword)}}),a&&s.createElement("a",{href:"javascript:void(0)",className:"btn cancel",onClick:this.handleRemoveProduct.bind(this,e)},s.createElement(c.a,{EN:"CANCEL",ID:"BATAL"})),!a&&s.createElement("a",{href:"javascript:void(0)",className:"btn details",onClick:this.handleOpenProduct.bind(this,e)},s.createElement(c.a,{EN:"DETAILS",ID:"LIHAT DETAIL"})),!a&&s.createElement("a",{href:"javascript:void(0)",className:"btn add-to-cart","data-product-id":e.id,onClick:this.handleQuickAdd.bind(this)},s.createElement(c.a,{EN:"ADD TO CART",ID:"TAMBAHKAN"})))}),this)),!this.state.searchResult&&s.createElement("div",{className:"content hidden-m"},s.createElement("div",{className:"product-categories"},s.createElement("ul",null,this.state.productCategories&&this.state.productCategories.length>0&&this.state.productCategories.map((function(e,t){return s.createElement("li",{key:e.id,className:this.state.selectedCategory&&this.state.selectedCategory.id==e.id?"active":""},s.createElement("a",{href:"javascript:void(0)","data-category-id":e.id,onClick:this.handleSelectCategory.bind(this)},e.name))}),this))),s.createElement("div",{className:"products"},s.createElement("ul",null,this.state.selectedCategory&&this.state.selectedCategory.products.length>0&&this.state.selectedCategory.products.map((function(e,t){let a=this.isSelected(e.id);return s.createElement("li",{key:e.id},a&&s.createElement("i",{className:"product-added fa fa-check"}),s.createElement("a",{href:"javascript:void(0)",className:"product-name"+(a?"":" not-selected"),onClick:this.handleOpenProduct.bind(this,e)},e.name),a&&s.createElement("a",{href:"javascript:void(0)",className:"btn cancel",onClick:this.handleRemoveProduct.bind(this,e)},s.createElement(c.a,{EN:"CANCEL",ID:"BATAL"})),!a&&s.createElement("a",{href:"javascript:void(0)",className:"btn details",onClick:this.handleOpenProduct.bind(this,e)},s.createElement(c.a,{EN:"DETAILS",ID:"LIHAT DETAIL"})),!a&&s.createElement("a",{href:"javascript:void(0)",className:"btn add-to-cart","data-product-id":e.id,onClick:this.handleQuickAdd.bind(this)},s.createElement(c.a,{EN:"ADD TO CART",ID:"TAMBAHKAN"})))}),this)))),!this.state.searchResult&&s.createElement("div",{className:"content visible-m"},this.state.productCategories&&this.state.productCategories.length>0&&this.state.productCategories.map((function(e,t){return s.createElement("div",{className:"product-category",key:t},s.createElement("a",{href:"javascript:void(0)","data-toggle":"collapse","data-target":"#product-category-"+t,className:"product-category-toggle"},s.createElement("i",{className:"fa fa-angle-down pull-right"}),e.name),s.createElement("div",{id:"product-category-"+t,className:"collapse in"},e.products&&e.products.map((function(e,t){let a=this.isSelected(e.id);return s.createElement("div",{key:e.id,className:"product"},a&&s.createElement("i",{className:"product-added fa fa-check"}),s.createElement("a",{href:"javascript:void(0)",className:"product-name"+(a?"":" not-selected"),onClick:this.handleOpenProduct.bind(this,e)},e.name),a&&s.createElement("a",{href:"javascript:void(0)",className:"btn cancel",onClick:this.handleRemoveProduct.bind(this,e)},s.createElement(c.a,{EN:"CANCEL",ID:"BATAL"})),!a&&s.createElement("a",{href:"javascript:void(0)",className:"btn details hidden-m",onClick:this.handleOpenProduct.bind(this,e)},s.createElement(c.a,{EN:"DETAILS",ID:"LIHAT DETAIL"})),!a&&s.createElement("a",{href:"javascript:void(0)",className:"btn infos visible-m",onClick:this.handleOpenProduct.bind(this,e)},s.createElement("i",{className:"fa fa-info-circle"})),!a&&s.createElement("a",{href:"javascript:void(0)",className:"btn add-to-cart","data-product-id":e.id,onClick:this.handleQuickAdd.bind(this)},s.createElement(c.a,{EN:"ADD TO CART",ID:"TAMBAHKAN"})))}),this)))}),this)))}}var Te=Object(i.b)(e=>({carSelection:e.carSelection,language:e.language,productSelection:e.productSelection,cart:e.cart,user:e.user,newForm:e.newForm}),e=>({setSelectedProduct:Object(o.a)(T.g,e),setBookedProducts:Object(o.a)(m.c,e),getSlotsAsync:t=>w(e,t),setAlert:Object(o.a)(f.c,e),checkQualifiedVoucher:Object(o.a)(f.a,e),setProgress:Object(o.a)(u,e),setBookedGroup:Object(o.a)(m.a,e),setBookedInquiries:Object(o.a)(m.b,e),checkVoucherValid:Object(o.a)(f.b,e)}))(Oe);class Ie extends s.Component{constructor(e){super(e);let t=null,a=null;e.cart.bookedInquiries&&e.cart.bookedInquiries.length>0&&("Car is not starting"==e.cart.bookedInquiries[0].category||"Mobil tidak bisa distarter"==e.cart.bookedInquiries[0].category?t={EN:"Car is not starting",ID:"Mobil tidak bisa distarter"}:"Change engine oil or other fluids"==e.cart.bookedInquiries[0].category||"Ganti oli mesin atau cairan lainnya"==e.cart.bookedInquiries[0].category?t={EN:"Change engine oil or other fluids",ID:"Ganti oli mesin atau cairan lainnya"}:"Scheduled maintenance"==e.cart.bookedInquiries[0].category||"Servis berkala"==e.cart.bookedInquiries[0].category?t={EN:"Scheduled maintenance",ID:"Servis berkala"}:"Brakes or suspension problem"==e.cart.bookedInquiries[0].category||"Masalah rem dan kaki-kaki"==e.cart.bookedInquiries[0].category?t={EN:"Brakes or suspension problem",ID:"Masalah rem dan kaki-kaki"}:"Engine problem"==e.cart.bookedInquiries[0].category||"Masalah mesin"==e.cart.bookedInquiries[0].category?t={EN:"Engine problem",ID:"Masalah mesin"}:"Air conditioning (AC)"==e.cart.bookedInquiries[0].category||"Servis AC"==e.cart.bookedInquiries[0].category?t={EN:"Air conditioning (AC)",ID:"Servis AC"}:"Pre-purchase inspection"==e.cart.bookedInquiries[0].category||"Inspeksi pra-pembelian mobil bekas"==e.cart.bookedInquiries[0].category?t={EN:"Pre-purchase inspection",ID:"Inspeksi pra-pembelian mobil bekas"}:"Purchase spare parts"==e.cart.bookedInquiries[0].category||"Pembelian spare part"==e.cart.bookedInquiries[0].category?t={EN:"Purchase spare parts",ID:"Pembelian spare part"}:"Other"!=e.cart.bookedInquiries[0].category&&"Lainnya"!=e.cart.bookedInquiries[0].category||(t={EN:"Other",ID:"Lainnya"}),a=e.cart.bookedInquiries[0].description),this.state=Object.assign({carSelection:e.carSelection,language:e.language,user:e.user,cart:e.cart,newForm:e.newForm,problemCategory:t,problemDescription:a},this.getDataProps(e))}getDataProps(e){let t,a=e.carSelection.cars,s=e.carSelection.selectedCustCarId,r=e.carSelection.selectedCarIndex;return s?a&&a.length>0&&(t=a.find(e=>e.custCarId==s)):null!=r&&a&&a.length>0&&(t=a[r]),{selectedCar:t}}componentDidMount(){}componentWillReceiveProps(e){let t=this.state;if(this.state.carSelection!=e.carSelection){let a,s=e.carSelection.cars,r=e.carSelection.selectedCustCarId,n=e.carSelection.selectedCarIndex;r?s&&s.length>0&&(a=s.find(e=>e.custCarId==r)):null!=n&&s&&s.length>0&&(a=s[n]),t=Object.assign(Object.assign({},t),{carSelection:e.carSelection,selectedCar:a}),this.setState(t)}this.state.language!=e.language&&(t=Object.assign(Object.assign({},t),{language:e.language}),this.setState(t)),this.state.cart!=e.cart&&(t=Object.assign(Object.assign({},t),{cart:e.cart}),this.setState(t)),this.state.newForm!=e.newForm&&(t=Object.assign(Object.assign({},t),{newForm:e.newForm}),this.setState(t))}handleSelectProblemCategory(e){let t={EN:e.currentTarget.dataset.problemCategoryEn,ID:e.currentTarget.dataset.problemCategoryId};this.setState({problemCategory:t},function(){this.props.setConsultationCategory(this.state.problemCategory.ID)}.bind(this))}handleChangeProblemDescription(e){e.currentTarget.value!=this.state.problemDescription&&this.setState({problemDescription:e.currentTarget.value},function(){this.props.setConsultationDescription(this.state.problemDescription)}.bind(this))}handleEdit(){this.props.setBookedInquiries([],this.state.user.userLoggedin),this.props.setBookedGroup(null,this.state.user.userLoggedin)}handleBook(){if(this.state.newForm.selectedTab&&(!this.state.cart.bookedGroup||1==this.state.cart.bookedGroup&&1==this.state.newForm.selectedTab.tab||1==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&3==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&5==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&6==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||3==this.state.cart.bookedGroup&&4==this.state.newForm.selectedTab.tab||3==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||4==this.state.cart.bookedGroup&&2==this.state.newForm.selectedTab.tab||4==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab)){let e=this.state.problemCategory,t=this.state.problemDescription,a=[],s={id:1,category:e?"EN"==this.state.language?e.EN:e.ID:"",description:t||""};a.push(s),this.props.setBookedInquiries(a,this.state.user.userLoggedin),history.pushState(JSON.stringify({step:2}),document.title,location.href),this.props.setStep(2),this.props.setProgress(2),this.state.newForm.selectedTab&&(1==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(1,this.state.user.userLoggedin):3==this.state.newForm.selectedTab.tab||5==this.state.newForm.selectedTab.tab||6==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(2,this.state.user.userLoggedin):4==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(3,this.state.user.userLoggedin):2==this.state.newForm.selectedTab.tab&&this.props.setBookedGroup(4,this.state.user.userLoggedin))}else{let e={title:"EN"==this.state.language?"Empty the cart?":"Kosongkan keranjang?",message:"EN"==this.state.language?"You must empty the cart before moving service.":"Anda harus mengosongkan keranjang sebelum pindah layanan.",okButton:"EN"==this.state.language?"REMOVE":"KOSONGKAN",cancelButton:"EN"==this.state.language?"CANCEL":"BATAL",okOnly:!1,ok:function(){this.props.setBookedProducts([],this.state.user.userLoggedin),this.props.setBookedInquiries([],this.state.user.userLoggedin),this.props.setBookedGroup(null,this.state.user.userLoggedin),this.props.setProgress(1)}.bind(this)};this.props.setAlert(e)}}handleBookMobile(){if(this.state.newForm.selectedTab&&(!this.state.cart.bookedGroup||1==this.state.cart.bookedGroup&&1==this.state.newForm.selectedTab.tab||1==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&3==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&5==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&6==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||3==this.state.cart.bookedGroup&&4==this.state.newForm.selectedTab.tab||3==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||4==this.state.cart.bookedGroup&&2==this.state.newForm.selectedTab.tab||4==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab)){let e=this.state.problemCategory,t=this.state.problemDescription,a=[],s={id:1,category:e?"EN"==this.state.language?e.EN:e.ID:"",description:t||""};a.push(s),this.props.setBookedInquiries(a,this.state.user.userLoggedin),history.pushState(JSON.stringify({step:4}),document.title,location.href),this.props.setStep(4),this.props.setProgress(2),this.state.newForm.selectedTab&&(1==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(1,this.state.user.userLoggedin):3==this.state.newForm.selectedTab.tab||5==this.state.newForm.selectedTab.tab||6==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(2,this.state.user.userLoggedin):4==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(3,this.state.user.userLoggedin):2==this.state.newForm.selectedTab.tab&&this.props.setBookedGroup(4,this.state.user.userLoggedin))}else{let e={title:"EN"==this.state.language?"Empty the cart?":"Kosongkan keranjang?",message:"EN"==this.state.language?"You must empty the cart before moving service.":"Anda harus mengosongkan keranjang sebelum pindah layanan.",okButton:"EN"==this.state.language?"REMOVE":"KOSONGKAN",cancelButton:"EN"==this.state.language?"CANCEL":"BATAL",okOnly:!1,ok:function(){this.props.setBookedProducts([],this.state.user.userLoggedin),this.props.setBookedInquiries([],this.state.user.userLoggedin),this.props.setBookedGroup(null,this.state.user.userLoggedin),this.props.setProgress(1)}.bind(this)};this.props.setAlert(e)}}smoothScrollTo(e){$(e).addClass("flash"),setTimeout((function(){$(e).removeClass("flash")}),100);let t=$(e).offset();t&&window.scroll({top:t.top-70,left:0,behavior:"smooth"})}render(){let e=[{EN:"Car is not starting",ID:"Mobil tidak bisa distarter"},{EN:"Change engine oil or other fluids",ID:"Ganti oli mesin atau cairan lainnya"},{EN:"Scheduled maintenance",ID:"Servis berkala"},{EN:"Brakes or suspension problem",ID:"Masalah rem dan kaki-kaki"},{EN:"Engine problem",ID:"Masalah mesin"},{EN:"Air conditioning (AC)",ID:"Servis AC"},{EN:"Pre-purchase inspection",ID:"Inspeksi pra-pembelian mobil bekas"},{EN:"Purchase spare parts",ID:"Pembelian spare part"},{EN:"Other",ID:"Lainnya"}];return s.createElement("div",{className:"content inquiry"},s.createElement("div",{className:"inquiry-form hidden-m"},s.createElement("div",{className:"inquiry-category dropdown"},s.createElement("button",{type:"button",className:"btn btn-default btn-block dropdown-toggle"+(this.state.selectedCar&&!this.state.problemCategory?" orange-outline-pulses-if-unopened":""),"data-toggle":"dropdown"},this.state.problemCategory&&s.createElement(c.a,{EN:this.state.problemCategory.EN,ID:this.state.problemCategory.ID}),!this.state.problemCategory&&s.createElement(c.a,{EN:"Select a category",ID:"Pilih kategori"})," ",s.createElement("span",{className:"caret"})),s.createElement("ul",{className:"dropdown-menu"},e.map((function(e,t){return s.createElement("li",{key:t},s.createElement("a",{href:"javascript:void(0)","data-problem-category-en":e.EN,"data-problem-category-id":e.ID,onClick:this.handleSelectProblemCategory.bind(this)},s.createElement(c.a,{EN:e.EN,ID:e.ID})))}),this))),s.createElement("textarea",{className:"inquiry-description"+(this.state.selectedCar&&this.state.problemCategory?" orange-outline-pulses-if-untouched":""),value:this.state.problemDescription?this.state.problemDescription:"",placeholder:"EN"==this.state.language?"Services, problems, or broken parts":"Jenis servis, masalah, atau kerusakan",onChange:this.handleChangeProblemDescription.bind(this)}),s.createElement("button",{className:"btn btn-primary"+(this.state.selectedCar&&this.state.problemCategory?" transparent-orange-pulses":""),disabled:!this.state.selectedCar||!this.state.problemCategory,onClick:this.state.selectedCar&&this.state.problemCategory&&this.handleBook.bind(this)},s.createElement(c.a,{EN:"CONTACT ME",ID:"HUBUNGI SAYA"}))),s.createElement("div",{className:"inquiry-how-it-works hidden-m"},s.createElement("div",{className:"inquiry-how-it-works-title"},s.createElement("h5",{className:"title"},s.createElement(c.a,{EN:"How It Works",ID:"Cara Kerja"}))),s.createElement("ul",{className:"inquiry-how-it-works-list"},s.createElement("li",null,s.createElement("span",null,"1"),s.createElement("h6",null,s.createElement(c.a,{EN:"DESCRIBE YOUR PROBLEM",ID:"JELASKAN KEBUTUHAN ANDA"})),s.createElement("p",null,s.createElement(c.a,{EN:"Describe the problem with your car, what needs repairing, or what kind of service does your car need.",ID:"Jelaskan masalah dan kerusakan mobil Anda, atau servis apa yang Anda perlukan."}))),s.createElement("li",null,s.createElement("span",null,"2"),s.createElement("h6",null,s.createElement(c.a,{EN:"ASK OUR EXPERTS",ID:"KONSULTASI DENGAN SERVICE ADVISOR"})),s.createElement("p",null,s.createElement(c.a,{EN:"Our service advisor will contact you to provide free consultation.",ID:"Service advisor kami akan menghubungi Anda untuk memberikan konsultasi untuk servis yang Anda butuhkan."}))),s.createElement("li",null,s.createElement("span",null,"3"),s.createElement("h6",null,s.createElement(c.a,{EN:"BOOK AN APPOINTMENT",ID:"JADWALKAN SERVIS ANDA"})),s.createElement("p",null,s.createElement(c.a,{EN:"After we give you a price quotation, you can schedule an appointment right away.",ID:"Setelah konsultasi, Anda bisa langsung menjadwalkan servis Anda."}))))),s.createElement("div",{className:"mobile-inquiry-form visible-m"},s.createElement("div",{className:"form-group"},s.createElement("label",null,s.createElement(c.a,{EN:"Category",ID:"Kategori"})),s.createElement("div",{className:"dropdown"},s.createElement("button",{type:"button",className:"btn btn-default btn-block dropdown-toggle"+(this.state.selectedCar&&!this.state.problemCategory?" orange-outline-pulses-if-unopened":""),"data-toggle":"dropdown"},this.state.problemCategory&&s.createElement(c.a,{EN:this.state.problemCategory.EN,ID:this.state.problemCategory.ID}),!this.state.problemCategory&&s.createElement(c.a,{EN:"Select a category",ID:"Pilih kategori"})," ",s.createElement("span",{className:"caret"})),s.createElement("ul",{className:"dropdown-menu"},e.map((function(e,t){return s.createElement("li",{key:t},s.createElement("a",{href:"javascript:void(0)","data-problem-category-en":e.EN,"data-problem-category-id":e.ID,onClick:this.handleSelectProblemCategory.bind(this)},s.createElement(c.a,{EN:e.EN,ID:e.ID})))}),this)))),s.createElement("div",{className:"form-group"},s.createElement("label",null,s.createElement(c.a,{EN:"Describe Your Problem",ID:"Deskripsi Masalah"})),s.createElement("textarea",{className:"inquiry-description form-control"+(this.state.selectedCar&&this.state.problemCategory&&!this.state.problemDescription?" orange-outline-pulses-if-untouched":""),value:this.state.problemDescription?this.state.problemDescription:"",placeholder:"EN"==this.state.language?"Services, problems, or broken parts":"Jenis servis, masalah, atau kerusakan",onChange:this.handleChangeProblemDescription.bind(this)})),s.createElement("button",{className:"btn btn-primary"+(this.state.selectedCar&&this.state.problemCategory?" transparent-orange-pulses":""),disabled:!this.state.selectedCar||!this.state.problemCategory,onClick:this.state.selectedCar&&this.state.problemCategory&&this.handleBookMobile.bind(this)},s.createElement(c.a,{EN:"CONTACT ME",ID:"HUBUNGI SAYA"}))))}}var Ae=Object(i.b)(e=>({carSelection:e.carSelection,language:e.language,user:e.user,cart:e.cart,newForm:e.newForm}),e=>({setStep:Object(o.a)(d,e),setProgress:Object(o.a)(u,e),setBookedProducts:Object(o.a)(m.c,e),setBookedInquiries:Object(o.a)(m.b,e),setBookedGroup:Object(o.a)(m.a,e),setAlert:Object(o.a)(f.c,e),setConsultationCategory:Object(o.a)(f.e,e),setConsultationDescription:Object(o.a)(f.f,e)}))(Ie);class je extends s.Component{constructor(e){super(e),this.state=Object.assign({carSelection:e.carSelection,language:e.language,productSelection:e.productSelection,cart:e.cart,user:e.user,newForm:e.newForm,searchResult:null,quickAdding:null},this.getData(e))}getData(e){let t,a,s=e.productSelection.changeSpareparts,r=e.carSelection.cars,n=e.carSelection.selectedCustCarId,o=e.carSelection.selectedCarIndex;return n?r&&r.length>0&&(t=r.find(e=>e.custCarId==n)):null!=o&&r&&r.length>0&&(t=r[o]),s&&s.length>0&&(a=s[0]),{productCategories:s,selectedCar:t,selectedCategory:a}}componentDidMount(){}componentWillReceiveProps(e){let t=this.state;if(this.state.carSelection!=e.carSelection){let a,s=e.carSelection.cars,r=e.carSelection.selectedCustCarId,n=e.carSelection.selectedCarIndex;r?s&&s.length>0&&(a=s.find(e=>e.custCarId==r)):null!=n&&s&&s.length>0&&(a=s[n]),t=Object.assign(Object.assign({},t),{carSelection:e.carSelection,selectedCar:a}),this.setState(t)}this.state.productSelection!=e.productSelection&&(t=Object.assign(Object.assign({},t),{productSelection:e.productSelection}),this.setState(t)),this.state.cart!=e.cart&&(t=Object.assign(Object.assign({},t),{cart:e.cart}),this.setState(t)),this.state.newForm!=e.newForm&&(t=Object.assign(Object.assign({},t),{newForm:e.newForm}),this.setState(t))}handleSearch(e){let t=e.currentTarget.value.trim().toLowerCase();if(t.length>0){let e=this.state.productSelection.changeSpareparts,a=[];if(e&&e.length>0)for(let s of e)for(let e of s.products)e.name&&-1!=e.name.toLowerCase().search(t)&&a.push(e);this.setState({keyword:t,searchResult:a})}else this.setState({keyword:t,searchResult:null})}highlightText(e,t){t=t.trim().toLowerCase();var a=e.toLowerCase().search(t);return-1!=a?e=(e=e.slice(0,a+t.length)+"</b>"+e.slice(a+t.length)).slice(0,a)+"<b>"+e.slice(a):e}handleOpenProduct(e){if(this.state.newForm.selectedTab&&(!this.state.cart.bookedGroup||1==this.state.cart.bookedGroup&&1==this.state.newForm.selectedTab.tab||1==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&3==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&5==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&6==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||3==this.state.cart.bookedGroup&&4==this.state.newForm.selectedTab.tab||3==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||4==this.state.cart.bookedGroup&&2==this.state.newForm.selectedTab.tab||4==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab))this.props.setSelectedProduct(e);else{let e={title:"EN"==this.state.language?"Empty the cart?":"Kosongkan keranjang?",message:"EN"==this.state.language?"You must empty the cart before moving service.":"Anda harus mengosongkan keranjang sebelum pindah layanan.",okButton:"EN"==this.state.language?"REMOVE":"KOSONGKAN",cancelButton:"EN"==this.state.language?"CANCEL":"BATAL",okOnly:!1,ok:function(){this.props.setBookedProducts([],this.state.user.userLoggedin),this.props.setBookedInquiries([],this.state.user.userLoggedin),this.props.setBookedGroup(null,this.state.user.userLoggedin),this.props.setProgress(1)}.bind(this)};this.props.setAlert(e)}}handleQuickAdd(e){if(this.state.newForm.selectedTab&&(!this.state.cart.bookedGroup||1==this.state.cart.bookedGroup&&1==this.state.newForm.selectedTab.tab||1==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&3==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&5==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&6==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||3==this.state.cart.bookedGroup&&4==this.state.newForm.selectedTab.tab||3==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||4==this.state.cart.bookedGroup&&2==this.state.newForm.selectedTab.tab||4==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab)){let t=e.currentTarget.dataset.productId;this.setState({quickAdding:t},(function(){if(this.state.selectedCar&&t){let e="/api/product/"+t,a=this.state.selectedCar;a.make&&a.model&&a.year&&a.trim&&(e+="/"+encodeURIComponent(a.make)+"/"+encodeURIComponent(a.model)+"/"+encodeURIComponent(a.year)+"/"+encodeURIComponent(a.trim)),$.ajax({url:e,type:"GET",dataType:"json",success:function(e,a,s){this.setState({quickAdding:null},function(){let a=this.state.cart.bookedProducts,s={addons:null,hasAddons:this.hasAddons(e),hasParts:this.hasParts(e),hasQuantity:e.hasQuantity,id:t,name:e.name,p:e.p,part:null,q:e.q?e.q:1,quote:e.needsQuotation?1:0,subtotal:this.getProductSubtotal(e.id)};if(e.parts&&1==e.parts.length&&(s.part={brand:e.parts[0].brand,d:e.parts[0].d,icon:e.parts[0].icon,id:e.parts[0].id,lp:e.parts[0].lp,name:e.parts[0].brand+" "+e.parts[0].type,p:e.parts[0].p,q:e.pq&&e.pq>0?e.pq:1,type:e.parts[0].type,unit:null},e.pg&&("Volume"==e.pg.c?s.part.unit=(this.props.language,"Liter"):"Multiple"==e.pg.c&&s.part&&(s.part.q&&s.part.q>1?s.part.unit="EN"==this.props.language?"Pieces":"Buah":s.part.unit="EN"==this.props.language?"Piece":"Buah"))),e.addons&&e.addons.length>0)for(var r of(s.addons=[],e.addons))if(r&&!(r.mandatory||r.brands&&0!=r.brands.length||r.parts&&!(r.parts.length<=1))){var n=r.q?r.q:0;if(r.parts&&1==r.parts.length){let e=r.pq&&r.pq>0?r.pq:1;s.addons.push({added:!!r.hasQuantity||r.added,addons:r.addons,articles:r.articles,awp:r.awp,brands:r.brands,bt:r.bt,ch:r.ch,cover:r.cover,d:r.d,disabled:r.disabled,estd:r.estd,hasQuantity:r.hasQuantity,icon:r.icon,id:r.id,name:r.name,lobt:r.lobt,loh:r.loh,lp:r.lp,mandatory:r.mandatory,mandatoryAddons:r.mandatoryAddons,nawp:r.nawp,needsQuotation:r.needsQuotation,nocar:r.nocar,oh:r.oh,optionalAddons:r.optionalAddons,p:r.p,part:{brand:r.parts[0].brand,d:r.parts[0].d,icon:r.parts[0].icon,id:r.parts[0].id,lp:r.parts[0].lp,name:r.parts[0].name,p:r.parts[0].p,q:e,type:r.parts[0].type,unit:r.parts[0].unit},parts:r.parts,pg:r.pg,pq:r.pq,q:n,quote:r.needsQuotation?1:0,recommended:r.recommended,subtotal:(r.p+r.parts[0].p*e)*n,sd:r.sd,seqNo:r.seqNo,selectedBrand:r.selectedBrand,selectedPart:{brand:r.parts[0].brand,d:r.parts[0].d,icon:r.parts[0].icon,id:r.parts[0].id,lp:r.parts[0].lp,name:r.parts[0].name,p:r.parts[0].p,q:e,type:r.parts[0].type,unit:r.parts[0].unit}})}else{let e=r.pq&&r.pq>0?r.pq:1;s.addons.push({added:!!r.hasQuantity||r.added,addons:r.addons,articles:r.articles,awp:r.awp,brands:r.brands,bt:r.bt,ch:r.ch,cover:r.cover,d:r.d,disabled:r.disabled,estd:r.estd,hasQuantity:r.hasQuantity,icon:r.icon,id:r.id,name:r.name,lobt:r.lobt,loh:r.loh,lp:r.lp,mandatory:r.mandatory,mandatoryAddons:r.mandatoryAddons,nawp:r.nawp,needsQuotation:r.needsQuotation,nocar:r.nocar,oh:r.oh,optionalAddons:r.optionalAddons,p:r.p,part:r.selectedPart,parts:r.parts,pg:r.pg,pq:r.pq,q:n,quote:r.needsQuotation?1:0,recommended:r.recommended,subtotal:(r.p+(r.selectedPart&&r.selectedPart.q?r.selectedPart.q:0)*e)*n,sd:r.sd,seqNo:r.seqNo,selectedBrand:r.selectedBrand,selectedPart:r.selectedPart})}}(null==a||a&&0==a.length)&&this.smoothScrollTo("#make-appointment"),a||(a=[]),a.push(s);let o=[];for(let e of a)o.push(e.id);this.props.setBookedProducts(a,this.state.user.userLoggedin),this.props.checkVoucherValid(a,this.state.newForm.applyVoucherResult),this.props.getSlotsAsync(o),this.props.setProgress(2),this.state.newForm.selectedTab&&(1==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(1,this.state.user.userLoggedin):3==this.state.newForm.selectedTab.tab||5==this.state.newForm.selectedTab.tab||6==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(2,this.state.user.userLoggedin):4==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(3,this.state.user.userLoggedin):2==this.state.newForm.selectedTab.tab&&this.props.setBookedGroup(4,this.state.user.userLoggedin))}.bind(this))}.bind(this),error:function(e,t,a){this.setState({quickAdding:null})}.bind(this)})}}))}else{let e={title:"EN"==this.state.language?"Empty the cart?":"Kosongkan keranjang?",message:"EN"==this.state.language?"You must empty the cart before moving service.":"Anda harus mengosongkan keranjang sebelum pindah layanan.",okButton:"EN"==this.state.language?"REMOVE":"KOSONGKAN",cancelButton:"EN"==this.state.language?"CANCEL":"BATAL",okOnly:!1,ok:function(){this.props.setBookedProducts([],this.state.user.userLoggedin),this.props.setBookedInquiries([],this.state.user.userLoggedin),this.props.setBookedGroup(null,this.state.user.userLoggedin),this.props.setProgress(1)}.bind(this)};this.props.setAlert(e)}}handleRemoveProduct(e){let t;this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0&&(t=this.state.cart.bookedProducts.find(t=>t.id==e.id));let a={title:("EN"==this.state.language?"Remove ":"Keluarkan ")+(t?t.name:e.name)+("EN"==this.state.language?" from cart?":" dari keranjang?"),message:t&&t.addons&&t.addons.length>0?(t?t.name:e.name)+("EN"==this.state.language?" and all of its optional services will be removed from cart.":" dan semua layanan tambahannya akan dikeluarkan dari keranjang."):null,okButton:"EN"==this.state.language?"REMOVE":"KELUARKAN",cancelButton:"EN"==this.state.language?"CANCEL":"BATAL",okOnly:!1,ok:function(){let a=t?t.id:e.id,s=[];if(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0){s=this.state.cart.bookedProducts.slice();for(let e=0;e<s.length;e++)if(s[e].id==a){s.splice(e,1);break}}this.props.setBookedProducts(s,this.state.user.userLoggedin),this.props.checkVoucherValid(s,this.state.newForm.applyVoucherResult);let r=[];for(let e of s)r.push(e.id);this.props.getSlotsAsync(r);let n=[];this.state.cart.bookedInquiries&&this.state.cart.bookedInquiries.length>0&&(n=this.state.cart.bookedInquiries),s.length>0||n.length>0?this.props.setProgress(2):(this.props.setProgress(1),this.props.setBookedGroup(null,this.state.user.userLoggedin))}.bind(this)};this.props.setAlert(a)}isSelected(e){return!!this.state.cart.bookedProducts&&(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.some(t=>t.id==e))}hasParts(e){if(e){if(e.brands&&e.brands.length>0||e.parts&&e.parts.length>0)return!0;if(e.addons)for(var t of e.addons)if(t.mandatory&&this.hasParts(t))return!0}return!1}hasAddons(e){if(e.addons)for(var t of e.addons)if(!t.mandatory&&!t.recommended)return!0;return!1}getProductSubtotal(e){var t=0;if(e)if(e.brands&&0!=e.brands.length||e.parts&&0!=e.parts.length){if(e&&(e.added||e.mandatory)&&!isNaN(e.p)&&(t+=e.p,e.selectedPart)){var a=e.selectedPart.q&&e.selectedPart.q>0?e.selectedPart.q:1;t+=e.selectedPart.p*a}}else t=e.p;return t}smoothScrollTo(e){$(e).addClass("flash"),setTimeout((function(){$(e).removeClass("flash")}),100);let t=$(e).offset();t&&window.scroll({top:t.top-70,left:0,behavior:"smooth"})}handleSelectCategory(e){this.state.productCategories&&this.setState({selectedCategory:this.state.productCategories.find(t=>t.id==e.currentTarget.dataset.categoryId)})}render(){return s.createElement("div",{className:"content change-spareparts"},s.createElement("div",{className:"search hidden-m"},s.createElement("div",{className:"search-box"},s.createElement("div",{className:"search-box-icon"},s.createElement("img",{src:"https://montircdn.azureedge.net/img/icon-search.svg",width:"18",height:"18"})),s.createElement("input",{type:"text",placeholder:"EN"==this.state.language?"Search services...":"Telusuri layanan...",onKeyUp:this.handleSearch.bind(this)}))),this.state.searchResult&&s.createElement("ul",{className:"search-result"},this.state.searchResult.map((function(e,t){let a=this.isSelected(e.id);return s.createElement("li",{key:t},a&&s.createElement("i",{className:"product-added fa fa-check"}),s.createElement("a",{href:"javascript:void(0)",className:"product-name"+(a?"":" not-selected"),onClick:this.handleOpenProduct.bind(this,e),dangerouslySetInnerHTML:{__html:this.highlightText(e.name,this.state.keyword)}}),a&&s.createElement("a",{href:"javascript:void(0)",className:"btn cancel",onClick:this.handleRemoveProduct.bind(this,e)},s.createElement(c.a,{EN:"CANCEL",ID:"BATAL"})),!a&&s.createElement("a",{href:"javascript:void(0)",className:"btn add-to-cart","data-product-id":e.id,onClick:this.handleQuickAdd.bind(this)},s.createElement(c.a,{EN:"ADD TO CART",ID:"TAMBAHKAN"})))}),this)),!this.state.searchResult&&s.createElement("div",{className:"content hidden-m"},s.createElement("div",{className:"product-categories"},s.createElement("ul",null,this.state.productCategories&&this.state.productCategories.length>0&&this.state.productCategories.map((function(e,t){return s.createElement("li",{key:e.id,className:this.state.selectedCategory&&this.state.selectedCategory.id==e.id?"active":""},s.createElement("a",{href:"javascript:void(0)","data-category-id":e.id,onClick:this.handleSelectCategory.bind(this)},e.name))}),this))),s.createElement("div",{className:"products"},s.createElement("ul",null,this.state.selectedCategory&&this.state.selectedCategory.products.length>0&&this.state.selectedCategory.products.map((function(e,t){let a=this.isSelected(e.id);return s.createElement("li",{key:e.id},a&&s.createElement("i",{className:"product-added fa fa-check"}),s.createElement("a",{href:"javascript:void(0)",className:"product-name"+(a?"":" not-selected"),onClick:this.handleOpenProduct.bind(this,e)},e.name),a&&s.createElement("a",{href:"javascript:void(0)",className:"btn cancel",onClick:this.handleRemoveProduct.bind(this,e)},s.createElement(c.a,{EN:"CANCEL",ID:"BATAL"})),!a&&s.createElement("a",{href:"javascript:void(0)",className:"btn add-to-cart","data-product-id":e.id,onClick:this.handleQuickAdd.bind(this)},s.createElement(c.a,{EN:"ADD TO CART",ID:"TAMBAHKAN"})))}),this)))),!this.state.searchResult&&s.createElement("div",{className:"content visible-m"},this.state.productCategories&&this.state.productCategories.length>0&&this.state.productCategories.map((function(e,t){return s.createElement("div",{className:"product-category",key:t},s.createElement("a",{href:"javascript:void(0)","data-toggle":"collapse","data-target":"#product-category-"+t,className:"product-category-toggle collapsed"},s.createElement("i",{className:"fa fa-angle-down pull-right"}),e.name),s.createElement("div",{id:"product-category-"+t,className:"collapse"},e.products&&e.products.map((function(e,t){let a=this.isSelected(e.id);return s.createElement("div",{key:e.id,className:"product"},a&&s.createElement("i",{className:"product-added fa fa-check"}),s.createElement("a",{href:"javascript:void(0)",className:"product-name"+(a?"":" not-selected"),onClick:this.handleOpenProduct.bind(this,e)},e.name),a&&s.createElement("a",{href:"javascript:void(0)",className:"btn cancel",onClick:this.handleRemoveProduct.bind(this,e)},s.createElement(c.a,{EN:"CANCEL",ID:"BATAL"})),!a&&s.createElement("a",{href:"javascript:void(0)",className:"btn add-to-cart","data-product-id":e.id,onClick:this.handleQuickAdd.bind(this)},s.createElement(c.a,{EN:"ADD TO CART",ID:"TAMBAHKAN"})))}),this)))}),this)))}}var Fe=Object(i.b)(e=>({carSelection:e.carSelection,language:e.language,productSelection:e.productSelection,cart:e.cart,user:e.user,newForm:e.newForm}),e=>({setSelectedProduct:Object(o.a)(T.g,e),setBookedProducts:Object(o.a)(m.c,e),getSlotsAsync:t=>w(e,t),setAlert:Object(o.a)(f.c,e),checkQualifiedVoucher:Object(o.a)(f.a,e),setProgress:Object(o.a)(u,e),setBookedGroup:Object(o.a)(m.a,e),setBookedInquiries:Object(o.a)(m.b,e),checkVoucherValid:Object(o.a)(f.b,e)}))(je);class qe extends s.Component{constructor(e){super(e),this.state=Object.assign({carSelection:e.carSelection,language:e.language,productSelection:e.productSelection,cart:e.cart,user:e.user,newForm:e.newForm,searchResult:null,quickAdding:null},this.getData(e))}getData(e){let t,a,s=e.productSelection.washDetailings,r=e.carSelection.cars,n=e.carSelection.selectedCustCarId,o=e.carSelection.selectedCarIndex;return n?r&&r.length>0&&(t=r.find(e=>e.custCarId==n)):null!=o&&r&&r.length>0&&(t=r[o]),s&&s.length>0&&(a=s[0]),{productCategories:s,selectedCar:t,selectedCategory:a}}componentDidMount(){}componentWillReceiveProps(e){let t=this.state;if(this.state.carSelection!=e.carSelection){let a,s=e.carSelection.cars,r=e.carSelection.selectedCustCarId,n=e.carSelection.selectedCarIndex;r?s&&s.length>0&&(a=s.find(e=>e.custCarId==r)):null!=n&&s&&s.length>0&&(a=s[n]),t=Object.assign(Object.assign({},t),{carSelection:e.carSelection,selectedCar:a}),this.setState(t)}this.state.productSelection!=e.productSelection&&(t=Object.assign(Object.assign({},t),{productSelection:e.productSelection}),this.setState(t)),this.state.cart!=e.cart&&(t=Object.assign(Object.assign({},t),{cart:e.cart}),this.setState(t)),this.state.newForm!=e.newForm&&(t=Object.assign(Object.assign({},t),{newForm:e.newForm}),this.setState(t))}handleSearch(e){let t=e.currentTarget.value.trim().toLowerCase();if(t.length>0){let e=this.state.productSelection.washDetailings,a=[];if(e&&e.length>0)for(let s of e)for(let e of s.products)e.name&&-1!=e.name.toLowerCase().search(t)&&a.push(e);this.setState({keyword:t,searchResult:a})}else this.setState({keyword:t,searchResult:null})}highlightText(e,t){t=t.trim().toLowerCase();var a=e.toLowerCase().search(t);return-1!=a?e=(e=e.slice(0,a+t.length)+"</b>"+e.slice(a+t.length)).slice(0,a)+"<b>"+e.slice(a):e}handleOpenProduct(e){if(this.state.newForm.selectedTab&&(!this.state.cart.bookedGroup||1==this.state.cart.bookedGroup&&1==this.state.newForm.selectedTab.tab||1==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&3==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&5==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&6==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||3==this.state.cart.bookedGroup&&4==this.state.newForm.selectedTab.tab||3==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||4==this.state.cart.bookedGroup&&2==this.state.newForm.selectedTab.tab||4==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab))this.props.setSelectedProduct(e);else{let e={title:"EN"==this.state.language?"Empty the cart?":"Kosongkan keranjang?",message:"EN"==this.state.language?"You must empty the cart before moving service.":"Anda harus mengosongkan keranjang sebelum pindah layanan.",okButton:"EN"==this.state.language?"REMOVE":"KOSONGKAN",cancelButton:"EN"==this.state.language?"CANCEL":"BATAL",okOnly:!1,ok:function(){this.props.setBookedProducts([],this.state.user.userLoggedin),this.props.setBookedInquiries([],this.state.user.userLoggedin),this.props.setBookedGroup(null,this.state.user.userLoggedin),this.props.setProgress(1)}.bind(this)};this.props.setAlert(e)}}handleQuickAdd(e){if(this.state.newForm.selectedTab&&(!this.state.cart.bookedGroup||1==this.state.cart.bookedGroup&&1==this.state.newForm.selectedTab.tab||1==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&3==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&5==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&6==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||3==this.state.cart.bookedGroup&&4==this.state.newForm.selectedTab.tab||3==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||4==this.state.cart.bookedGroup&&2==this.state.newForm.selectedTab.tab||4==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab)){let t=e.currentTarget.dataset.productId;this.setState({quickAdding:t},(function(){if(this.state.selectedCar&&t){let e="/api/product/"+t,a=this.state.selectedCar;a.make&&a.model&&a.year&&a.trim&&(e+="/"+encodeURIComponent(a.make)+"/"+encodeURIComponent(a.model)+"/"+encodeURIComponent(a.year)+"/"+encodeURIComponent(a.trim)),$.ajax({url:e,type:"GET",dataType:"json",success:function(e,a,s){this.setState({quickAdding:null},function(){if(e.brands&&e.brands.length>0||e.parts&&e.parts.length>1||e.nocar||e.disabled||e.needsQuotation||!this.state.selectedCar)this.handleOpenProduct(e);else{let r=this.state.cart.bookedProducts,n={addons:null,hasAddons:this.hasAddons(e),hasParts:this.hasParts(e),hasQuantity:e.hasQuantity,id:t,name:e.name,p:e.p,part:null,q:e.q?e.q:1,quote:e.needsQuotation?1:0,subtotal:this.getProductSubtotal(e.id)};if(e.parts&&1==e.parts.length&&(n.part={brand:e.parts[0].brand,d:e.parts[0].d,icon:e.parts[0].icon,id:e.parts[0].id,lp:e.parts[0].lp,name:e.parts[0].brand+" "+e.parts[0].type,p:e.parts[0].p,q:e.pq&&e.pq>0?e.pq:1,type:e.parts[0].type,unit:null},e.pg&&("Volume"==e.pg.c?n.part.unit=(this.props.language,"Liter"):"Multiple"==e.pg.c&&n.part&&(n.part.q&&n.part.q>1?n.part.unit="EN"==this.props.language?"Pieces":"Buah":n.part.unit="EN"==this.props.language?"Piece":"Buah"))),e.addons&&e.addons.length>0)for(var a of(n.addons=[],e.addons))if(!(a.mandatory||a.brands&&0!=a.brands.length||a.parts&&!(a.parts.length<=1))){var s=a.q?a.q:0;if(a.parts&&1==a.parts.length){let e=a.pq&&a.pq>0?a.pq:1;n.addons.push({added:!!a.hasQuantity||a.added,addons:a.addons,articles:a.articles,awp:a.awp,brands:a.brands,bt:a.bt,ch:a.ch,cover:a.cover,d:a.d,disabled:a.disabled,estd:a.estd,hasQuantity:a.hasQuantity,icon:a.icon,id:a.id,name:a.name,lobt:a.lobt,loh:a.loh,lp:a.lp,mandatory:a.mandatory,mandatoryAddons:a.mandatoryAddons,nawp:a.nawp,needsQuotation:a.needsQuotation,nocar:a.nocar,oh:a.oh,optionalAddons:a.optionalAddons,p:a.p,part:{brand:a.parts[0].brand,d:a.parts[0].d,icon:a.parts[0].icon,id:a.parts[0].id,lp:a.parts[0].lp,name:a.parts[0].name,p:a.parts[0].p,q:e,type:a.parts[0].type,unit:a.parts[0].unit},parts:a.parts,pg:a.pg,pq:a.pq,q:s,quote:a.needsQuotation?1:0,recommended:a.recommended,subtotal:(a.p+a.parts[0].p*e)*s,sd:a.sd,seqNo:a.seqNo,selectedBrand:a.selectedBrand,selectedPart:{brand:a.parts[0].brand,d:a.parts[0].d,icon:a.parts[0].icon,id:a.parts[0].id,lp:a.parts[0].lp,name:a.parts[0].name,p:a.parts[0].p,q:e,type:a.parts[0].type,unit:a.parts[0].unit}})}else{let e=a.pq&&a.pq>0?a.pq:1;n.addons.push({added:!!a.hasQuantity||a.added,addons:a.addons,articles:a.articles,awp:a.awp,brands:a.brands,bt:a.bt,ch:a.ch,cover:a.cover,d:a.d,disabled:a.disabled,estd:a.estd,hasQuantity:a.hasQuantity,icon:a.icon,id:a.id,name:a.name,lobt:a.lobt,loh:a.loh,lp:a.lp,mandatory:a.mandatory,mandatoryAddons:a.mandatoryAddons,nawp:a.nawp,needsQuotation:a.needsQuotation,nocar:a.nocar,oh:a.oh,optionalAddons:a.optionalAddons,p:a.p,part:a.selectedPart,parts:a.parts,pg:a.pg,pq:a.pq,q:s,quote:a.needsQuotation?1:0,recommended:a.recommended,subtotal:(a.p+(a.selectedPart&&a.selectedPart.q?a.selectedPart.q:0)*e)*s,sd:a.sd,seqNo:a.seqNo,selectedBrand:a.selectedBrand,selectedPart:a.selectedPart})}}(null==r||r&&0==r.length)&&this.smoothScrollTo("#make-appointment"),r||(r=[]),r.push(n);let o=[];for(let e of r)o.push(e.id);this.props.setBookedProducts(r,this.state.user.userLoggedin),this.props.checkVoucherValid(r,this.state.newForm.applyVoucherResult),this.props.getSlotsAsync(o),this.props.setProgress(2),this.state.newForm.selectedTab&&(1==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(1,this.state.user.userLoggedin):3==this.state.newForm.selectedTab.tab||5==this.state.newForm.selectedTab.tab||6==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(2,this.state.user.userLoggedin):4==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(3,this.state.user.userLoggedin):2==this.state.newForm.selectedTab.tab&&this.props.setBookedGroup(4,this.state.user.userLoggedin))}}.bind(this))}.bind(this),error:function(e,t,a){this.setState({quickAdding:null})}.bind(this)})}}))}else{let e={title:"EN"==this.state.language?"Empty the cart?":"Kosongkan keranjang?",message:"EN"==this.state.language?"You must empty the cart before moving service.":"Anda harus mengosongkan keranjang sebelum pindah layanan.",okButton:"EN"==this.state.language?"REMOVE":"KOSONGKAN",cancelButton:"EN"==this.state.language?"CANCEL":"BATAL",okOnly:!1,ok:function(){this.props.setBookedProducts([],this.state.user.userLoggedin),this.props.setBookedInquiries([],this.state.user.userLoggedin),this.props.setBookedGroup(null,this.state.user.userLoggedin),this.props.setProgress(1)}.bind(this)};this.props.setAlert(e)}}handleRemoveProduct(e){let t;this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0&&(t=this.state.cart.bookedProducts.find(t=>t.id==e.id));let a={title:("EN"==this.state.language?"Remove ":"Keluarkan ")+(t?t.name:e.name)+("EN"==this.state.language?" from cart?":" dari keranjang?"),message:t&&t.addons&&t.addons.length>0?(t?t.name:e.name)+("EN"==this.state.language?" and all of its optional services will be removed from cart.":" dan semua layanan tambahannya akan dikeluarkan dari keranjang."):null,okButton:"EN"==this.state.language?"REMOVE":"KELUARKAN",cancelButton:"EN"==this.state.language?"CANCEL":"BATAL",okOnly:!1,ok:function(){let a=t?t.id:e.id,s=[];if(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0){s=this.state.cart.bookedProducts.slice();for(let e=0;e<s.length;e++)if(s[e].id==a){s.splice(e,1);break}}this.props.setBookedProducts(s,this.state.user.userLoggedin),this.props.checkVoucherValid(s,this.state.newForm.applyVoucherResult);let r=[];for(let e of s)r.push(e.id);this.props.getSlotsAsync(r);let n=[];this.state.cart.bookedInquiries&&this.state.cart.bookedInquiries.length>0&&(n=this.state.cart.bookedInquiries),s.length>0||n.length>0?this.props.setProgress(2):(this.props.setProgress(1),this.props.setBookedGroup(null,this.state.user.userLoggedin))}.bind(this)};this.props.setAlert(a)}isSelected(e){return!!this.state.cart.bookedProducts&&(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.some(t=>t.id==e))}hasParts(e){if(e.brands&&e.brands.length>0||e.parts&&e.parts.length>0)return!0;if(e.addons)for(var t of e.addons)if(t.mandatory&&this.hasParts(t))return!0;return!1}hasAddons(e){if(e.addons)for(var t of e.addons)if(!t.mandatory&&!t.recommended)return!0;return!1}getProductSubtotal(e){var t=0;if(e)if(e.brands&&0!=e.brands.length||e.parts&&0!=e.parts.length){if(e&&(e.added||e.mandatory)&&!isNaN(e.p)&&(t+=e.p,e.selectedPart)){var a=e.selectedPart.q&&e.selectedPart.q>0?e.selectedPart.q:1;t+=e.selectedPart.p*a}}else t=e.p;return t}smoothScrollTo(e){$(e).addClass("flash"),setTimeout((function(){$(e).removeClass("flash")}),100);let t=$(e).offset();t&&window.scroll({top:t.top-70,left:0,behavior:"smooth"})}handleSelectCategory(e){this.state.productCategories&&this.setState({selectedCategory:this.state.productCategories.find(t=>t.id==e.currentTarget.dataset.categoryId)})}render(){return s.createElement("div",{className:"content wash-detailings"},s.createElement("div",{className:"search hidden-m"},s.createElement("div",{className:"search-box"},s.createElement("div",{className:"search-box-icon"},s.createElement("img",{src:"https://montircdn.azureedge.net/img/icon-search.svg",width:"18",height:"18"})),s.createElement("input",{type:"text",placeholder:"EN"==this.state.language?"Search services...":"Telusuri layanan...",onKeyUp:this.handleSearch.bind(this)}))),this.state.searchResult&&s.createElement("ul",{className:"search-result"},this.state.searchResult.map((function(e,t){let a=this.isSelected(e.id);return s.createElement("li",{key:t},a&&s.createElement("i",{className:"product-added fa fa-check"}),s.createElement("a",{href:"javascript:void(0)",className:"product-name"+(a?"":" not-selected"),onClick:this.handleOpenProduct.bind(this,e),dangerouslySetInnerHTML:{__html:this.highlightText(e.name,this.state.keyword)}}),a&&s.createElement("a",{href:"javascript:void(0)",className:"btn cancel",onClick:this.handleRemoveProduct.bind(this,e)},s.createElement(c.a,{EN:"CANCEL",ID:"BATAL"})),!a&&s.createElement("a",{href:"javascript:void(0)",className:"btn details",onClick:this.handleOpenProduct.bind(this,e)},s.createElement(c.a,{EN:"DETAILS",ID:"LIHAT DETAIL"})),!a&&s.createElement("a",{href:"javascript:void(0)",className:"btn add-to-cart","data-product-id":e.id,onClick:this.handleQuickAdd.bind(this)},s.createElement(c.a,{EN:"ADD TO CART",ID:"TAMBAHKAN"})))}),this)),!this.state.searchResult&&s.createElement("div",{className:"content hidden-m"},s.createElement("div",{className:"product-categories"},s.createElement("ul",null,this.state.productCategories&&this.state.productCategories.length>0&&this.state.productCategories.map((function(e,t){return s.createElement("li",{key:e.id,className:this.state.selectedCategory&&this.state.selectedCategory.id==e.id?"active":""},s.createElement("a",{href:"javascript:void(0)","data-category-id":e.id,onClick:this.handleSelectCategory.bind(this)},e.name))}),this))),s.createElement("div",{className:"products"},s.createElement("ul",null,this.state.selectedCategory&&this.state.selectedCategory.products.length>0&&this.state.selectedCategory.products.map((function(e,t){let a=this.isSelected(e.id);return s.createElement("li",{key:e.id},a&&s.createElement("i",{className:"product-added fa fa-check"}),s.createElement("a",{href:"javascript:void(0)",className:"product-name"+(a?"":" not-selected"),onClick:this.handleOpenProduct.bind(this,e)},e.name),a&&s.createElement("a",{href:"javascript:void(0)",className:"btn cancel",onClick:this.handleRemoveProduct.bind(this,e)},s.createElement(c.a,{EN:"CANCEL",ID:"BATAL"})),!a&&s.createElement("a",{href:"javascript:void(0)",className:"btn details",onClick:this.handleOpenProduct.bind(this,e)},s.createElement(c.a,{EN:"DETAILS",ID:"LIHAT DETAIL"})),!a&&s.createElement("a",{href:"javascript:void(0)",className:"btn add-to-cart","data-product-id":e.id,onClick:this.handleQuickAdd.bind(this)},s.createElement(c.a,{EN:"ADD TO CART",ID:"TAMBAHKAN"})))}),this)))),!this.state.searchResult&&s.createElement("div",{className:"content visible-m"},this.state.productCategories&&this.state.productCategories.length>0&&this.state.productCategories.map((function(e,t){return s.createElement("div",{className:"product-category",key:t},s.createElement("a",{href:"javascript:void(0)","data-toggle":"collapse","data-target":"#product-category-"+t,className:"product-category-toggle collapsed"},s.createElement("i",{className:"fa fa-angle-down pull-right"}),e.name),s.createElement("div",{id:"product-category-"+t,className:"collapse"},e.products&&e.products.map((function(e,t){let a=this.isSelected(e.id);return s.createElement("div",{key:e.id,className:"product"},a&&s.createElement("i",{className:"product-added fa fa-check"}),s.createElement("a",{href:"javascript:void(0)",className:"product-name"+(a?"":" not-selected"),onClick:this.handleOpenProduct.bind(this,e)},e.name),a&&s.createElement("a",{href:"javascript:void(0)",className:"btn cancel",onClick:this.handleRemoveProduct.bind(this,e)},s.createElement(c.a,{EN:"CANCEL",ID:"BATAL"})),!a&&s.createElement("a",{href:"javascript:void(0)",className:"btn details hidden-m",onClick:this.handleOpenProduct.bind(this,e)},s.createElement(c.a,{EN:"DETAILS",ID:"LIHAT DETAIL"})),!a&&s.createElement("a",{href:"javascript:void(0)",className:"btn infos visible-m",onClick:this.handleOpenProduct.bind(this,e)},s.createElement("i",{className:"fa fa-info-circle"})),!a&&s.createElement("a",{href:"javascript:void(0)",className:"btn add-to-cart","data-product-id":e.id,onClick:this.handleQuickAdd.bind(this)},s.createElement(c.a,{EN:"ADD TO CART",ID:"TAMBAHKAN"})))}),this)))}),this)))}}var Re=Object(i.b)(e=>({carSelection:e.carSelection,language:e.language,productSelection:e.productSelection,cart:e.cart,user:e.user,newForm:e.newForm}),e=>({setSelectedProduct:Object(o.a)(T.g,e),setBookedProducts:Object(o.a)(m.c,e),getSlotsAsync:t=>w(e,t),setAlert:Object(o.a)(f.c,e),checkQualifiedVoucher:Object(o.a)(f.a,e),setProgress:Object(o.a)(u,e),setBookedGroup:Object(o.a)(m.a,e),setBookedInquiries:Object(o.a)(m.b,e),checkVoucherValid:Object(o.a)(f.b,e)}))(qe);class De extends s.Component{constructor(e){super(e),this.state=Object.assign({carSelection:e.carSelection,language:e.language,productSelection:e.productSelection,cart:e.cart,user:e.user,newForm:e.newForm,searchResult:null,quickAdding:null},this.getData(e))}getData(e){let t,a,s=e.productSelection.emergencies,r=e.carSelection.cars,n=e.carSelection.selectedCustCarId,o=e.carSelection.selectedCarIndex;return n?r&&r.length>0&&(t=r.find(e=>e.custCarId==n)):null!=o&&r&&r.length>0&&(t=r[o]),s&&s.length>0&&(a=s[0]),{productCategories:s,selectedCar:t,selectedCategory:a}}componentDidMount(){}componentWillReceiveProps(e){let t=this.state;if(this.state.carSelection!=e.carSelection){let a,s=e.carSelection.cars,r=e.carSelection.selectedCustCarId,n=e.carSelection.selectedCarIndex;r?s&&s.length>0&&(a=s.find(e=>e.custCarId==r)):null!=n&&s&&s.length>0&&(a=s[n]),t=Object.assign(Object.assign({},t),{carSelection:e.carSelection,selectedCar:a}),this.setState(t)}this.state.productSelection!=e.productSelection&&(t=Object.assign(Object.assign({},t),{productSelection:e.productSelection}),this.setState(t)),this.state.cart!=e.cart&&(t=Object.assign(Object.assign({},t),{cart:e.cart}),this.setState(t)),this.state.newForm!=e.newForm&&(t=Object.assign(Object.assign({},t),{newForm:e.newForm}),this.setState(t))}handleSearch(e){let t=e.currentTarget.value.trim().toLowerCase();if(t.length>0){let e=this.state.productSelection.emergencies,a=[];if(e&&e.length>0)for(let s of e)for(let e of s.products)e.name&&-1!=e.name.toLowerCase().search(t)&&a.push(e);this.setState({keyword:t,searchResult:a})}else this.setState({keyword:t,searchResult:null})}highlightText(e,t){t=t.trim().toLowerCase();var a=e.toLowerCase().search(t);return-1!=a?e=(e=e.slice(0,a+t.length)+"</b>"+e.slice(a+t.length)).slice(0,a)+"<b>"+e.slice(a):e}handleOpenProduct(e){if(this.state.newForm.selectedTab&&(!this.state.cart.bookedGroup||1==this.state.cart.bookedGroup&&1==this.state.newForm.selectedTab.tab||1==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&3==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&5==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&6==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||3==this.state.cart.bookedGroup&&4==this.state.newForm.selectedTab.tab||3==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||4==this.state.cart.bookedGroup&&2==this.state.newForm.selectedTab.tab||4==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab))this.props.setSelectedProduct(e);else{let e={title:"EN"==this.state.language?"Empty the cart?":"Kosongkan keranjang?",message:"EN"==this.state.language?"You must empty the cart before moving service.":"Anda harus mengosongkan keranjang sebelum pindah layanan.",okButton:"EN"==this.state.language?"REMOVE":"KOSONGKAN",cancelButton:"EN"==this.state.language?"CANCEL":"BATAL",okOnly:!1,ok:function(){this.props.setBookedProducts([],this.state.user.userLoggedin),this.props.setBookedInquiries([],this.state.user.userLoggedin),this.props.setBookedGroup(null,this.state.user.userLoggedin),this.props.setProgress(1)}.bind(this)};this.props.setAlert(e)}}handleQuickAdd(e){if(this.state.newForm.selectedTab&&(!this.state.cart.bookedGroup||1==this.state.cart.bookedGroup&&1==this.state.newForm.selectedTab.tab||1==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&3==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&5==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&6==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||3==this.state.cart.bookedGroup&&4==this.state.newForm.selectedTab.tab||3==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||4==this.state.cart.bookedGroup&&2==this.state.newForm.selectedTab.tab||4==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab)){let t=e.currentTarget.dataset.productId;this.setState({quickAdding:t},(function(){if(this.state.selectedCar&&t){let e="/api/product/"+t,a=this.state.selectedCar;a.make&&a.model&&a.year&&a.trim&&(e+="/"+encodeURIComponent(a.make)+"/"+encodeURIComponent(a.model)+"/"+encodeURIComponent(a.year)+"/"+encodeURIComponent(a.trim)),$.ajax({url:e,type:"GET",dataType:"json",success:function(e,a,s){this.setState({quickAdding:null},function(){if(e.brands&&e.brands.length>0||e.parts&&e.parts.length>1||e.nocar||e.disabled||e.needsQuotation||!this.state.selectedCar)this.handleOpenProduct(e);else{let r=this.state.cart.bookedProducts,n={addons:null,hasAddons:this.hasAddons(e),hasParts:this.hasParts(e),hasQuantity:e.hasQuantity,id:t,name:e.name,p:e.p,part:null,q:e.q?e.q:1,quote:e.needsQuotation?1:0,subtotal:this.getProductSubtotal(e.id)};if(e.parts&&1==e.parts.length&&(n.part={brand:e.parts[0].brand,d:e.parts[0].d,icon:e.parts[0].icon,id:e.parts[0].id,lp:e.parts[0].lp,name:e.parts[0].brand+" "+e.parts[0].type,p:e.parts[0].p,q:e.pq&&e.pq>0?e.pq:1,type:e.parts[0].type,unit:null},e.pg&&("Volume"==e.pg.c?n.part.unit=(this.props.language,"Liter"):"Multiple"==e.pg.c&&n.part&&(n.part.q&&n.part.q>1?n.part.unit="EN"==this.props.language?"Pieces":"Buah":n.part.unit="EN"==this.props.language?"Piece":"Buah"))),e.addons&&e.addons.length>0)for(var a of(n.addons=[],e.addons))if(a&&!(a.mandatory||a.brands&&0!=a.brands.length||a.parts&&!(a.parts.length<=1))){var s=a.q?a.q:0;if(a.parts&&1==a.parts.length){let e=a.pq&&a.pq>0?a.pq:1;n.addons.push({added:!!a.hasQuantity||a.added,addons:a.addons,articles:a.articles,awp:a.awp,brands:a.brands,bt:a.bt,ch:a.ch,cover:a.cover,d:a.d,disabled:a.disabled,estd:a.estd,hasQuantity:a.hasQuantity,icon:a.icon,id:a.id,name:a.name,lobt:a.lobt,loh:a.loh,lp:a.lp,mandatory:a.mandatory,mandatoryAddons:a.mandatoryAddons,nawp:a.nawp,needsQuotation:a.needsQuotation,nocar:a.nocar,oh:a.oh,optionalAddons:a.optionalAddons,p:a.p,part:{brand:a.parts[0].brand,d:a.parts[0].d,icon:a.parts[0].icon,id:a.parts[0].id,lp:a.parts[0].lp,name:a.parts[0].name,p:a.parts[0].p,q:e,type:a.parts[0].type,unit:a.parts[0].unit},parts:a.parts,pg:a.pg,pq:a.pq,q:s,quote:a.needsQuotation?1:0,recommended:a.recommended,subtotal:(a.p+a.parts[0].p*e)*s,sd:a.sd,seqNo:a.seqNo,selectedBrand:a.selectedBrand,selectedPart:{brand:a.parts[0].brand,d:a.parts[0].d,icon:a.parts[0].icon,id:a.parts[0].id,lp:a.parts[0].lp,name:a.parts[0].name,p:a.parts[0].p,q:e,type:a.parts[0].type,unit:a.parts[0].unit}})}else{let e=a.pq&&a.pq>0?a.pq:1;n.addons.push({added:!!a.hasQuantity||a.added,addons:a.addons,articles:a.articles,awp:a.awp,brands:a.brands,bt:a.bt,ch:a.ch,cover:a.cover,d:a.d,disabled:a.disabled,estd:a.estd,hasQuantity:a.hasQuantity,icon:a.icon,id:a.id,name:a.name,lobt:a.lobt,loh:a.loh,lp:a.lp,mandatory:a.mandatory,mandatoryAddons:a.mandatoryAddons,nawp:a.nawp,needsQuotation:a.needsQuotation,nocar:a.nocar,oh:a.oh,optionalAddons:a.optionalAddons,p:a.p,part:a.selectedPart,parts:a.parts,pg:a.pg,pq:a.pq,q:s,quote:a.needsQuotation?1:0,recommended:a.recommended,subtotal:(a.p+(a.selectedPart&&a.selectedPart.q?a.selectedPart.q:0)*e)*s,sd:a.sd,seqNo:a.seqNo,selectedBrand:a.selectedBrand,selectedPart:a.selectedPart})}}(null==r||r&&0==r.length)&&this.smoothScrollTo("#make-appointment"),r||(r=[]),r.push(n);let o=[];for(let e of r)o.push(e.id);this.props.setBookedProducts(r,this.state.user.userLoggedin),this.props.checkVoucherValid(r,this.state.newForm.applyVoucherResult),this.props.getSlotsAsync(o),this.props.setProgress(2),this.state.newForm.selectedTab&&(1==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(1,this.state.user.userLoggedin):3==this.state.newForm.selectedTab.tab||5==this.state.newForm.selectedTab.tab||6==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(2,this.state.user.userLoggedin):4==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(3,this.state.user.userLoggedin):2==this.state.newForm.selectedTab.tab&&this.props.setBookedGroup(4,this.state.user.userLoggedin))}}.bind(this))}.bind(this),error:function(e,t,a){this.setState({quickAdding:null})}.bind(this)})}}))}else{let e={title:"EN"==this.state.language?"Empty the cart?":"Kosongkan keranjang?",message:"EN"==this.state.language?"You must empty the cart before moving service.":"Anda harus mengosongkan keranjang sebelum pindah layanan.",okButton:"EN"==this.state.language?"REMOVE":"KOSONGKAN",cancelButton:"EN"==this.state.language?"CANCEL":"BATAL",okOnly:!1,ok:function(){this.props.setBookedProducts([],this.state.user.userLoggedin),this.props.setBookedInquiries([],this.state.user.userLoggedin),this.props.setBookedGroup(null,this.state.user.userLoggedin),this.props.setProgress(1)}.bind(this)};this.props.setAlert(e)}}handleRemoveProduct(e){let t;this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0&&(t=this.state.cart.bookedProducts.find(t=>t.id==e.id));let a={title:("EN"==this.state.language?"Remove ":"Keluarkan ")+(t?t.name:e.name)+("EN"==this.state.language?" from cart?":" dari keranjang?"),message:t&&t.addons&&t.addons.length>0?(t?t.name:e.name)+("EN"==this.state.language?" and all of its optional services will be removed from cart.":" dan semua layanan tambahannya akan dikeluarkan dari keranjang."):null,okButton:"EN"==this.state.language?"REMOVE":"KELUARKAN",cancelButton:"EN"==this.state.language?"CANCEL":"BATAL",okOnly:!1,ok:function(){let a=t?t.id:e.id,s=[];if(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0){s=this.state.cart.bookedProducts.slice();for(let e=0;e<s.length;e++)if(s[e].id==a){s.splice(e,1);break}}this.props.setBookedProducts(s,this.state.user.userLoggedin),this.props.checkVoucherValid(s,this.state.newForm.applyVoucherResult);let r=[];for(let e of s)r.push(e.id);this.props.getSlotsAsync(r);let n=[];this.state.cart.bookedInquiries&&this.state.cart.bookedInquiries.length>0&&(n=this.state.cart.bookedInquiries),s.length>0||n.length>0?this.props.setProgress(2):(this.props.setProgress(1),this.props.setBookedGroup(null,this.state.user.userLoggedin))}.bind(this)};this.props.setAlert(a)}isSelected(e){return!!this.state.cart.bookedProducts&&(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.some(t=>t.id==e))}hasParts(e){if(e){if(e.brands&&e.brands.length>0||e.parts&&e.parts.length>0)return!0;if(e.addons)for(var t of e.addons)if(t.mandatory&&this.hasParts(t))return!0}return!1}hasAddons(e){if(e.addons)for(var t of e.addons)if(!t.mandatory&&!t.recommended)return!0;return!1}getProductSubtotal(e){var t=0;if(e)if(e.brands&&0!=e.brands.length||e.parts&&0!=e.parts.length){if(e&&(e.added||e.mandatory)&&!isNaN(e.p)&&(t+=e.p,e.selectedPart)){var a=e.selectedPart.q&&e.selectedPart.q>0?e.selectedPart.q:1;t+=e.selectedPart.p*a}}else t=e.p;return t}smoothScrollTo(e){$(e).addClass("flash"),setTimeout((function(){$(e).removeClass("flash")}),100);let t=$(e).offset();t&&window.scroll({top:t.top-70,left:0,behavior:"smooth"})}handleSelectCategory(e){this.state.productCategories&&this.setState({selectedCategory:this.state.productCategories.find(t=>t.id==e.currentTarget.dataset.categoryId)})}render(){return s.createElement("div",{className:"content emergencies"},s.createElement("div",{className:"search hidden-m"},s.createElement("div",{className:"search-box"},s.createElement("div",{className:"search-box-icon"},s.createElement("img",{src:"https://montircdn.azureedge.net/img/icon-search.svg",width:"18",height:"18"})),s.createElement("input",{type:"text",placeholder:"EN"==this.state.language?"Search services...":"Telusuri layanan...",onKeyUp:this.handleSearch.bind(this)}))),this.state.searchResult&&s.createElement("ul",{className:"search-result"},this.state.searchResult.map((function(e,t){let a=this.isSelected(e.id);return s.createElement("li",{key:t},a&&s.createElement("i",{className:"product-added fa fa-check"}),s.createElement("a",{href:"javascript:void(0)",className:"product-name"+(a?"":" not-selected"),onClick:this.handleOpenProduct.bind(this,e),dangerouslySetInnerHTML:{__html:this.highlightText(e.name,this.state.keyword)}}),a&&s.createElement("a",{href:"javascript:void(0)",className:"btn cancel",onClick:this.handleRemoveProduct.bind(this,e)},s.createElement(c.a,{EN:"CANCEL",ID:"BATAL"})),!a&&s.createElement("a",{href:"javascript:void(0)",className:"btn details",onClick:this.handleOpenProduct.bind(this,e)},s.createElement(c.a,{EN:"DETAILS",ID:"LIHAT DETAIL"})),!a&&s.createElement("a",{href:"javascript:void(0)",className:"btn add-to-cart","data-product-id":e.id,onClick:this.handleQuickAdd.bind(this)},s.createElement(c.a,{EN:"ADD TO CART",ID:"TAMBAHKAN"})))}),this)),!this.state.searchResult&&s.createElement("div",{className:"content hidden-m"},s.createElement("div",{className:"product-categories"},s.createElement("ul",null,this.state.productCategories&&this.state.productCategories.length>0&&this.state.productCategories.map((function(e,t){return s.createElement("li",{key:e.id,className:this.state.selectedCategory&&this.state.selectedCategory.id==e.id?"active":""},s.createElement("a",{href:"javascript:void(0)","data-category-id":e.id,onClick:this.handleSelectCategory.bind(this)},e.name))}),this))),s.createElement("div",{className:"products"},s.createElement("ul",null,this.state.selectedCategory&&this.state.selectedCategory.products.length>0&&this.state.selectedCategory.products.map((function(e,t){let a=this.isSelected(e.id);return s.createElement("li",{key:e.id},a&&s.createElement("i",{className:"product-added fa fa-check"}),s.createElement("a",{href:"javascript:void(0)",className:"product-name"+(a?"":" not-selected"),onClick:this.handleOpenProduct.bind(this,e)},e.name),a&&s.createElement("a",{href:"javascript:void(0)",className:"btn cancel",onClick:this.handleRemoveProduct.bind(this,e)},s.createElement(c.a,{EN:"CANCEL",ID:"BATAL"})),!a&&s.createElement("a",{href:"javascript:void(0)",className:"btn details",onClick:this.handleOpenProduct.bind(this,e)},s.createElement(c.a,{EN:"DETAILS",ID:"LIHAT DETAIL"})),!a&&s.createElement("a",{href:"javascript:void(0)",className:"btn add-to-cart","data-product-id":e.id,onClick:this.handleQuickAdd.bind(this)},s.createElement(c.a,{EN:"ADD TO CART",ID:"TAMBAHKAN"})))}),this)))),!this.state.searchResult&&s.createElement("div",{className:"content visible-m"},this.state.productCategories&&this.state.productCategories.length>0&&this.state.productCategories.map((function(e,t){return s.createElement("div",{className:"product-category",key:t},s.createElement("a",{href:"javascript:void(0)","data-toggle":"collapse","data-target":"#product-category-"+t,className:"product-category-toggle collapsed"},s.createElement("i",{className:"fa fa-angle-down pull-right"}),e.name),s.createElement("div",{id:"product-category-"+t,className:"collapse"},e.products&&e.products.map((function(e,t){let a=this.isSelected(e.id);return s.createElement("div",{key:e.id,className:"product"},a&&s.createElement("i",{className:"product-added fa fa-check"}),s.createElement("a",{href:"javascript:void(0)",className:"product-name"+(a?"":" not-selected"),onClick:this.handleOpenProduct.bind(this,e)},e.name),a&&s.createElement("a",{href:"javascript:void(0)",className:"btn cancel",onClick:this.handleRemoveProduct.bind(this,e)},s.createElement(c.a,{EN:"CANCEL",ID:"BATAL"})),!a&&s.createElement("a",{href:"javascript:void(0)",className:"btn details hidden-m",onClick:this.handleOpenProduct.bind(this,e)},s.createElement(c.a,{EN:"DETAILS",ID:"LIHAT DETAIL"})),!a&&s.createElement("a",{href:"javascript:void(0)",className:"btn infos visible-m",onClick:this.handleOpenProduct.bind(this,e)},s.createElement("i",{className:"fa fa-info-circle"})),!a&&s.createElement("a",{href:"javascript:void(0)",className:"btn add-to-cart","data-product-id":e.id,onClick:this.handleQuickAdd.bind(this)},s.createElement(c.a,{EN:"ADD TO CART",ID:"TAMBAHKAN"})))}),this)))}),this)))}}var Le=Object(i.b)(e=>({carSelection:e.carSelection,language:e.language,productSelection:e.productSelection,cart:e.cart,user:e.user,newForm:e.newForm}),e=>({setSelectedProduct:Object(o.a)(T.g,e),setBookedProducts:Object(o.a)(m.c,e),getSlotsAsync:t=>w(e,t),setAlert:Object(o.a)(f.c,e),checkQualifiedVoucher:Object(o.a)(f.a,e),setProgress:Object(o.a)(u,e),setBookedGroup:Object(o.a)(m.a,e),setBookedInquiries:Object(o.a)(m.b,e),checkVoucherValid:Object(o.a)(f.b,e)}))(De);class Me extends s.Component{constructor(e){super(e),this.state=Object.assign({language:e.language,newForm:e.newForm,cart:e.cart,carSelection:e.carSelection,user:e.user,wizardStep:e.wizardStep},this.getDataProps(e))}getDataProps(e){let t,a=e.carSelection.cars,s=e.carSelection.selectedCustCarId,r=e.carSelection.selectedCarIndex;return s?a&&a.length>0&&(t=a.find(e=>e.custCarId==s)):null!=r&&a&&a.length>0&&(t=a[r]),{selectedCar:t}}componentDidMount(){if(!this.state.newForm.selectedTab){let e={tab:1,name:"EN"==this.state.language?"CONSULTATION":"KONSULTASI",iconSrc:"/img/icon-konsult.png",title:"EN"==this.state.language?"Select your services":"Pilih servis sesuai keluhan Anda",url:"EN"==this.state.language?"consultation":"konsultasi"};this.props.setSelectedTab(e)}}componentWillReceiveProps(e){let t=this.state;if(this.state.language!=e.language&&(t=Object.assign(Object.assign({},t),{language:e.language}),this.setState(t)),this.state.newForm!=e.newForm&&(t=Object.assign(Object.assign({},t),{newForm:e.newForm}),this.setState(t)),this.state.cart!=e.cart&&(t=Object.assign(Object.assign({},t),{cart:e.cart}),this.setState(t)),this.state.carSelection!=e.carSelection){let a,s=e.carSelection.cars,r=e.carSelection.selectedCustCarId,n=e.carSelection.selectedCarIndex;r?s&&s.length>0&&(a=s.find(e=>e.custCarId==r)):null!=n&&s&&s.length>0&&(a=s[n]),t=Object.assign(Object.assign({},t),{carSelection:e.carSelection,selectedCar:a}),this.setState(t)}this.state.wizardStep!=e.wizardStep&&(t=Object.assign(Object.assign({},t),{wizardStep:e.wizardStep}),this.setState(t))}handleChangeTab(e){if(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0||this.state.cart.bookedInquiries&&this.state.cart.bookedInquiries.length>0){if(this.state.newForm.selectedTab&&this.state.cart.bookedGroup)if(1==this.state.cart.bookedGroup&&1==e.tab||1==this.state.cart.bookedGroup&&7==e.tab)this.props.setSelectedTab(e),history.pushState(JSON.stringify({category:e.tab}),document.title,"EN"==this.state.language?"/en/book/"+e.url:"/pesan/"+e.url);else if(2==this.state.cart.bookedGroup&&3==e.tab||2==this.state.cart.bookedGroup&&5==e.tab||2==this.state.cart.bookedGroup&&6==e.tab||2==this.state.cart.bookedGroup&&7==e.tab)this.props.setSelectedTab(e),history.pushState(JSON.stringify({category:e.tab}),document.title,"EN"==this.state.language?"/en/book/"+e.url:"/pesan/"+e.url);else if(3==this.state.cart.bookedGroup&&4==e.tab||3==this.state.cart.bookedGroup&&7==e.tab)this.props.setSelectedTab(e),history.pushState(JSON.stringify({category:e.tab}),document.title,"EN"==this.state.language?"/en/book/"+e.url:"/pesan/"+e.url);else if(4==this.state.cart.bookedGroup&&2==e.tab||4==this.state.cart.bookedGroup&&7==e.tab)this.props.setSelectedTab(e),history.pushState(JSON.stringify({category:e.tab}),document.title,"EN"==this.state.language?"/en/book/"+e.url:"/pesan/"+e.url);else{let t={title:"EN"==this.state.language?"Empty the cart?":"Kosongkan keranjang?",message:"EN"==this.state.language?"You must empty the cart before moving service.":"Anda harus mengosongkan keranjang sebelum pindah layanan.",okButton:"EN"==this.state.language?"REMOVE":"KOSONGKAN",cancelButton:"EN"==this.state.language?"CANCEL":"BATAL",okOnly:!1,ok:function(){this.props.setBookedProducts([],this.state.user.userLoggedin),this.props.setBookedInquiries([],this.state.user.userLoggedin),this.props.setBookedGroup(null,this.state.user.userLoggedin),this.props.setProgress(1),this.props.setSelectedTab(e),history.pushState(JSON.stringify({category:e.tab}),document.title,"EN"==this.state.language?"/en/book/"+e.url:"/pesan/"+e.url)}.bind(this)};this.props.setAlert(t)}}else this.props.setSelectedTab(e),history.pushState(JSON.stringify({category:e.tab}),document.title,"EN"==this.state.language?"/en/book/"+e.url:"/pesan/"+e.url)}handleNext(){(this.state.cart.bookedProducts&&0==this.state.cart.bookedProducts.length||!this.state.cart.bookedProducts)&&this.props.setProgress(3),this.props.setStep(3)}cartProductValid(){let e=!0;if(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0){for(let t of this.state.cart.bookedProducts)if(t.addons&&t.addons)for(let a of t.addons)a.mandatory&&!a.added&&(e=!1)}else e=!1;return e}render(){let e=[{tab:1,name:"EN"==this.state.language?"CONSULTATION":"KONSULTASI",iconSrc:"/img/icon-konsult.png",title:"EN"==this.state.language?"Select your services":"Pilih servis sesuai keluhan Anda",url:"EN"==this.state.language?"consultation":"konsultasi"},{tab:2,name:"EN"==this.state.language?"REGULAR SERVICE":"SERVIS BERKALA",iconSrc:"/img/icon-others.png",title:"EN"==this.state.language?"Regular service as your needs":"Semua servis berkala sesuai kebutuhan Anda",url:"EN"==this.state.language?"regular-service":"servis-berkala"},{tab:3,name:"EN"==this.state.language?"GENERAL SERVICE":"SERVIS UMUM",iconSrc:"/img/icon-sr.png",title:"EN"==this.state.language?"General service as your needs":"Semua servis umum sesuai kebutuhan Anda",url:"EN"==this.state.language?"general-service":"servis-umum"},{tab:4,name:"EN"==this.state.language?"CHANGE SPAREPART":"GANTI SPAREPART",iconSrc:"/img/icon-ganti-s.png",title:"EN"==this.state.language?"Change sparepart":"Ganti sparepart",url:"EN"==this.state.language?"change-sparepart":"ganti-sparepart"},{tab:5,name:(this.state.language,"DETAILING"),iconSrc:"/img/icon-wash.png",title:(this.state.language,"Detailing"),url:(this.state.language,"detailing")},{tab:6,name:(this.state.language,"EMERGENCY"),iconSrc:"/img/icon-emergency.png",title:(this.state.language,"Emergency"),url:(this.state.language,"emergency")},{tab:7,name:(this.state.language,"PROMO"),iconSrc:"/img/icon-promo.png",title:"EN"==this.state.language?"Coming soon":"Belum tersedia",url:(this.state.language,"promo")}],t=(this.state.carSelection.cars,this.state.selectedCar,this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0||this.state.cart.bookedInquiries&&this.state.cart.bookedInquiries.length,"");return!(this.cartProductValid()||this.state.cart.bookedInquiries&&this.state.cart.bookedInquiries.length>0)||1!=this.state.wizardStep.step&&2!=this.state.wizardStep.step||(t=" have-cart"),s.createElement("div",{id:"select-services",className:"booking-products-menu"+t},s.createElement("h5",{className:"hidden-m"},s.createElement(c.a,{EN:"Select Your Services",ID:"Pilih Layanan"})),s.createElement("div",{className:"service-tabs hidden-m"},e.map((function(e,t){return s.createElement("div",{key:t,className:"service-tab"},s.createElement("div",{className:"service-tab-btn"+(this.state.newForm.selectedTab&&this.state.newForm.selectedTab.tab==e.tab?" active":""),onClick:this.handleChangeTab.bind(this,e)},s.createElement("div",{className:"text-center"},s.createElement("img",{className:"icon",src:e.iconSrc}),s.createElement("span",{className:"name"+(1==e.tab?" consultation-name":"")},e.name))))}),this)),s.createElement("div",{className:"booking-services"},s.createElement("div",{className:"header-title"+(this.state.newForm.selectedTab&&1!=this.state.newForm.selectedTab.tab?" hidden-m":"")},s.createElement("h5",{className:"title"},this.state.newForm.selectedTab&&this.state.newForm.selectedTab.title)),this.state.newForm.selectedTab&&1==this.state.newForm.selectedTab.tab&&s.createElement(Ae,null),this.state.newForm.selectedTab&&2==this.state.newForm.selectedTab.tab&&s.createElement(Pe,null),this.state.newForm.selectedTab&&3==this.state.newForm.selectedTab.tab&&s.createElement(Te,null),this.state.newForm.selectedTab&&4==this.state.newForm.selectedTab.tab&&s.createElement(Fe,null),this.state.newForm.selectedTab&&5==this.state.newForm.selectedTab.tab&&s.createElement(Re,null),this.state.newForm.selectedTab&&6==this.state.newForm.selectedTab.tab&&s.createElement(Le,null)))}}var Be=Object(i.b)(e=>({language:e.language,newForm:e.newForm,cart:e.cart,carSelection:e.carSelection,user:e.user,wizardStep:e.wizardStep}),e=>({setSelectedTab:Object(o.a)(f.u,e),setAlert:Object(o.a)(f.c,e),setProgress:Object(o.a)(u,e),setStep:Object(o.a)(d,e),setBookedProducts:Object(o.a)(m.c,e),setBookedInquiries:Object(o.a)(m.b,e),setBookedGroup:Object(o.a)(m.a,e)}))(Me);class xe extends s.Component{constructor(e){super(e),this.state=Object.assign({selected:e.selected,carSelection:e.carSelection,productSelection:e.productSelection},this.getData(e))}componentDidMount(){}componentWillReceiveProps(e){let t=this.state;if(this.state.carSelection!=e.carSelection){let a,s=e.carSelection.cars,r=e.carSelection.selectedCustCarId,n=e.carSelection.selectedCarIndex;r?s&&s.length>0&&(a=s.find(e=>e.custCarId==r)):null!=n&&s&&s.length>0&&(a=s[n]),t=Object.assign(Object.assign({},t),{carSelection:e.carSelection,selectedCar:a}),this.setState(t)}this.state.productSelection!=e.productSelection&&(t=Object.assign(Object.assign({},t),{productSelection:e.productSelection}),this.setState(t))}getData(e){let t,a=e.carSelection.cars,s=e.carSelection.selectedCustCarId,r=e.carSelection.selectedCarIndex;return s?a&&a.length>0&&(t=a.find(e=>e.custCarId==s)):null!=r&&a&&a.length>0&&(t=a[r]),{selectedCar:t}}handleClick(e,t){t.preventDefault(),this.setState({selected:e})}renderTitles(){return s.createElement("ul",{className:"tabs"},this.props.children.map(function(e,t){let a=this.state.selected===t?"active":"";return s.createElement("li",{key:t,className:a},s.createElement("a",{href:"javascript:void(0)",onClick:this.handleClick.bind(this,t)},e.props.label))}.bind(this)))}renderContent(){return s.createElement("div",null,this.props.children[this.state.selected])}subtotalNeedsQuotation(e){if(e.needsQuotation)return!0;if(e.addons){for(var t of e.addons)if(t.added&&t.needsQuotation)return!0;return!1}return!1}getSubtotal(e){var t=0;if(e.parts&&e.parts.length>0){if(e.selectedPart){var a=e.pq&&e.pq>0?e.pq:1;e.q&&e.q>=1?t+=(e.p+e.selectedPart.p*a)*e.q:t+=e.p+e.selectedPart.p*a}}else e.q&&e.q>=1?t+=e.p*e.q:t+=e.p;if(e.addons)for(var s of e.addons)s.hasQuantity?s.q&&(t+=this.getSubtotal(s)):s.added&&(t+=this.getSubtotal(s));return t}render(){return s.createElement("div",null,s.createElement("nav",{className:"nav-tabs"},this.renderTitles(),this.state.productSelection.product&&(!this.state.productSelection.product.nocar&&!this.state.productSelection.product.disabled||this.subtotalNeedsQuotation(this.state.productSelection.product))&&this.state.selectedCar&&s.createElement("ul",{className:"total hidden-xs"},s.createElement("li",{className:"label"},s.createElement("a",{href:"javascript:void(0)"},"SUBTOTAL ",s.createElement("span",{className:"caret"}))),!this.subtotalNeedsQuotation(this.state.productSelection.product)&&s.createElement("li",{className:"subtotal"+(0==this.getSubtotal(this.state.productSelection.product)?" muted":"")},"Rp ",this.getSubtotal(this.state.productSelection.product).toLocaleString()),this.subtotalNeedsQuotation(this.state.productSelection.product)&&s.createElement("li",{className:"subtotal"},s.createElement(c.a,{EN:"QUOTE",ID:"TANYA"})))),this.renderContent())}}var Ge=Object(i.b)(e=>({carSelection:e.carSelection,productSelection:e.productSelection}),e=>({}))(xe);class Ve extends s.Component{constructor(e){super(e),this.state={}}componentDidMount(){}componentWillReceiveProps(e){this.state}render(){return s.createElement("div",null,this.props.children)}}var _e=Object(i.b)(e=>({}),e=>({}))(Ve);class Ke extends s.Component{constructor(e){super(e),this.state=Object.assign({carSelection:e.carSelection,language:e.language,productSelection:e.productSelection,cart:e.cart,user:e.user,newForm:e.newForm,loading:!0},this.getData(e))}componentDidMount(){this.loadProduct()}loadProduct(){let e="/api/product/";if(this.state.productSelection&&this.state.productSelection.product&&(e+=this.state.productSelection.product.id),this.state.selectedCar){let t=this.state.selectedCar;t.make&&t.model&&t.year&&t.trim&&(e+="/"+encodeURIComponent(t.make)+"/"+encodeURIComponent(t.model)+"/"+encodeURIComponent(t.year)+"/"+encodeURIComponent(t.trim))}E.ajax({url:e,type:"GET",dataType:"json",success:function(e,t,a){if(e.brands&&!e.parts){for(var s of(e.parts=[],e.brands))for(var r of s.parts)e.parts.push(r);e.parts.sort((e,t)=>t.price-e.price)}if(e&&e.addons&&(e.mandatoryAddons=e.addons.filter(e=>e.mandatory),e.optionalAddons=e.addons.filter(e=>!e.mandatory),e.mandatoryAddons))for(var n of e.mandatoryAddons)n.added=!0;if(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0){let t=this.state.cart.bookedProducts.find(t=>t.id==e.id);if(t&&(e.added=!0,t.part&&(e.selectedPart=t.part),t.addons&&t.addons.length>0))for(let a of t.addons)e.addons.find(e=>e.id==a.id)&&a.added&&(e.addons.find(e=>e.id==a.id).added=!0),e.addons.find(e=>e.id==a.id)&&a.selectedPart&&(e.addons.find(e=>e.id==a.id).selectedPart=a.selectedPart)}this.setState({product:e,loading:!1},(function(){this.props.setSelectedProduct(this.state.product)}))}.bind(this),error:function(e,t,a){this.setState({error:{EN:"Failed to get service information.",ID:"Gagal mendapatkan informasi layanan."}})}.bind(this)})}componentWillReceiveProps(e){let t=this.state;if(this.state.carSelection!=e.carSelection){let a,s=e.carSelection.cars,r=e.carSelection.selectedCustCarId,n=e.carSelection.selectedCarIndex;r?s&&s.length>0&&(a=s.find(e=>e.custCarId==r)):null!=n&&s&&s.length>0&&(a=s[n]),t=Object.assign(Object.assign({},t),{carSelection:e.carSelection,selectedCar:a}),this.setState(t)}this.state.productSelection!=e.productSelection&&(t=Object.assign(Object.assign({},t),{productSelection:e.productSelection}),this.setState(t)),this.state.cart!=e.cart&&(t=Object.assign(Object.assign({},t),{cart:e.cart}),this.setState(t)),this.state.newForm!=e.newForm&&(t=Object.assign(Object.assign({},t),{newForm:e.newForm}),this.setState(t))}getData(e){let t,a=e.carSelection.cars,s=e.carSelection.selectedCustCarId,r=e.carSelection.selectedCarIndex;s?a&&a.length>0&&(t=a.find(e=>e.custCarId==s)):null!=r&&a&&a.length>0&&(t=a[r]);let n=null;return e.productSelection.product&&(n=e.productSelection.product),{selectedCar:t,product:n}}hasParts(e){if(e.brands&&e.brands.length>0||e.parts&&e.parts.length>0)return!0;if(e.addons)for(var t of e.addons)if(t.mandatory&&this.hasParts(t))return!0;return!1}hasAddons(e){if(e.addons)for(var t of e.addons)if(!t.mandatory&&!t.recommended)return!0;return!1}handleDismiss(e){this.props.setSelectedProduct(null)}handleRetry(e){this.setState({error:void 0},this.loadProduct)}isReady(){if(this.state.product){if(!(this.state.product.brands&&0!=this.state.product.brands.length||this.state.product.parts&&0!=this.state.product.parts.length))return!0;if(!this.state.product.added)return!1}return!0}subtotalNeedsQuotation(e){if(e.needsQuotation)return!0;if(e.addons){for(var t of e.addons)if(t.added&&t.needsQuotation)return!0;return!1}return!1}getProduct(e){return this.state.product?e==this.state.product.id?this.state.product:e?this.state.product.addons&&this.state.product.addons.find(t=>t.id==e):null:null}getPart(e,t,a){return console.log("getPart",e,t,a),e.brands?e.brands.find(e=>e.name==t).parts.find(e=>e.id==a):e.parts.find(e=>e.id==a)}handleSelectBrand(e){var t=this.getProduct(e.currentTarget.dataset.productId);t&&t.brands&&(t.selectedBrand=t.brands.find(t=>t.name==e.currentTarget.dataset.brand),this.setState({product:this.state.product}))}handleIncreaseProduct(e){var t=this.getProduct(e.currentTarget.dataset.productId);t&&(t.q=t.q?t.q<10?t.q+1:10:2,this.setState({product:this.state.product}))}handleDecreaseProduct(e){var t=this.getProduct(e.currentTarget.dataset.productId);if(t){if(t.q=t.q&&t.q>1?t.q-1:1,t.addons)for(var a of t.addons)a.q&&a.q>t.q&&(a.q=t.q);this.setState({product:this.state.product})}}handleIncreaseAddon(e){var t=this.getProduct(e.currentTarget.dataset.productId),a=this.getProduct(e.currentTarget.dataset.addonId);if(t&&a){var s=t.q?t.q:1,r=a.q?a.q<10?a.q+1:10:1;r<=s&&(a.q=r),this.setState({product:this.state.product})}}handleDecreaseAddon(e){var t=this.getProduct(e.currentTarget.dataset.addonId);t&&(t.q=t.q&&t.q>0?t.q-1:0,this.setState({product:this.state.product}))}handleSelectProduct(e){var t=this.getProduct(e.currentTarget.dataset.productId);t&&(t.added=!0,this.setState({product:this.state.product}))}handleDeselectProduct(e){var t=this.getProduct(e.currentTarget.dataset.productId);t&&(t.added=!1,this.setState({product:this.state.product}))}handleSelectPart(e){var t=this.getProduct(e.currentTarget.dataset.productId),a=this.getPart(t,e.currentTarget.dataset.partBrand,e.currentTarget.dataset.partId);t&&(t.selectedPart=a,t.added=!0,this.setState({product:this.state.product},function(){}.bind(this)))}handleDeselectPart(e){var t=this.getProduct(e.currentTarget.dataset.productId);t&&(t.selectedPart=null,t.added=!1,this.setState({product:this.state.product},function(){}.bind(this)))}getProductSubtotal(e){var t=this.getProduct(e),a=0;if(this.state.product&&t)if(e!=this.state.product.id||t.brands&&0!=t.brands.length||t.parts&&0!=t.parts.length){if(t&&(t.added||t.mandatory)&&!isNaN(t.p)&&(a+=t.p,t.selectedPart)){var s=t.selectedPart.q&&t.selectedPart.q>0?t.selectedPart.q:1;a+=t.selectedPart.p*s}}else a=t.p;return a}getSubtotal(e){var t=0;if(e.parts&&e.parts.length>0){if(e.selectedPart){var a=e.pq&&e.pq>0?e.pq:1;e.q&&e.q>=1?t+=(e.p+e.selectedPart.p*a)*e.q:t+=e.p+e.selectedPart.p*a}}else e.q&&e.q>=1?t+=e.p*e.q:t+=e.p;if(e.addons)for(var s of e.addons)s.hasQuantity?s.q&&(t+=this.getSubtotal(s)):s.added&&(t+=this.getSubtotal(s));return t}handleBook(e){if(this.state.product&&this.state.newForm.selectedTab&&(!this.state.cart.bookedGroup||1==this.state.cart.bookedGroup&&1==this.state.newForm.selectedTab.tab||1==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&3==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&5==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&6==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||3==this.state.cart.bookedGroup&&4==this.state.newForm.selectedTab.tab||3==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||4==this.state.cart.bookedGroup&&2==this.state.newForm.selectedTab.tab||4==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab)){let e=this.state.cart.bookedProducts,s={addons:null,hasAddons:this.hasAddons(this.state.product),hasParts:this.hasParts(this.state.product),hasQuantity:this.state.product.hasQuantity,id:this.state.product.id,name:this.state.product.name,p:this.state.product.p,part:null,q:this.state.product.q?this.state.product.q:1,quote:this.state.product.needsQuotation?1:0,subtotal:this.getProductSubtotal(this.state.product.id)};if(this.state.product.selectedPart&&(s.part={brand:this.state.product.selectedPart.brand,d:this.state.product.selectedPart.d,icon:this.state.product.selectedPart.icon,id:this.state.product.selectedPart.id,lp:this.state.product.selectedPart.lp,name:this.state.product.selectedPart.brand+" "+this.state.product.selectedPart.type,p:this.state.product.selectedPart.p,q:this.state.product.pq&&this.state.product.pq>0?this.state.product.pq:1,type:this.state.product.selectedPart.type,unit:null},this.state.product.pg&&("Volume"==this.state.product.pg.c?s.part.unit=(this.props.language,"Liter"):"Multiple"==this.state.product.pg.c&&s.part&&(s.part.q&&s.part.q>1?s.part.unit="EN"==this.props.language?"Pieces":"Buah":s.part.unit="EN"==this.props.language?"Piece":"Buah"))),this.state.product.addons&&this.state.product.addons.length>0)for(var t of(s.addons=[],this.state.product.addons))if(!(t.mandatory||t.brands&&0!=t.brands.length||t.parts&&!(t.parts.length<=1))){var a=t.q?t.q:0;if(t.parts&&1==t.parts.length){let e=t.pq&&t.pq>0?t.pq:1;s.addons.push({added:!!t.hasQuantity||t.added,addons:t.addons,articles:t.articles,awp:t.awp,brands:t.brands,bt:t.bt,ch:t.ch,cover:t.cover,d:t.d,disabled:t.disabled,estd:t.estd,hasQuantity:t.hasQuantity,icon:t.icon,id:t.id,name:t.name,lobt:t.lobt,loh:t.loh,lp:t.lp,mandatory:t.mandatory,mandatoryAddons:t.mandatoryAddons,nawp:t.nawp,needsQuotation:t.needsQuotation,nocar:t.nocar,oh:t.oh,optionalAddons:t.optionalAddons,p:t.p,part:{brand:t.parts[0].brand,d:t.parts[0].d,icon:t.parts[0].icon,id:t.parts[0].id,lp:t.parts[0].lp,name:t.parts[0].name,p:t.parts[0].p,q:e,type:t.parts[0].type,unit:t.parts[0].unit},parts:t.parts,pg:t.pg,pq:t.pq,q:a,quote:t.needsQuotation?1:0,recommended:t.recommended,subtotal:(t.p+t.parts[0].p*e)*a,sd:t.sd,seqNo:t.seqNo,selectedBrand:t.selectedBrand,selectedPart:{brand:t.parts[0].brand,d:t.parts[0].d,icon:t.parts[0].icon,id:t.parts[0].id,lp:t.parts[0].lp,name:t.parts[0].name,p:t.parts[0].p,q:e,type:t.parts[0].type,unit:t.parts[0].unit}})}else{let e=t.pq&&t.pq>0?t.pq:1;s.addons.push({added:!!t.hasQuantity||t.added,addons:t.addons,articles:t.articles,awp:t.awp,brands:t.brands,bt:t.bt,ch:t.ch,cover:t.cover,d:t.d,disabled:t.disabled,estd:t.estd,hasQuantity:t.hasQuantity,icon:t.icon,id:t.id,name:t.name,lobt:t.lobt,loh:t.loh,lp:t.lp,mandatory:t.mandatory,mandatoryAddons:t.mandatoryAddons,nawp:t.nawp,needsQuotation:t.needsQuotation,nocar:t.nocar,oh:t.oh,optionalAddons:t.optionalAddons,p:t.p,part:t.selectedPart,parts:t.parts,pg:t.pg,pq:t.pq,q:a,quote:t.needsQuotation?1:0,recommended:t.recommended,subtotal:(t.p+(t.selectedPart&&t.selectedPart.q?t.selectedPart.q:0)*e)*a,sd:t.sd,seqNo:t.seqNo,selectedBrand:t.selectedBrand,selectedPart:t.selectedPart})}}if((null==e||e&&0==e.length)&&this.smoothScrollTo("#make-appointment"),e&&e.length>0){let t=!1;e=e.slice();for(let a=0;a<e.length;a++)if(e[a].id==s.id){e.splice(a,1,s),t=!0;break}t||e.push(s)}else e=[s];let r=[];for(let t of e)r.push(t.id);this.props.setBookedProducts(e,this.state.user.userLoggedin),this.props.checkVoucherValid(e,this.state.newForm.applyVoucherResult),this.props.setSelectedProduct(null),this.props.getSlotsAsync(r),this.props.setProgress(2),this.state.newForm.selectedTab&&(1==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(1,this.state.user.userLoggedin):3==this.state.newForm.selectedTab.tab||5==this.state.newForm.selectedTab.tab||6==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(2,this.state.user.userLoggedin):4==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(3,this.state.user.userLoggedin):2==this.state.newForm.selectedTab.tab&&this.props.setBookedGroup(4,this.state.user.userLoggedin))}else{let e={title:"EN"==this.state.language?"Empty the cart?":"Kosongkan keranjang?",message:"EN"==this.state.language?"You must empty the cart before moving service.":"Anda harus mengosongkan keranjang sebelum pindah layanan.",okButton:"EN"==this.state.language?"REMOVE":"KOSONGKAN",cancelButton:"EN"==this.state.language?"CANCEL":"BATAL",okOnly:!1,ok:function(){this.props.setBookedProducts([],this.state.user.userLoggedin),this.props.setBookedInquiries([],this.state.user.userLoggedin),this.props.setBookedGroup(null,this.state.user.userLoggedin),this.props.setProgress(1)}.bind(this)};this.props.setAlert(e)}}smoothScrollTo(e){E(e).addClass("flash"),setTimeout((function(){E(e).removeClass("flash")}),100);let t=E(e).offset();t&&window.scroll({top:t.top-70,left:0,behavior:"smooth"})}productTemplate(e,t,a){if(a||e.groups&&0!=e.groups.length||e.parts&&0!=e.parts.length){if(!a||e.groups&&e.groups.length>0||e.parts&&e.parts.length>1)return s.createElement("div",{className:"product",key:t},s.createElement("h2",null,e.name),s.createElement("div",{className:"product-part"},e.selectedPart&&s.createElement("div",{className:"part-selector"},s.createElement("div",{className:"part-selector-list"},this.partTemplate(e,e.selectedPart,0,!0))),!e.selectedPart&&(e.pg&&e.pg.name?s.createElement("p",null,s.createElement(c.a,{EN:"Please select",ID:"Silakan pilih"})," ","EN"==this.props.language&&"battery"==e.pg.name.toLowerCase()&&"battery","ID"==this.props.language&&"battery"==e.pg.name.toLowerCase()&&"aki","EN"==this.props.language&&"oli mesin"==e.pg.name.toLowerCase()&&"motor oil","ID"==this.props.language&&"oli mesin"==e.pg.name.toLowerCase()&&"oli mesin","EN"==this.props.language&&"busi"==e.pg.name.toLowerCase()&&"spark plugs","ID"==this.props.language&&"busi"==e.pg.name.toLowerCase()&&"busi",":"):s.createElement("p",null,s.createElement(c.a,{EN:"Please select a part",ID:"Silakan pilih part"}),":")),e&&!e.selectedPart&&e.brands&&s.createElement("ul",{className:"brand-selector"},s.createElement("li",{className:e.selectedBrand?"":"active"},s.createElement("a",{href:"javascript:void(0)","data-product-id":e.id,"data-brand":"",onClick:this.handleSelectBrand.bind(this),className:"brand-all"},s.createElement("label",null,"ALL"))),e.brands.map((function(t,a){return s.createElement("li",{key:t.name,className:e.selectedBrand&&e.selectedBrand.name==t.name?"active":""},s.createElement("a",{href:"javascript:void(0)","data-product-id":e.id,"data-brand":t.name,onClick:this.handleSelectBrand.bind(this)},t.icon?s.createElement("img",{src:t.icon,className:"img-responsive"}):s.createElement("label",null,t.name)))}),this)),e&&!e.selectedPart&&e.brands&&!e.selectedBrand&&s.createElement("div",{className:"part-selector"},s.createElement("div",{className:"part-selector-header"},s.createElement(c.a,{EN:"All Brands",ID:"Semua Merk"})),s.createElement("div",{className:"part-selector-list"},e.parts&&e.parts.map((function(t,a){return this.partTemplate(e,t,a,!1)}),this))),e&&!e.selectedPart&&e.brands&&e.selectedBrand&&s.createElement("div",{className:"part-selector"},s.createElement("div",{className:"part-selector-header"},e.selectedBrand.name),s.createElement("div",{className:"part-selector-list"},e.selectedBrand.parts&&e.selectedBrand.parts.map((function(t,a){return this.partTemplate(e,t,a,!1)}),this))),e&&!e.selectedPart&&!e.brands&&e.parts&&s.createElement("div",{className:"part-selector"},s.createElement("div",{className:"part-selector-list"},e.parts&&e.parts.map((function(t,a){return this.partTemplate(e,t,a,!1)}),this)))),e.p>0&&s.createElement("footer",null,s.createElement("div",{className:"subtotal-row"},s.createElement("div",{className:"price-wrapper"},s.createElement("h3",null,s.createElement(c.a,{EN:"Service fee",ID:"Harga jasa"})),s.createElement("div",{className:"price"+(e.p&&0!=e.p?"":" free")},e.p>0?"Rp "+e.p.toLocaleString():"EN"==this.props.language?"FREE":"GRATIS")))));if(e.parts&&e.parts.length>0){var r=e.parts[0];return s.createElement("div",{className:"addon",key:t},s.createElement("h2",null,e.name),s.createElement("div",{className:"addon-content"},s.createElement("div",{className:"addon-part"},s.createElement("figure",null,s.createElement("img",{src:r.icon,className:"img-responsive"})),s.createElement("div",{className:"addon-details"},s.createElement("h3",null,r.brand," ",r.type),r.d&&s.createElement("p",{dangerouslySetInnerHTML:{__html:r.d}}),e.pg&&"Volume"==e.pg.c&&e.pq&&s.createElement("p",null,e.pq," ","EN"==this.props.language?"Liter for":"Liter untuk"," ",this.state.selectedCar&&this.state.selectedCar.make," ",this.state.selectedCar&&this.state.selectedCar.model,s.createElement("br",null),"Rp ",r.p.toLocaleString()," ","EN"==this.props.language?"a liter":"per liter"),e.pg&&"Multiple"==e.pg.c&&e.pq&&s.createElement("p",null,e.pq," ",e.pq>1?"EN"==this.props.language?"Pieces for":"Buah untuk":"EN"==this.props.language?"Piece for":"Buah untuk"," ",this.state.selectedCar&&this.state.selectedCar.make," ",this.state.selectedCar&&this.state.selectedCar.model,s.createElement("br",null),"Rp ",r.p.toLocaleString()," ","EN"==this.props.language?"each":"per buah"),s.createElement("div",{className:"price"},e.pq&&e.pq>0?"Rp "+(r.p*e.pq+e.p).toLocaleString():"Rp "+(r.p+e.p).toLocaleString())),s.createElement("aside",null,this.state.selectedCar&&this.state.product&&!this.state.product.disabled&&(e.selectedPart?s.createElement("button",{type:"button",className:"btn btn-default btn-added","data-product-id":e.id,onClick:this.handleDeselectPart.bind(this)},s.createElement(c.a,{EN:"CANCEL",ID:"BATAL"})):s.createElement("button",{type:"button",className:"btn btn-default btn-add","data-product-id":e.id,"data-part-brand":r.brand,"data-part-id":r.id,onClick:this.handleSelectPart.bind(this)},s.createElement(c.a,{EN:"ADD",ID:"PILIH"}))))),s.createElement("div",{className:"addon-footer"},s.createElement("div",{className:"include"},s.createElement(c.a,{EN:"Include for",ID:"Tambah dengan harga"})),s.createElement("div",{className:"price"},e.pq&&e.pq>0?"Rp "+(r.p*e.pq+e.p).toLocaleString():"Rp "+(r.p+e.p).toLocaleString()),this.state.selectedCar&&this.state.product&&!this.state.product.disabled&&(e.selectedPart?s.createElement("button",{type:"button",className:"btn btn-default btn-added","data-product-id":e.id,onClick:this.handleDeselectPart.bind(this)},s.createElement(c.a,{EN:"INCLUDED",ID:"DITAMBAHKAN"})):s.createElement("button",{type:"button",className:"btn btn-default btn-add","data-product-id":e.id,"data-part-brand":r.brand,"data-part-id":r.id,onClick:this.handleSelectPart.bind(this)},s.createElement(c.a,{EN:"INCLUDE",ID:"TAMBAHKAN"}))))))}return s.createElement("div",{className:"addon",key:t},s.createElement("div",{className:"addon-content"},s.createElement("div",{className:"addon-part"},s.createElement("figure",null,s.createElement("img",{src:e.icon,className:"img-responsive"})),s.createElement("div",{className:"addon-details"},s.createElement("h3",null,e.name),e.sd&&s.createElement("p",{dangerouslySetInnerHTML:{__html:e.sd}}),s.createElement("div",{className:"price"},"Rp ",e.p.toLocaleString())),s.createElement("aside",null,e.hasQuantity&&s.createElement("div",{className:"qty-box"},this.state.product&&s.createElement("span",{"data-addon-id":e.id,"data-product-id":this.state.product.id,onClick:this.handleDecreaseAddon.bind(this),className:"dec"+(e.q&&e.q>0?" minus":" disabled")},"-"),s.createElement("span",{className:"qty"},e.q?e.q:0),this.state.product&&s.createElement("span",{"data-addon-id":e.id,"data-product-id":this.state.product.id,onClick:this.handleIncreaseAddon.bind(this),className:"inc"+(e.q?e.q<10?" plus":" disabled":" plus")},"+")),this.state.selectedCar&&this.state.product&&!this.state.product.disabled&&!e.hasQuantity&&(e.added?s.createElement("button",{type:"button",className:"btn btn-default btn-added","data-product-id":e.id,onClick:this.handleDeselectProduct.bind(this)},s.createElement(c.a,{EN:"CANCEL",ID:"BATAL"})):s.createElement("button",{type:"button",className:"btn btn-default btn-add","data-product-id":e.id,onClick:this.handleSelectProduct.bind(this)},s.createElement(c.a,{EN:"ADD",ID:"PILIH"}))))),s.createElement("div",{className:"addon-footer"},s.createElement("div",{className:"include"},s.createElement(c.a,{EN:"Include for",ID:"Tambah dengan harga"})),s.createElement("div",{className:"price"},"Rp ",e.p.toLocaleString()),e.hasQuantity&&s.createElement("div",{className:"qty-box"},this.state.product&&s.createElement("span",{"data-addon-id":e.id,"data-product-id":this.state.product.id,onClick:this.handleDecreaseAddon.bind(this),className:"dec"+(e.q&&e.q>0?" minus":" disabled")},"-"),s.createElement("span",{className:"qty"},e.q?e.q:0),this.state.product&&s.createElement("span",{"data-addon-id":e.id,"data-product-id":this.state.product.id,onClick:this.handleIncreaseAddon.bind(this),className:"inc"+(e.q?e.q<10?" plus":" disabled":" plus")},"+")),this.state.selectedCar&&this.state.product&&!this.state.product.disabled&&!e.hasQuantity&&(e.added?s.createElement("button",{type:"button",className:"btn btn-default btn-added","data-product-id":e.id,onClick:this.handleDeselectProduct.bind(this)},s.createElement(c.a,{EN:"INCLUDED",ID:"DITAMBAHKAN"})):s.createElement("button",{type:"button",className:"btn btn-default btn-add","data-product-id":e.id,onClick:this.handleSelectProduct.bind(this)},s.createElement(c.a,{EN:"INCLUDE",ID:"TAMBAHKAN"}))))))}var n=this.subtotalNeedsQuotation(e);return s.createElement("div",{className:"product",key:t},s.createElement("h2",null,e.name),s.createElement("div",{className:"product-part"},s.createElement("div",{className:"part-selector"},s.createElement("div",{className:"part-selector-list"+(e.recommendedAddons&&e.recommendedAddons.length>0?" noscroll":"")},s.createElement("div",{className:e.added?"part selected-part":"part"},s.createElement("figure",null,s.createElement("img",{src:e.icon,className:"img-responsive"})),s.createElement("div",{className:"part-details"},s.createElement("p",{dangerouslySetInnerHTML:{__html:e.d}})),e.recommendedAddons&&e.recommendedAddons.length>0&&s.createElement("div",{className:"product-options"},e.recommendedAddons.map((function(e,t){return s.createElement("div",{key:e.id,className:"product-option"},s.createElement("figure",null,s.createElement("img",{src:e.parts&&1==e.parts.length?e.parts[0].icon:e.icon,className:"img-responsive"})),s.createElement("div",{className:"product-option-details"},s.createElement("h3",null,e.name),s.createElement("p",{dangerouslySetInnerHTML:{__html:e.sd}})),e.added&&s.createElement("div",{className:"btn-group"},s.createElement("button",{type:"button",className:"btn btn-default","data-product-id":e.id,onClick:this.handleDeselectProduct.bind(this)},e.parts&&1==e.parts.length?s.createElement(c.a,{EN:"None",ID:"Tidak termasuk"}):s.createElement(c.a,{EN:"Do not include",ID:"Tidak termasuk"}),s.createElement("br",null),s.createElement("span",{className:"price negative"},"- Rp ",(e.parts&&1==e.parts.length?e.p+e.parts[0].p*e.pq:e.p).toLocaleString())),s.createElement("button",{type:"button",className:"btn btn-default active"},e.parts&&1==e.parts.length?e.parts[0].brand+" "+e.parts[0].type:"EN"==this.props.language?"Included":"Termasuk")),!e.added&&s.createElement("div",{className:"btn-group"},s.createElement("button",{type:"button",className:"btn btn-default active"},e.parts&&1==e.parts.length?s.createElement(c.a,{EN:"None",ID:"Tidak termasuk"}):s.createElement(c.a,{EN:"Not included",ID:"Tidak termasuk"})),s.createElement("button",{type:"button",className:"btn btn-default","data-product-id":e.id,onClick:this.handleSelectProduct.bind(this)},e.parts&&1==e.parts.length?e.parts[0].brand+" "+e.parts[0].type:"EN"==this.props.language?"Included":"Termasuk",s.createElement("br",null),s.createElement("span",{className:"price"},e.parts&&1==e.parts.length?"+ Rp "+(e.p+e.parts[0].p*e.pq).toLocaleString():e.p>0?"+ Rp "+e.p.toLocaleString():"EN"==this.props.language?"FREE":"GRATIS"))))}),this)),this.state.product&&!this.state.product.nocar&&!this.state.product.disabled&&!n&&this.state.selectedCar&&s.createElement("aside",{className:"hidden-m"},s.createElement("div",{className:"price"},s.createElement("h4",null,s.createElement(c.a,{EN:"Price",ID:"Harga"})),"Rp ",((e.p||0)+(e.recommendedAddons?e.recommendedAddons.reduce((e,t)=>e+(t.added?t.parts&&1==t.parts.length?t.p+t.parts[0].p*t.pq:t.p:0),0):0)).toLocaleString()),this.state.product.hasQuantity&&s.createElement("div",{className:"qty-box"},s.createElement("span",{"data-product-id":e.id,onClick:this.handleDecreaseProduct.bind(this),className:"dec"+(e.q&&e.q>1?" minus":" disabled")},"-"),s.createElement("span",{className:"qty"},e.q?e.q:1),s.createElement("span",{"data-product-id":e.id,onClick:this.handleIncreaseProduct.bind(this),className:"inc"+(e.q?e.q<10?" plus":" disabled":" plus")},"+"))),this.state.product&&!this.state.product.nocar&&!this.state.product.disabled&&n&&this.state.selectedCar&&s.createElement("aside",{className:"hidden-m"},s.createElement("div",{className:"price"},s.createElement("h4",null,s.createElement(c.a,{EN:"Price",ID:"Harga"})),s.createElement(c.a,{EN:"ASK FOR A QUOTE",ID:"TANYA KAMI"}))))))),this.state.product&&!this.state.product.nocar&&!this.state.product.disabled&&!n&&this.state.selectedCar&&s.createElement("footer",{className:"visible-m"},this.state.product.hasQuantity&&s.createElement("div",{className:"qty-row"},s.createElement("div",{className:"qty-box"},s.createElement("span",{"data-product-id":e.id,onClick:this.handleDecreaseProduct.bind(this),className:"dec"+(e.q&&e.q>1?" minus":" disabled")},"-"),s.createElement("span",{className:"qty"},e.q?e.q:1),s.createElement("span",{"data-product-id":e.id,onClick:this.handleIncreaseProduct.bind(this),className:"inc"+(e.q?e.q<10?" plus":" disabled":" plus")},"+"))),s.createElement("div",{className:"subtotal-row"},s.createElement("div",{className:"price-wrapper"},s.createElement("h3",null,s.createElement(c.a,{EN:"Price",ID:"Harga"})),s.createElement("div",{className:"price"+(e.p&&0!=e.p?"":" free")},e.p>0?"Rp "+((e.p||0)+(e.recommendedAddons?e.recommendedAddons.reduce((e,t)=>e+(t.added?t.parts&&1==t.parts.length?t.p+t.parts[0].p*t.pq:t.p:0),0):0)).toLocaleString():"EN"==this.props.language?"FREE":"GRATIS")))),n&&this.state.selectedCar&&s.createElement("footer",{className:"visible-m"},s.createElement("div",{className:"subtotal-row"},s.createElement("div",{className:"price-wrapper"},s.createElement("h3",null,s.createElement(c.a,{EN:"Price",ID:"Harga"})),s.createElement("div",{className:"price"},s.createElement(c.a,{EN:"QUOTE",ID:"TANYA"}))))))}partTemplate(e,t,a,r){return s.createElement("div",{key:t.id,className:r?"part selected-part":"part"},s.createElement("figure",null,s.createElement("img",{src:t.icon,className:"img-responsive"})),s.createElement("div",{className:"part-details"},s.createElement("h3",null,t.brand," ",t.type),t.d&&s.createElement("p",{dangerouslySetInnerHTML:{__html:t.d}}),e.pg&&"Volume"==e.pg.c&&e.pq&&s.createElement("p",null,e.pq," ","EN"==this.props.language?"Liter for":"Liter untuk"," ",this.state.selectedCar&&this.state.selectedCar.make," ",this.state.selectedCar&&this.state.selectedCar.model,s.createElement("br",null),"Rp ",t.p.toLocaleString()," ","EN"==this.props.language?"a liter":"per liter"),e.pg&&"Multiple"==e.pg.c&&e.pq&&s.createElement("p",null,e.pq," ",e.pq>1?"EN"==this.props.language?"Pieces for":"Buah untuk":"EN"==this.props.language?"Piece for":"Buah untuk"," ",this.state.selectedCar&&this.state.selectedCar.make," ",this.state.selectedCar&&this.state.selectedCar.model,s.createElement("br",null),"Rp ",t.p.toLocaleString()," ","EN"==this.props.language?"each":"per buah"),s.createElement("div",{className:"price"},e.pq&&e.pq>0?"Rp "+(t.p*e.pq).toLocaleString():"Rp "+t.p.toLocaleString())),s.createElement("aside",null,s.createElement("div",{className:"price"},e.pq&&e.pq>0?"Rp "+(t.p*e.pq).toLocaleString():"Rp "+t.p.toLocaleString()),r?s.createElement("button",{type:"button",className:"btn btn-default btn-added btn-hidden-mobile","data-product-id":e.id,onClick:this.handleDeselectPart.bind(this)},s.createElement(c.a,{EN:"PART SELECTED",ID:"DIPILIH"})):s.createElement("button",{type:"button",className:"btn btn-default btn-add btn-hidden-mobile orange-outline-pulses-if-untouched","data-product-id":e.id,"data-part-brand":t.brand,"data-part-id":t.id,onClick:this.handleSelectPart.bind(this)},s.createElement(c.a,{EN:"USE THIS PART",ID:"PILIH"})),r?s.createElement("button",{type:"button",className:"btn btn-default btn-added btn-hidden-desktop","data-product-id":e.id,onClick:this.handleDeselectPart.bind(this)},s.createElement(c.a,{EN:"CANCEL",ID:"BATAL"})):s.createElement("button",{type:"button",className:"btn btn-default btn-add btn-hidden-desktop orange-outline-pulses-if-untouched","data-product-id":e.id,"data-part-brand":t.brand,"data-part-id":t.id,onClick:this.handleSelectPart.bind(this)},s.createElement(c.a,{EN:"ADD",ID:"PILIH"}))))}render(){let e="BOOK THIS SERVICE",t="PESAN LAYANAN INI",a="ASK FOR QUOTATION",r="MINTA PENAWARAN HARGA",n="QUOTE",o="TANYA";return s.createElement("div",{className:"product-details-wrapper"},s.createElement("div",{className:"product-details-scroll-wrapper"},s.createElement("div",{className:"product-details-overlay",onClick:this.handleDismiss.bind(this)}),s.createElement("div",{className:"product-details"},s.createElement("header",null,s.createElement("figure",null,s.createElement("img",{src:this.state.productSelection&&this.state.productSelection.product&&this.state.productSelection.product.cover?this.state.productSelection.product.cover:"",className:"img-responsive"}),s.createElement("h1",null,this.state.productSelection&&this.state.productSelection.product&&this.state.productSelection.product.name),s.createElement("button",{type:"button",className:"btn btn-close",onClick:this.handleDismiss.bind(this)}))),s.createElement(Ge,{selected:0},s.createElement(_e,{label:this.hasParts(this.state.product)?this.hasAddons(this.state.product)?"EN"==this.props.language?"Parts and Add-ons":"Part dan Upgrade":"EN"==this.props.language?"Parts Selection":"Pilihan Part":this.hasAddons(this.state.product)?"EN"==this.props.language?"Service and Add-ons":"Layanan dan Upgrade":"EN"==this.props.language?"Service Details":"Layanan"},s.createElement("section",{className:"products"},this.state.loading&&!this.state.error&&s.createElement("div",{className:"loading"}),this.state.loading&&this.state.error&&s.createElement("div",{className:"retry"},s.createElement("p",null,this.state.error),s.createElement("button",{type:"button",className:"btn btn-default btn-retry",onClick:this.handleRetry.bind(this)},s.createElement(c.a,{EN:"TRY AGAIN",ID:"COBA LAGI"}))),!this.state.loading&&this.productTemplate(this.state.product,0,!1),!this.state.loading&&this.state.product&&this.state.product.optionalAddons&&this.state.product.optionalAddons.length>0&&s.createElement("h2",null,s.createElement(c.a,{EN:"Add-ons",ID:"Upgrade"}),s.createElement("i",null,s.createElement(c.a,{EN:"(Optional)",ID:"(Optional)"}))),!this.state.loading&&this.state.product&&this.state.product.optionalAddons&&this.state.product.optionalAddons.length>0&&s.createElement("h3",{className:"select-addons"},s.createElement(c.a,{EN:"Please select your add-ons:",ID:"Pilih upgrade:"})),s.createElement("div",{className:"addons"},!this.state.loading&&this.state.product&&this.state.product.optionalAddons&&this.state.product.optionalAddons.length>0&&this.state.product.optionalAddons.map((function(e,t){return this.productTemplate(e,t+1,!0)}),this)))),s.createElement(_e,{label:"EN"==this.props.language?"Information":"Informasi"},s.createElement("section",{className:"info"},this.state.loading&&!this.state.error&&s.createElement("div",{className:"loading"}),this.state.loading&&this.state.error&&s.createElement("div",{className:"retry"},s.createElement("p",null,this.state.error),s.createElement("button",{type:"button",className:"btn btn-default btn-retry",onClick:this.handleRetry.bind(this)},s.createElement(c.a,{EN:"TRY AGAIN",ID:"COBA LAGI"}))),!this.state.loading&&this.state.product&&s.createElement("h2",null,this.state.product.name),!this.state.loading&&this.state.product&&this.state.product.d&&s.createElement("p",{dangerouslySetInnerHTML:{__html:this.state.product.d}}),!this.state.loading&&this.state.product&&this.state.product.articles&&this.state.product.articles.map((function(e,t){return s.createElement("article",{key:t},s.createElement("h2",null,e.head),s.createElement("p",{dangerouslySetInnerHTML:{__html:e.p}}))}),this)))),s.createElement("footer",null,!this.state.loading&&s.createElement("div",{className:"total visible-xs"},s.createElement("div",{className:"label"},s.createElement("a",{href:"javascript:void(0)"},"SUBTOTAL ",s.createElement("span",{className:"caret"}))),!this.subtotalNeedsQuotation(this.state.product)&&s.createElement("div",{className:"subtotal"+(0==this.getSubtotal(this.state.product)?" muted":"")},"Rp ",this.getSubtotal(this.state.product).toLocaleString()),this.subtotalNeedsQuotation(this.state.product)&&s.createElement("div",{className:"subtotal"},s.createElement(c.a,{EN:n,ID:o}))),s.createElement("button",{type:"button",className:"btn btn-primary"+(this.isReady()&&!this.state.loading&&(this.state.product&&!this.state.product.nocar&&!this.state.product.disabled||this.subtotalNeedsQuotation(this.state.product))&&this.state.selectedCar?" transparent-orange-pulses":""),disabled:!this.isReady()||this.state.loading||this.state.product&&(this.state.product.nocar||this.state.product.disabled)&&!this.subtotalNeedsQuotation(this.state.product)||!this.state.selectedCar,onClick:this.handleBook.bind(this)},this.subtotalNeedsQuotation(this.state.product)?s.createElement(c.a,{EN:a,ID:r}):s.createElement(c.a,{EN:e,ID:t}))))))}}var Qe=Object(i.b)(e=>({carSelection:e.carSelection,language:e.language,productSelection:e.productSelection,cart:e.cart,user:e.user,newForm:e.newForm}),e=>({setSelectedProduct:Object(o.a)(T.g,e),getSlotsAsync:t=>w(e,t),setProgress:Object(o.a)(u,e),checkQualifiedVoucher:Object(o.a)(f.a,e),setBookedProducts:Object(o.a)(m.c,e),setBookedInquiries:Object(o.a)(m.b,e),setBookedGroup:Object(o.a)(m.a,e),setAlert:Object(o.a)(f.c,e),checkVoucherValid:Object(o.a)(f.b,e)}))(Ke);class Ue extends s.Component{constructor(e){super(e),this.state=Object.assign({carSelection:e.carSelection,language:e.language,productSelection:e.productSelection,cart:e.cart,user:e.user,newForm:e.newForm,loading:!0},this.getData(e))}componentDidMount(){this.loadProduct()}loadProduct(){let e="/api/product/";if(this.state.product&&(e+=this.state.product.id),this.state.selectedCar){let t=this.state.selectedCar;t.make&&t.model&&t.year&&t.trim&&(e+="/"+encodeURIComponent(t.make)+"/"+encodeURIComponent(t.model)+"/"+encodeURIComponent(t.year)+"/"+encodeURIComponent(t.trim))}E.ajax({url:e,type:"GET",dataType:"json",success:function(e,t,a){if(e.brands&&!e.parts){for(var s of(e.parts=[],e.brands))for(var r of s.parts)e.parts.push(r);e.parts.sort((e,t)=>t.price-e.price)}if(e&&e.addons&&(e.mandatoryAddons=e.addons.filter(e=>e.mandatory),e.optionalAddons=e.addons.filter(e=>!e.mandatory),e.mandatoryAddons))for(var n of e.mandatoryAddons)n.added=!0;if(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0){let t=this.state.cart.bookedProducts.find(t=>t.id==e.id);if(t&&(e.added=!0,t.part&&(e.selectedPart=t.part),t.addons&&t.addons.length>0))for(let a of t.addons)e.addons.find(e=>e.id==a.id)&&a.added&&(e.addons.find(e=>e.id==a.id).added=!0),e.addons.find(e=>e.id==a.id)&&a.selectedPart&&(e.addons.find(e=>e.id==a.id).selectedPart=a.selectedPart)}this.setState({product:e,loading:!1},(function(){this.props.setSelectedProduct(this.state.product)}))}.bind(this),error:function(e,t,a){this.setState({error:{EN:"Failed to get service information.",ID:"Gagal mendapatkan informasi layanan."}})}.bind(this)})}componentWillReceiveProps(e){let t=this.state;if(this.state.carSelection!=e.carSelection){let a,s=e.carSelection.cars,r=e.carSelection.selectedCustCarId,n=e.carSelection.selectedCarIndex;r?s&&s.length>0&&(a=s.find(e=>e.custCarId==r)):null!=n&&s&&s.length>0&&(a=s[n]),t=Object.assign(Object.assign({},t),{carSelection:e.carSelection,selectedCar:a}),this.setState(t)}this.state.productSelection!=e.productSelection&&(t=Object.assign(Object.assign({},t),{productSelection:e.productSelection}),this.setState(t)),this.state.cart!=e.cart&&(t=Object.assign(Object.assign({},t),{cart:e.cart}),this.setState(t)),this.state.newForm!=e.newForm&&(t=Object.assign(Object.assign({},t),{newForm:e.newForm}),this.setState(t))}getData(e){let t,a=e.carSelection.cars,s=e.carSelection.selectedCustCarId,r=e.carSelection.selectedCarIndex;s?a&&a.length>0&&(t=a.find(e=>e.custCarId==s)):null!=r&&a&&a.length>0&&(t=a[r]);let n=null;e.productSelection.product&&(n=e.productSelection.product);let o=null;return e.productSelection.addon&&(o=e.productSelection.addon),{selectedCar:t,parentProduct:n,product:o}}hasParts(e){if(e){if(e.brands&&e.brands.length>0||e.parts&&e.parts.length>0)return!0;if(e.addons)for(var t of e.addons)if(t.mandatory&&this.hasParts(t))return!0}return!1}hasAddons(e){if(e.addons)for(var t of e.addons)if(!t.mandatory&&!t.recommended)return!0;return!1}handleDismiss(e){this.props.setSelectedProduct(null),this.props.setSelectedAddon(null)}handleRetry(e){this.setState({error:void 0},this.loadProduct)}isReady(){if(this.state.product){if(!(this.state.product.brands&&0!=this.state.product.brands.length||this.state.product.parts&&0!=this.state.product.parts.length))return!0;if(!this.state.product.added)return!1}return!0}subtotalNeedsQuotation(e){if(e.needsQuotation)return!0;if(e.addons){for(var t of e.addons)if(t.added&&t.needsQuotation)return!0;return!1}return!1}getProduct(e){return this.state.product?e==this.state.product.id?this.state.product:e&&this.state.product.addons?this.state.product.addons.find(t=>t.id==e):null:null}getPart(e,t,a){return console.log("getPart",e,t,a),e.brands?e.brands.find(e=>e.name==t).parts.find(e=>e.id==a):e.parts.find(e=>e.id==a)}handleSelectBrand(e){var t=this.getProduct(e.currentTarget.dataset.productId);t&&t.brands&&(t.selectedBrand=t.brands.find(t=>t.name==e.currentTarget.dataset.brand),this.setState({product:this.state.product}))}handleIncreaseProduct(e){var t=this.getProduct(e.currentTarget.dataset.productId);t&&(t.q=t.q?t.q<10?t.q+1:10:2,this.setState({product:this.state.product}))}handleDecreaseProduct(e){var t=this.getProduct(e.currentTarget.dataset.productId);if(t){if(t.q=t.q&&t.q>1?t.q-1:1,t.addons)for(var a of t.addons)a.q&&a.q>t.q&&(a.q=t.q);this.setState({product:this.state.product})}}handleIncreaseAddon(e){var t=this.getProduct(e.currentTarget.dataset.productId),a=this.getProduct(e.currentTarget.dataset.addonId);if(t&&a){var s=t.q?t.q:1,r=a.q?a.q<10?a.q+1:10:1;r<=s&&(a.q=r),this.setState({product:this.state.product})}}handleDecreaseAddon(e){var t=this.getProduct(e.currentTarget.dataset.addonId);t&&(t.q=t.q&&t.q>0?t.q-1:0,this.setState({product:this.state.product}))}handleSelectProduct(e){var t=this.getProduct(e.currentTarget.dataset.productId);t&&(t.added=!0,this.setState({product:this.state.product}))}handleDeselectProduct(e){var t=this.getProduct(e.currentTarget.dataset.productId);t&&(t.added=!1,this.setState({product:this.state.product}))}handleSelectPart(e){var t=this.getProduct(e.currentTarget.dataset.productId),a=this.getPart(t,e.currentTarget.dataset.partBrand,e.currentTarget.dataset.partId);t&&(t.selectedPart=a,t.added=!0,this.setState({product:this.state.product},function(){}.bind(this)))}handleDeselectPart(e){var t=this.getProduct(e.currentTarget.dataset.productId);t&&(t.selectedPart=null,t.added=!1,this.setState({product:this.state.product},function(){}.bind(this)))}getProductSubtotal(e){var t=this.getProduct(e),a=0;if(this.state.product&&t)if(e!=this.state.product.id||t.brands&&0!=t.brands.length||t.parts&&0!=t.parts.length){if(t&&(t.added||t.mandatory)&&!isNaN(t.p)&&(a+=t.p,t.selectedPart)){var s=t.selectedPart.q&&t.selectedPart.q>0?t.selectedPart.q:1;a+=t.selectedPart.p*s}}else a=t.p;return a}getSubtotal(e){var t=0;if(e.parts&&e.parts.length>0){if(e.selectedPart){var a=e.pq&&e.pq>0?e.pq:1;e.q&&e.q>=1?t+=(e.p+e.selectedPart.p*a)*e.q:t+=e.p+e.selectedPart.p*a}}else e.q&&e.q>=1?t+=e.p*e.q:t+=e.p;if(e.addons)for(var s of e.addons)s.hasQuantity?s.q&&(t+=this.getSubtotal(s)):s.added&&(t+=this.getSubtotal(s));return t}handleBook(e){if(this.state.product&&this.state.newForm.selectedTab&&(!this.state.cart.bookedGroup||1==this.state.cart.bookedGroup&&1==this.state.newForm.selectedTab.tab||1==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&3==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&5==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&6==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||3==this.state.cart.bookedGroup&&4==this.state.newForm.selectedTab.tab||3==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab||4==this.state.cart.bookedGroup&&2==this.state.newForm.selectedTab.tab||4==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab)){let e=this.state.cart.bookedProducts;if(e&&this.state.parentProduct&&this.state.product)for(let t of e)if(t.id==this.state.parentProduct.id&&t.addons)for(let e of t.addons)e.id==this.state.product.id&&(e.added=!0,this.state.product.selectedPart&&(e.part={brand:this.state.product.selectedPart.brand,d:this.state.product.selectedPart.d,icon:this.state.product.selectedPart.icon,id:this.state.product.selectedPart.id,lp:this.state.product.selectedPart.lp,name:this.state.product.selectedPart.brand+" "+this.state.product.selectedPart.type,p:this.state.product.selectedPart.p,q:this.state.product.pq&&this.state.product.pq>0?this.state.product.pq:1,type:this.state.product.selectedPart.type,unit:null},this.state.product.pg&&("Volume"==this.state.product.pg.c?e.part.unit=(this.props.language,"Liter"):"Multiple"==this.state.product.pg.c&&e.part&&(e.part.q&&e.part.q>1?e.part.unit="EN"==this.props.language?"Pieces":"Buah":e.part.unit="EN"==this.props.language?"Piece":"Buah")),e.selectedPart={brand:this.state.product.selectedPart.brand,d:this.state.product.selectedPart.d,icon:this.state.product.selectedPart.icon,id:this.state.product.selectedPart.id,lp:this.state.product.selectedPart.lp,name:this.state.product.selectedPart.brand+" "+this.state.product.selectedPart.name,p:this.state.product.selectedPart.p,q:this.state.product.pq&&this.state.product.pq>0?this.state.product.pq:1,type:this.state.product.selectedPart.type,unit:null},this.state.product.pg&&("Volume"==this.state.product.pg.c?e.selectedPart.unit=(this.props.language,"Liter"):"Multiple"==this.state.product.pg.c&&e.selectedPart&&(e.selectedPart.q&&e.selectedPart.q>1?e.selectedPart.unit="EN"==this.props.language?"Pieces":"Buah":e.selectedPart.unit="EN"==this.props.language?"Piece":"Buah"))));(null==e||e&&0==e.length)&&this.smoothScrollTo("#make-appointment");let t=[];if(e){for(let a of e)t.push(a.id);this.props.setBookedProducts(e,this.state.user.userLoggedin),this.props.checkVoucherValid(e,this.state.newForm.applyVoucherResult)}this.props.setSelectedProduct(null),this.props.setSelectedAddon(null),this.props.getSlotsAsync(t),this.props.setProgress(2),this.state.newForm.selectedTab&&(1==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(1,this.state.user.userLoggedin):3==this.state.newForm.selectedTab.tab||5==this.state.newForm.selectedTab.tab||6==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(2,this.state.user.userLoggedin):4==this.state.newForm.selectedTab.tab?this.props.setBookedGroup(3,this.state.user.userLoggedin):2==this.state.newForm.selectedTab.tab&&this.props.setBookedGroup(4,this.state.user.userLoggedin))}else{let e={title:"EN"==this.state.language?"Empty the cart?":"Kosongkan keranjang?",message:"EN"==this.state.language?"You must empty the cart before moving service.":"Anda harus mengosongkan keranjang sebelum pindah layanan.",okButton:"EN"==this.state.language?"REMOVE":"KOSONGKAN",cancelButton:"EN"==this.state.language?"CANCEL":"BATAL",okOnly:!1,ok:function(){this.props.setBookedProducts([],this.state.user.userLoggedin),this.props.setBookedInquiries([],this.state.user.userLoggedin),this.props.setBookedGroup(null,this.state.user.userLoggedin),this.props.setProgress(1)}.bind(this)};this.props.setAlert(e)}}smoothScrollTo(e){E(e).addClass("flash"),setTimeout((function(){E(e).removeClass("flash")}),100);let t=E(e).offset();t&&window.scroll({top:t.top-70,left:0,behavior:"smooth"})}productTemplate(e,t,a){if(a||e.groups&&0!=e.groups.length||e.parts&&0!=e.parts.length){if(!a||e.groups&&e.groups.length>0||e.parts&&e.parts.length>1)return s.createElement("div",{className:"product",key:t},s.createElement("h2",null,e.name),s.createElement("div",{className:"product-part"},e.selectedPart&&s.createElement("div",{className:"part-selector"},s.createElement("div",{className:"part-selector-list"},this.partTemplate(e,e.selectedPart,0,!0))),!e.selectedPart&&(e.pg&&e.pg.name?s.createElement("p",null,s.createElement(c.a,{EN:"Please select",ID:"Silakan pilih"})," ","EN"==this.props.language&&"battery"==e.pg.name.toLowerCase()&&"battery","ID"==this.props.language&&"battery"==e.pg.name.toLowerCase()&&"aki","EN"==this.props.language&&"oli mesin"==e.pg.name.toLowerCase()&&"motor oil","ID"==this.props.language&&"oli mesin"==e.pg.name.toLowerCase()&&"oli mesin","EN"==this.props.language&&"busi"==e.pg.name.toLowerCase()&&"spark plugs","ID"==this.props.language&&"busi"==e.pg.name.toLowerCase()&&"busi",":"):s.createElement("p",null,s.createElement(c.a,{EN:"Please select a part",ID:"Silakan pilih part"}),":")),e&&!e.selectedPart&&e.brands&&s.createElement("ul",{className:"brand-selector"},s.createElement("li",{className:e.selectedBrand?"":"active"},s.createElement("a",{href:"javascript:void(0)","data-product-id":e.id,"data-brand":"",onClick:this.handleSelectBrand.bind(this),className:"brand-all"},s.createElement("label",null,"ALL"))),e.brands.map((function(t,a){return s.createElement("li",{key:t.name,className:e.selectedBrand&&e.selectedBrand.name==t.name?"active":""},s.createElement("a",{href:"javascript:void(0)","data-product-id":e.id,"data-brand":t.name,onClick:this.handleSelectBrand.bind(this)},t.icon?s.createElement("img",{src:t.icon,className:"img-responsive"}):s.createElement("label",null,t.name)))}),this)),e&&!e.selectedPart&&e.brands&&!e.selectedBrand&&s.createElement("div",{className:"part-selector"},s.createElement("div",{className:"part-selector-header"},s.createElement(c.a,{EN:"All Brands",ID:"Semua Merk"})),s.createElement("div",{className:"part-selector-list"},e.parts&&e.parts.map((function(t,a){return this.partTemplate(e,t,a,!1)}),this))),e&&!e.selectedPart&&e.brands&&e.selectedBrand&&s.createElement("div",{className:"part-selector"},s.createElement("div",{className:"part-selector-header"},e.selectedBrand.name),s.createElement("div",{className:"part-selector-list"},e.selectedBrand.parts&&e.selectedBrand.parts.map((function(t,a){return this.partTemplate(e,t,a,!1)}),this))),e&&!e.selectedPart&&!e.brands&&e.parts&&s.createElement("div",{className:"part-selector"},s.createElement("div",{className:"part-selector-list"},e.parts&&e.parts.map((function(t,a){return this.partTemplate(e,t,a,!1)}),this)))),e.p>0&&s.createElement("footer",null,s.createElement("div",{className:"subtotal-row"},s.createElement("div",{className:"price-wrapper"},s.createElement("h3",null,s.createElement(c.a,{EN:"Service fee",ID:"Harga jasa"})),s.createElement("div",{className:"price"+(e.p&&0!=e.p?"":" free")},e.p>0?"Rp "+e.p.toLocaleString():"EN"==this.props.language?"FREE":"GRATIS")))));if(e.parts&&e.parts.length>0){var r=e.parts[0];return s.createElement("div",{className:"addon",key:t},s.createElement("h2",null,e.name),s.createElement("div",{className:"addon-content"},s.createElement("div",{className:"addon-part"},s.createElement("figure",null,s.createElement("img",{src:r.icon,className:"img-responsive"})),s.createElement("div",{className:"addon-details"},s.createElement("h3",null,r.brand," ",r.type),r.d&&s.createElement("p",{dangerouslySetInnerHTML:{__html:r.d}}),e.pg&&"Volume"==e.pg.c&&e.pq&&s.createElement("p",null,e.pq," ","EN"==this.props.language?"Liter for":"Liter untuk"," ",this.state.selectedCar&&this.state.selectedCar.make," ",this.state.selectedCar&&this.state.selectedCar.model,s.createElement("br",null),"Rp ",r.p.toLocaleString()," ","EN"==this.props.language?"a liter":"per liter"),e.pg&&"Multiple"==e.pg.c&&e.pq&&s.createElement("p",null,e.pq," ",e.pq>1?"EN"==this.props.language?"Pieces for":"Buah untuk":"EN"==this.props.language?"Piece for":"Buah untuk"," ",this.state.selectedCar&&this.state.selectedCar.make," ",this.state.selectedCar&&this.state.selectedCar.model,s.createElement("br",null),"Rp ",r.p.toLocaleString()," ","EN"==this.props.language?"each":"per buah"),s.createElement("div",{className:"price"},e.pq&&e.pq>0?"Rp "+(r.p*e.pq+e.p).toLocaleString():"Rp "+(r.p+e.p).toLocaleString())),s.createElement("aside",null,this.state.selectedCar&&this.state.product&&!this.state.product.disabled&&(e.selectedPart?s.createElement("button",{type:"button",className:"btn btn-default btn-added","data-product-id":e.id,onClick:this.handleDeselectPart.bind(this)},s.createElement(c.a,{EN:"CANCEL",ID:"BATAL"})):s.createElement("button",{type:"button",className:"btn btn-default btn-add","data-product-id":e.id,"data-part-brand":r.brand,"data-part-id":r.id,onClick:this.handleSelectPart.bind(this)},s.createElement(c.a,{EN:"ADD",ID:"PILIH"}))))),s.createElement("div",{className:"addon-footer"},s.createElement("div",{className:"include"},s.createElement(c.a,{EN:"Include for",ID:"Tambah dengan harga"})),s.createElement("div",{className:"price"},e.pq&&e.pq>0?"Rp "+(r.p*e.pq+e.p).toLocaleString():"Rp "+(r.p+e.p).toLocaleString()),this.state.selectedCar&&this.state.product&&!this.state.product.disabled&&(e.selectedPart?s.createElement("button",{type:"button",className:"btn btn-default btn-added","data-product-id":e.id,onClick:this.handleDeselectPart.bind(this)},s.createElement(c.a,{EN:"INCLUDED",ID:"DITAMBAHKAN"})):s.createElement("button",{type:"button",className:"btn btn-default btn-add","data-product-id":e.id,"data-part-brand":r.brand,"data-part-id":r.id,onClick:this.handleSelectPart.bind(this)},s.createElement(c.a,{EN:"INCLUDE",ID:"TAMBAHKAN"}))))))}return s.createElement("div",{className:"addon",key:t},s.createElement("div",{className:"addon-content"},s.createElement("div",{className:"addon-part"},s.createElement("figure",null,s.createElement("img",{src:e.icon,className:"img-responsive"})),s.createElement("div",{className:"addon-details"},s.createElement("h3",null,e.name),e.sd&&s.createElement("p",{dangerouslySetInnerHTML:{__html:e.sd}}),s.createElement("div",{className:"price"},"Rp ",e.p.toLocaleString())),s.createElement("aside",null,e.hasQuantity&&s.createElement("div",{className:"qty-box"},this.state.product&&s.createElement("span",{"data-addon-id":e.id,"data-product-id":this.state.product.id,onClick:this.handleDecreaseAddon.bind(this),className:"dec"+(e.q&&e.q>0?" minus":" disabled")},"-"),s.createElement("span",{className:"qty"},e.q?e.q:0),this.state.product&&s.createElement("span",{"data-addon-id":e.id,"data-product-id":this.state.product.id,onClick:this.handleIncreaseAddon.bind(this),className:"inc"+(e.q?e.q<10?" plus":" disabled":" plus")},"+")),this.state.selectedCar&&this.state.product&&!this.state.product.disabled&&!e.hasQuantity&&(e.added?s.createElement("button",{type:"button",className:"btn btn-default btn-added","data-product-id":e.id,onClick:this.handleDeselectProduct.bind(this)},s.createElement(c.a,{EN:"CANCEL",ID:"BATAL"})):s.createElement("button",{type:"button",className:"btn btn-default btn-add","data-product-id":e.id,onClick:this.handleSelectProduct.bind(this)},s.createElement(c.a,{EN:"ADD",ID:"PILIH"}))))),s.createElement("div",{className:"addon-footer"},s.createElement("div",{className:"include"},s.createElement(c.a,{EN:"Include for",ID:"Tambah dengan harga"})),s.createElement("div",{className:"price"},"Rp ",e.p.toLocaleString()),e.hasQuantity&&s.createElement("div",{className:"qty-box"},this.state.product&&s.createElement("span",{"data-addon-id":e.id,"data-product-id":this.state.product.id,onClick:this.handleDecreaseAddon.bind(this),className:"dec"+(e.q&&e.q>0?" minus":" disabled")},"-"),s.createElement("span",{className:"qty"},e.q?e.q:0),this.state.product&&s.createElement("span",{"data-addon-id":e.id,"data-product-id":this.state.product.id,onClick:this.handleIncreaseAddon.bind(this),className:"inc"+(e.q?e.q<10?" plus":" disabled":" plus")},"+")),this.state.selectedCar&&this.state.product&&!this.state.product.disabled&&!e.hasQuantity&&(e.added?s.createElement("button",{type:"button",className:"btn btn-default btn-added","data-product-id":e.id,onClick:this.handleDeselectProduct.bind(this)},s.createElement(c.a,{EN:"INCLUDED",ID:"DITAMBAHKAN"})):s.createElement("button",{type:"button",className:"btn btn-default btn-add","data-product-id":e.id,onClick:this.handleSelectProduct.bind(this)},s.createElement(c.a,{EN:"INCLUDE",ID:"TAMBAHKAN"}))))))}var n=this.subtotalNeedsQuotation(e);return s.createElement("div",{className:"product",key:t},s.createElement("h2",null,e.name),s.createElement("div",{className:"product-part"},s.createElement("div",{className:"part-selector"},s.createElement("div",{className:"part-selector-list"},s.createElement("div",{className:e.added?"part selected-part":"part"},s.createElement("figure",null,s.createElement("img",{src:e.icon,className:"img-responsive"})),s.createElement("div",{className:"part-details"},s.createElement("p",{dangerouslySetInnerHTML:{__html:e.d}})),this.state.product&&!this.state.product.nocar&&!this.state.product.disabled&&!n&&this.state.selectedCar&&s.createElement("aside",{className:"hidden-m"},s.createElement("div",{className:"price"},s.createElement("h4",null,s.createElement(c.a,{EN:"Price",ID:"Harga"})),"Rp ",((e.p||0)+(e.recommendedAddons?e.recommendedAddons.reduce((e,t)=>e+(t.added?t.parts&&1==t.parts.length?t.p+t.parts[0].p*t.pq:t.p:0),0):0)).toLocaleString()),this.state.product.hasQuantity&&s.createElement("div",{className:"qty-box"},s.createElement("span",{"data-product-id":e.id,onClick:this.handleDecreaseProduct.bind(this),className:"dec"+(e.q&&e.q>1?" minus":" disabled")},"-"),s.createElement("span",{className:"qty"},e.q?e.q:1),s.createElement("span",{"data-product-id":e.id,onClick:this.handleIncreaseProduct.bind(this),className:"inc"+(e.q?e.q<10?" plus":" disabled":" plus")},"+"))),this.state.product&&!this.state.product.nocar&&!this.state.product.disabled&&n&&this.state.selectedCar&&s.createElement("aside",{className:"hidden-m"},s.createElement("div",{className:"price"},s.createElement("h4",null,s.createElement(c.a,{EN:"Price",ID:"Harga"})),s.createElement(c.a,{EN:"ASK FOR A QUOTE",ID:"TANYA KAMI"}))))))),this.state.product&&!this.state.product.nocar&&!this.state.product.disabled&&!n&&this.state.selectedCar&&s.createElement("footer",{className:"visible-m"},this.state.product.hasQuantity&&s.createElement("div",{className:"qty-row"},s.createElement("div",{className:"qty-box"},s.createElement("span",{"data-product-id":e.id,onClick:this.handleDecreaseProduct.bind(this),className:"dec"+(e.q&&e.q>1?" minus":" disabled")},"-"),s.createElement("span",{className:"qty"},e.q?e.q:1),s.createElement("span",{"data-product-id":e.id,onClick:this.handleIncreaseProduct.bind(this),className:"inc"+(e.q?e.q<10?" plus":" disabled":" plus")},"+"))),s.createElement("div",{className:"subtotal-row"},s.createElement("div",{className:"price-wrapper"},s.createElement("h3",null,s.createElement(c.a,{EN:"Price",ID:"Harga"})),s.createElement("div",{className:"price"+(e.p&&0!=e.p?"":" free")},e.p>0?"Rp "+((e.p||0)+(e.recommendedAddons?e.recommendedAddons.reduce((e,t)=>e+(t.added?t.parts&&1==t.parts.length?t.p+t.parts[0].p*t.pq:t.p:0),0):0)).toLocaleString():"EN"==this.props.language?"FREE":"GRATIS")))),n&&this.state.selectedCar&&s.createElement("footer",{className:"visible-m"},s.createElement("div",{className:"subtotal-row"},s.createElement("div",{className:"price-wrapper"},s.createElement("h3",null,s.createElement(c.a,{EN:"Price",ID:"Harga"})),s.createElement("div",{className:"price"},s.createElement(c.a,{EN:"QUOTE",ID:"TANYA"}))))))}partTemplate(e,t,a,r){return s.createElement("div",{key:t.id,className:r?"part selected-part":"part"},s.createElement("figure",null,s.createElement("img",{src:t.icon,className:"img-responsive"})),s.createElement("div",{className:"part-details"},s.createElement("h3",null,t.brand," ",t.type),t.d&&s.createElement("p",{dangerouslySetInnerHTML:{__html:t.d}}),e.pg&&"Volume"==e.pg.c&&e.pq&&s.createElement("p",null,e.pq," ","EN"==this.props.language?"Liter for":"Liter untuk"," ",this.state.selectedCar&&this.state.selectedCar.make," ",this.state.selectedCar&&this.state.selectedCar.model,s.createElement("br",null),"Rp ",t.p.toLocaleString()," ","EN"==this.props.language?"a liter":"per liter"),e.pg&&"Multiple"==e.pg.c&&e.pq&&s.createElement("p",null,e.pq," ",e.pq>1?"EN"==this.props.language?"Pieces for":"Buah untuk":"EN"==this.props.language?"Piece for":"Buah untuk"," ",this.state.selectedCar&&this.state.selectedCar.make," ",this.state.selectedCar&&this.state.selectedCar.model,s.createElement("br",null),"Rp ",t.p.toLocaleString()," ","EN"==this.props.language?"each":"per buah"),s.createElement("div",{className:"price"},e.pq&&e.pq>0?"Rp "+(t.p*e.pq).toLocaleString():"Rp "+t.p.toLocaleString())),s.createElement("aside",null,s.createElement("div",{className:"price"},e.pq&&e.pq>0?"Rp "+(t.p*e.pq).toLocaleString():"Rp "+t.p.toLocaleString()),r?s.createElement("button",{type:"button",className:"btn btn-default btn-added btn-hidden-mobile","data-product-id":e.id,onClick:this.handleDeselectPart.bind(this)},s.createElement(c.a,{EN:"PART SELECTED",ID:"DIPILIH"})):s.createElement("button",{type:"button",className:"btn btn-default btn-add btn-hidden-mobile orange-outline-pulses-if-untouched","data-product-id":e.id,"data-part-brand":t.brand,"data-part-id":t.id,onClick:this.handleSelectPart.bind(this)},s.createElement(c.a,{EN:"USE THIS PART",ID:"PILIH"})),r?s.createElement("button",{type:"button",className:"btn btn-default btn-added btn-hidden-desktop","data-product-id":e.id,onClick:this.handleDeselectPart.bind(this)},s.createElement(c.a,{EN:"CANCEL",ID:"BATAL"})):s.createElement("button",{type:"button",className:"btn btn-default btn-add btn-hidden-desktop orange-outline-pulses-if-untouched","data-product-id":e.id,"data-part-brand":t.brand,"data-part-id":t.id,onClick:this.handleSelectPart.bind(this)},s.createElement(c.a,{EN:"ADD",ID:"PILIH"}))))}render(){let e="BOOK THIS SERVICE",t="PESAN LAYANAN INI",a="ASK FOR QUOTATION",r="MINTA PENAWARAN HARGA",n="QUOTE",o="TANYA";return s.createElement("div",{className:"product-details-wrapper"},s.createElement("div",{className:"product-details-scroll-wrapper"},s.createElement("div",{className:"product-details-overlay",onClick:this.handleDismiss.bind(this)}),s.createElement("div",{className:"product-details"},s.createElement("header",null,s.createElement("figure",null,s.createElement("img",{src:this.state.product&&this.state.product.cover?this.state.product.cover:"",className:"img-responsive"}),s.createElement("h1",null,this.state.product&&this.state.product.name),s.createElement("button",{type:"button",className:"btn btn-close",onClick:this.handleDismiss.bind(this)}))),s.createElement(Ge,{selected:0},s.createElement(_e,{label:this.hasParts(this.state.product)?this.hasAddons(this.state.product)?"EN"==this.props.language?"Parts and Add-ons":"Part dan Upgrade":"EN"==this.props.language?"Parts Selection":"Pilihan Part":this.hasAddons(this.state.product)?"EN"==this.props.language?"Service and Add-ons":"Layanan dan Upgrade":"EN"==this.props.language?"Service Details":"Layanan"},s.createElement("section",{className:"products"},this.state.loading&&!this.state.error&&s.createElement("div",{className:"loading"}),this.state.loading&&this.state.error&&s.createElement("div",{className:"retry"},s.createElement("p",null,this.state.error),s.createElement("button",{type:"button",className:"btn btn-default btn-retry",onClick:this.handleRetry.bind(this)},s.createElement(c.a,{EN:"TRY AGAIN",ID:"COBA LAGI"}))),!this.state.loading&&this.productTemplate(this.state.product,0,!1))),s.createElement(_e,{label:"EN"==this.props.language?"Information":"Informasi"},s.createElement("section",{className:"info"},this.state.loading&&!this.state.error&&s.createElement("div",{className:"loading"}),this.state.loading&&this.state.error&&s.createElement("div",{className:"retry"},s.createElement("p",null,this.state.error),s.createElement("button",{type:"button",className:"btn btn-default btn-retry",onClick:this.handleRetry.bind(this)},s.createElement(c.a,{EN:"TRY AGAIN",ID:"COBA LAGI"}))),!this.state.loading&&this.state.product&&s.createElement("h2",null,this.state.product.name),!this.state.loading&&this.state.product&&this.state.product.d&&s.createElement("p",{dangerouslySetInnerHTML:{__html:this.state.product.d}}),!this.state.loading&&this.state.product&&this.state.product.articles&&this.state.product.articles.map((function(e,t){return s.createElement("article",{key:t},s.createElement("h2",null,e.head),s.createElement("p",{dangerouslySetInnerHTML:{__html:e.p}}))}),this)))),s.createElement("footer",null,!this.state.loading&&s.createElement("div",{className:"total visible-xs"},s.createElement("div",{className:"label"},s.createElement("a",{href:"javascript:void(0)"},"SUBTOTAL ",s.createElement("span",{className:"caret"}))),!this.subtotalNeedsQuotation(this.state.product)&&s.createElement("div",{className:"subtotal"+(0==this.getSubtotal(this.state.product)?" muted":"")},"Rp ",this.getSubtotal(this.state.product).toLocaleString()),this.subtotalNeedsQuotation(this.state.product)&&s.createElement("div",{className:"subtotal"},s.createElement(c.a,{EN:n,ID:o}))),s.createElement("button",{type:"button",className:"btn btn-primary"+(this.isReady()&&!this.state.loading&&(this.state.product&&!this.state.product.nocar&&!this.state.product.disabled||this.subtotalNeedsQuotation(this.state.product))&&this.state.selectedCar?" transparent-orange-pulses":""),disabled:!this.isReady()||this.state.loading||this.state.product&&(this.state.product.nocar||this.state.product.disabled)&&!this.subtotalNeedsQuotation(this.state.product)||!this.state.selectedCar,onClick:this.handleBook.bind(this)},this.subtotalNeedsQuotation(this.state.product)?s.createElement(c.a,{EN:a,ID:r}):s.createElement(c.a,{EN:e,ID:t}))))))}}var ze=Object(i.b)(e=>({carSelection:e.carSelection,language:e.language,productSelection:e.productSelection,cart:e.cart,user:e.user,newForm:e.newForm}),e=>({setSelectedProduct:Object(o.a)(T.g,e),setSelectedAddon:Object(o.a)(T.f,e),getSlotsAsync:t=>w(e,t),setProgress:Object(o.a)(u,e),checkQualifiedVoucher:Object(o.a)(f.a,e),setBookedProducts:Object(o.a)(m.c,e),setBookedInquiries:Object(o.a)(m.b,e),setBookedGroup:Object(o.a)(m.a,e),setAlert:Object(o.a)(f.c,e),checkVoucherValid:Object(o.a)(f.b,e)}))(Ue);class Ye extends s.Component{constructor(e){super(e),this.state={newForm:e.newForm}}componentDidMount(){}componentWillReceiveProps(e){let t=this.state;this.state.newForm!=e.newForm&&(t=Object.assign(Object.assign({},t),{newForm:e.newForm}),this.setState(t))}handleAlertCancel(e){this.props.setAlert(null)}handleAlertOk(e){this.state.newForm.alert&&(this.state.newForm.alert.ok(),this.props.setAlert(null))}render(){return s.createElement("div",null,s.createElement("div",{className:"alert-overlay",onClick:this.handleAlertCancel.bind(this)}),s.createElement("div",{className:"alert-new-window"},s.createElement("div",{className:"title"},this.state.newForm.alert&&this.state.newForm.alert.title&&s.createElement("h1",null,this.state.newForm.alert.title)),s.createElement("div",{className:"content"},this.state.newForm.alert&&this.state.newForm.alert.message&&s.createElement("p",null,this.state.newForm.alert.message),s.createElement("div",{className:"buttons"},this.state.newForm.alert&&!this.state.newForm.alert.okOnly&&s.createElement("button",{type:"button",className:"btn btn-default btn-cancel",onClick:this.handleAlertCancel.bind(this)},this.state.newForm.alert&&this.state.newForm.alert.cancelButton&&this.state.newForm.alert.cancelButton),s.createElement("button",{type:"button",className:"btn btn-default btn-ok"+(this.state.newForm.alert&&this.state.newForm.alert.okOnly?" no-separator":""),onClick:this.handleAlertOk.bind(this)},this.state.newForm.alert&&this.state.newForm.alert.okButton&&this.state.newForm.alert.okButton)))))}}var He=Object(i.b)(e=>({newForm:e.newForm}),e=>({setAlert:Object(o.a)(f.c,e)}))(Ye);class We extends s.Component{constructor(e){super(e);let t=new Date;this.state=Object.assign({pulses:!1,selectedDate:e.newForm.date,language:e.language,newForm:e.newForm,slots:e.newForm.dateSlots,month:t.getMonth()+1,year:t.getFullYear()},this.getData(e)),this.reds={2017:{0:[1,28],1:[15],2:[28],3:[14,24],4:[1,11,25],5:[1,25,26],7:[17],8:[1,21],11:[1,25]},2018:{0:[1],1:[16,18],2:[30],3:[13],4:[1,10,29],5:[1,15,16],7:[17,22],8:[12],10:[20],11:[25]}},this.nameDays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.nameMonths=["January","February","March","April","May","June","July","August","September","October","November","December"]}componentDidMount(){}componentWillReceiveProps(e){let t=this.state;if(this.state.newForm!=e.newForm){let a,s,r=new Date;e.newForm.dateSlots&&e.newForm.dateSlots.length>0?(a=new Date(e.newForm.dateSlots[0].d),s=new Date(e.newForm.dateSlots[e.newForm.dateSlots.length-1].d)):(a=r,s=r),t=Object.assign(Object.assign({},t),{newForm:e.newForm,slots:e.newForm.dateSlots,minDate:a,maxDate:s}),this.setState(t,function(){this.state.newForm.date&&this.state.newForm.time&&this.state.newForm.location&&this.state.newForm.locationValid&&this.props.setProgress(3)}.bind(this))}}getData(e){let t,a,s=new Date;return e.newForm.dateSlots&&e.newForm.dateSlots.length>0?(t=new Date(e.newForm.dateSlots[0].d),a=new Date(e.newForm.dateSlots[e.newForm.dateSlots.length-1].d)):(t=s,a=s),{minDate:t,maxDate:a}}generateDays(){if(this.generatedForMonth!=this.state.month||this.generatedForYear!=this.state.year){for(var e=[],t=new Date(this.state.year+"-"+(this.state.month<10?"0"+this.state.month:this.state.month)+"-01"),a=t.getDay();e.length<42;a--){var s=new Date(t.getTime());s.setDate(t.getDate()-a),e.push(s)}this.days=e,this.generatedForMonth=this.state.month,this.generatedForYear=this.state.year}}dayString(e){let t=this.nameDays[e.getDay()];if("ID"!=this.props.language)return t;switch(t){case"Sunday":return"Minggu";case"Monday":return"Senin";case"Tuesday":return"Selasa";case"Wednesday":return"Rabu";case"Thursday":return"Kamis";case"Friday":return"Jumat";case"Saturday":return"Sabtu"}}monthString(e){let t=this.nameMonths[e.getMonth()];if("ID"!=this.props.language)return t;switch(t){case"January":return"Januari";case"February":return"Februari";case"March":return"Maret";case"April":return"April";case"May":return"Mei";case"June":return"Juni";case"July":return"Juli";case"August":return"Agustus";case"September":return"September";case"October":return"Oktober";case"November":return"November";case"December":return"Desember"}}fullString(e){return this.dayString(e)+", "+e.getDate()+" "+this.monthString(e)+" "+e.getFullYear()}monthYearString(e){return this.monthString(e)+" "+e.getFullYear()}gotoPrevMonth(e){var t=this.state.month-1;t<1?this.setState({month:12,year:this.state.year-1}):this.setState({month:t})}gotoNextMonth(e){var t=this.state.month+1;t>12?this.setState({month:1,year:this.state.year+1}):this.setState({month:t})}handleSelect(e){if(!e.currentTarget.disabled){let t=e.currentTarget.dataset.y,a=e.currentTarget.dataset.m,s=e.currentTarget.dataset.d;this.setState({selectedDate:new Date(t+"-"+(a<10?"0"+a:a)+"-"+(s<10?"0"+s:s))},function(){$(this.dropdownToggle).dropdown("toggle");let e=t+"-"+(a<10?"0"+a:a)+"-"+(s<10?"0"+s:s),r=this.state.slots.find(t=>t.d==e);this.props.setDate(this.state.selectedDate),this.props.setTime(""),r.slots&&this.props.setTimeSlots(r.slots)}.bind(this))}}stopPropagation(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}isRed(e){try{return e.getDay()%6==0||!!this.reds[e.getFullYear()][e.getMonth()].some(t=>t==e.getDate())}catch(e){return!1}}render(){this.generateDays();const e=new Date(2020,3,10),t=new Date(2020,4,22);return s.createElement("div",{className:"date-picker-content"},s.createElement("div",{className:"date-picker dropdown",ref:e=>{this.dropdown=e}},s.createElement("button",{ref:e=>{this.dropdownToggle=e},disabled:!this.state.slots||this.state.newForm.disabledForm,className:"dropdown-toggle date-picker-btn-group"+(this.state.selectedDate?"":this.state.pulses?" orange-outline-pulses-if-unopened muted":" muted"),"data-toggle":"dropdown"},s.createElement("div",{className:"date-picker-btn-addon"},s.createElement("img",{src:"https://montircdn.azureedge.net/img/icon-date-picker.svg",className:"img-responsive",width:"16",height:"17"})),this.state.selectedDate?this.fullString(this.state.selectedDate):"EN"==this.props.language?"Select a date":"Pilih tanggal"),this.state.slots&&s.createElement("div",{className:"date-picker-dropdown dropdown-menu",onClick:this.stopPropagation},s.createElement("div",{className:"month-selector"},s.createElement("button",{type:"button",onClick:this.gotoPrevMonth.bind(this)},s.createElement("i",{className:"fa fa-angle-left"})),s.createElement("div",{className:"month"},this.monthYearString(new Date(this.state.year+"-"+(this.state.month<10?"0"+this.state.month:this.state.month)+"-01"))),s.createElement("button",{type:"button",onClick:this.gotoNextMonth.bind(this)},s.createElement("i",{className:"fa fa-angle-right"}))),s.createElement("div",{className:"days-of-week"},s.createElement("div",null,"SUN"),s.createElement("div",null,"MON"),s.createElement("div",null,"TUE"),s.createElement("div",null,"WED"),s.createElement("div",null,"THU"),s.createElement("div",null,"FRI"),s.createElement("div",null,"SAT")),s.createElement("div",{className:"days-of-month"},this.days.map((function(a,r){var n=a.getMonth()+1!=this.state.month||a.getTime()<this.state.minDate.getTime()||a.getTime()>this.state.maxDate.getTime();return a>=e&&a<=t&&(n=!0),n?s.createElement("span",{key:r,className:"disabled"+(a.getMonth()+1!=this.state.month?" muted":this.state.selectedDate&&a.getTime()==this.state.selectedDate.getTime()?" selected":"")+(this.isRed(a)?" red":"")},a.getDate()):s.createElement("a",{key:r,href:"javascript:void(0)",className:(a.getMonth()+1!=this.state.month?" muted":this.state.selectedDate&&a.getTime()==this.state.selectedDate.getTime()?" selected":"")+(this.isRed(a)?" red":""),"data-d":a.getDate(),"data-m":a.getMonth()+1,"data-y":a.getFullYear(),onClick:!n&&this.handleSelect.bind(this)},a.getDate())}),this)))),this.state.newForm.validationForm&&this.state.newForm.validationForm.dateValidation&&s.createElement("div",{className:"validation-error",dangerouslySetInnerHTML:{__html:this.state.newForm.validationForm.dateValidation}}))}}var $e=Object(i.b)(e=>({language:e.language,newForm:e.newForm}),e=>({setDate:Object(o.a)(f.g,e),setTime:Object(o.a)(f.v,e),setTimeSlots:Object(o.a)(f.w,e),setProgress:Object(o.a)(u,e),setStep:Object(o.a)(d,e)}))(We);class Je extends s.Component{constructor(e){super(e),this.state=Object.assign({language:e.language,newForm:e.newForm,pulses:!1,selectedTime:e.newForm.time},this.getData(e))}componentDidMount(){}componentWillReceiveProps(e){let t=this.state;this.state.newForm!=e.newForm&&(t=Object.assign(Object.assign({},t),{newForm:e.newForm,slots:e.newForm.timeSlots,selectedTime:e.newForm.time}),this.setState(t,function(){this.state.newForm.date&&this.state.newForm.time&&this.state.newForm.location&&this.state.newForm.locationValid&&this.props.setProgress(3)}.bind(this)))}getData(e){let t=[];return e.newForm.date&&e.newForm.timeSlots&&e.newForm.timeSlots.length>0&&(t=e.newForm.timeSlots),{slots:t}}handleSelect(e){$(this.dropdownToggle).dropdown("toggle"),this.setState({selectedTime:e.currentTarget.dataset.time},(function(){this.props.setTime(this.state.selectedTime)}))}stopPropagation(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}render(){return s.createElement("div",{className:"time-picker-content"},s.createElement("div",{className:"time-picker dropdown",ref:e=>{this.dropdown=e}},s.createElement("button",{ref:e=>{this.dropdownToggle=e},disabled:!this.state.slots||this.state.newForm.disabledForm,className:"dropdown-toggle"+(this.state.selectedTime?"":this.state.pulses?" orange-outline-pulses-if-unopened muted":" muted"),"data-toggle":"dropdown"},s.createElement("span",{className:"caret"}),this.state.selectedTime?this.state.selectedTime:"EN"==this.props.language?"Select a time":"Pilih waktu"),this.state.slots&&s.createElement("ul",{className:"dropdown-menu",onClick:this.stopPropagation},this.state.slots&&this.state.slots.map((function(e,t){return s.createElement("li",{key:t,className:this.state.selectedTime==e.t?"selected":""},s.createElement("button",{className:e.c?"full":"",disabled:!!e.c,"data-time":e.t,onClick:e.c?null:this.handleSelect.bind(this)},e.t))}),this))),this.state.newForm.validationForm&&this.state.newForm.validationForm.timeValidation&&s.createElement("div",{className:"validation-error",dangerouslySetInnerHTML:{__html:this.state.newForm.validationForm.timeValidation}}))}}var Xe=Object(i.b)(e=>({language:e.language,newForm:e.newForm}),e=>({setTime:Object(o.a)(f.v,e),setProgress:Object(o.a)(u,e),setStep:Object(o.a)(d,e)}))(Je);const Ze=(e,t,a,s)=>({type:l.i,pids:e,location:t,userLoggedin:a,jqXhr:s}),et=(e,t,a,s)=>({type:l.h,pids:e,location:t,userLoggedin:a,errorMessage:s});class tt extends s.Component{constructor(e){super(e),this.state={language:e.language,newForm:e.newForm,user:e.user,cart:e.cart,pulses:!1,address:e.newForm.location?e.newForm.location.address:null,locationName:e.newForm.location&&e.newForm.location.name?e.newForm.location.name:void 0,suggestions:[]}}componentDidMount(){}componentWillReceiveProps(e){let t=this.state;this.state.cart!=e.cart&&(t=Object.assign(Object.assign({},t),{cart:e.cart}),this.setState(t)),this.state.newForm!=e.newForm&&(t=Object.assign(Object.assign({},t),{newForm:e.newForm}),this.setState(t,function(){this.state.newForm.date&&this.state.newForm.time&&this.state.newForm.location&&this.state.newForm.locationValid&&this.props.setProgress(3)}.bind(this)))}queryGoogle(e){var t="/api/geocode?q="+encodeURIComponent(e);E.getJSON(t,function(e){this.setState({suggestions:e,address:null},function(){this.state.suggestions.length>0&&E(this.dropdown).addClass("open")}.bind(this))}.bind(this))}handleKeyDown(e){40==e.keyCode&&this.firstItem&&this.firstItem.focus()}handleKeyUp(e){var t=e.target.value,a=t.trim().toLowerCase();a.length>0?(this.setState({address:null}),this.queryGoogle(a)):this.setState({suggestions:null,address:null});let s={address:t,id:null,lat:0,lng:0,name:null};a.length>0?(this.props.setLocation(s,this.state.user.userLoggedin),this.props.setLocationValid(!0,this.state.user.userLoggedin)):(this.props.setLocation(null,this.state.user.userLoggedin),this.props.setLocationValid(!1,this.state.user.userLoggedin))}handleSelect(e){this.searchBox.value="",E.getJSON("/api/addr?placeid="+e.currentTarget.dataset.placeId,function(e){this.searchBox.value=e.name,this.setState({suggestions:null,address:e.address}),this.props.setLocation(e,this.state.user.userLoggedin);let t=[];for(let e of this.state.cart.bookedProducts)t.push(e.id);this.props.checkLocationAsync(t,e,this.state.user.userLoggedin)}.bind(this))}handleItemKeyDown(e){38==e.keyCode?e.target==this.firstItem&&this.searchBox.focus():(e.keyCode>=65&&e.keyCode<=90||e.keyCode>=97&&e.keyCode<=122)&&this.searchBox.focus()}render(){return this.firstItem=null,s.createElement("div",{className:"location-picker-content"},s.createElement("div",{className:"location-picker dropdown",ref:e=>{this.dropdown=e}},s.createElement("div",{className:"location-picker-search-box dropdown-toggle","data-toggle":"dropdown"},s.createElement("input",{type:"search",className:this.state.pulses?"orange-outline-pulses-if-unopened":"",placeholder:"EN"==this.props.language?"Type your location":"Ketik alamat Anda",ref:e=>{this.searchBox=e},disabled:this.state.newForm.disabledForm,onKeyDown:this.handleKeyDown.bind(this),onKeyUp:this.handleKeyUp.bind(this),defaultValue:this.state.locationName}),this.state.address&&s.createElement("div",{className:"address"},this.state.address)),this.state.suggestions&&s.createElement("ul",{className:"dropdown-menu"},this.state.suggestions.map((function(e,t){return s.createElement("li",{key:t},s.createElement("a",{href:"javascript:void(0)","data-place-id":e.id,dangerouslySetInnerHTML:{__html:"<strong>"+e.m+"</strong> "+e.s},onClick:this.handleSelect.bind(this),onKeyDown:this.handleItemKeyDown.bind(this),ref:e=>{this.firstItem||(this.firstItem=e)}}))}),this))),this.state.newForm.validationForm&&this.state.newForm.validationForm.locationValidation&&s.createElement("div",{className:"validation-error",dangerouslySetInnerHTML:{__html:this.state.newForm.validationForm.locationValidation}}))}}var at=Object(i.b)(e=>({language:e.language,newForm:e.newForm,user:e.user,cart:e.cart}),e=>({setLocation:Object(o.a)(f.m,e),setLocationValid:Object(o.a)(f.o,e),checkLocationAsync:(t,a,s)=>((e,t,a,s)=>{var r=$.ajax({url:"/api/check-location",type:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify({ProductIds:t,Location:a}),dataType:"json",success:(r,n,o)=>{e(Ze(t,a,s,o)),"available"==r.status?e(y(!0,s)):e(y(!1,s))},error:(r,n,o)=>{e(et(t,a,s,o))}});e(Ze(t,a,s,r))})(e,t,a,s),setProgress:Object(o.a)(u,e),setStep:Object(o.a)(d,e)}))(tt);class st extends s.Component{constructor(e){super(e),this.state={wizardStep:e.wizardStep,language:e.language,productSelection:e.productSelection,newForm:e.newForm,cart:e.cart,user:e.user,locationDetail:e.newForm.locationDetail?e.newForm.locationDetail:void 0}}componentDidMount(){}componentWillReceiveProps(e){let t=this.state;this.state.wizardStep!=e.wizardStep&&(t=Object.assign(Object.assign({},t),{wizardStep:e.wizardStep}),this.setState(t)),this.state.productSelection!=e.productSelection&&(t=Object.assign(Object.assign({},t),{productSelection:e.productSelection}),this.setState(t)),this.state.newForm!=e.newForm&&(t=Object.assign(Object.assign({},t),{newForm:e.newForm}),this.setState(t)),this.state.cart!=e.cart&&(t=Object.assign(Object.assign({},t),{cart:e.cart}),this.setState(t))}getWizardStepClass(e){return e==this.props.wizardStep.step?" wizard-step":e==this.props.wizardStep.step-1?" wizard-step wizard-step-prev":e==this.props.wizardStep.step+1?" wizard-step wizard-step-next":" hidden-m"}refreshTimeSlots(e){let t=[];if(this.state.cart.bookedProducts)for(let e of this.state.cart.bookedProducts)t.push(e.id);this.props.getSlotsAsync(t)}handleChangeAddressDetails(e){e.currentTarget.value!=this.state.locationDetail&&this.setState({locationDetail:e.currentTarget.value},function(){this.props.setLocationDetail(this.state.locationDetail,this.state.user.userLoggedin)}.bind(this))}render(){return s.createElement("div",{id:"make-appointment",className:"booking-appointment"+this.getWizardStepClass(3)+(this.props.wizardStep.step>3?" hidden-android":"")},s.createElement("h1",{className:"visible-m"},s.createElement(c.a,{EN:"MAKE APPOINTMENT",ID:"JADWAL PENGERJAAN"})),s.createElement("h5",{className:"hidden-m"},s.createElement(c.a,{EN:"Appointment Time",ID:"Waktu Pengiriman"})),s.createElement("hr",null),this.state.loadingSlots&&!this.state.slotsError&&s.createElement("h6",{className:"text-center"},s.createElement(c.a,{EN:"Getting available time slots...",ID:"Mendapatkan ketersediaan slot waktu..."})),this.state.loadingSlots&&this.state.slotsError&&s.createElement("h6",{className:"text-center"},this.state.slotsError," ",s.createElement("button",{type:"button",className:"btn btn-default btn-retry",onClick:this.refreshTimeSlots.bind(this)},s.createElement(c.a,{EN:"TRY AGAIN",ID:"COBA LAGI"}))),!this.state.loadingSlots&&s.createElement("h6",{className:"hidden-m"},s.createElement(c.a,{EN:"Please choose your preferable time and date:",ID:"Tentukan tanggal dan waktu pengiriman:"})),s.createElement("div",{className:"appointment-time"+(this.state.loadingSlots?" invisible":"")},s.createElement("label",{className:"visible-m"},s.createElement(c.a,{EN:"Date & time",ID:"Tanggal & waktu"})),s.createElement($e,null),s.createElement(Xe,null)),s.createElement("h5",{className:"hidden-m"},s.createElement(c.a,{EN:"Address",ID:"Alamat"})),s.createElement("hr",null),s.createElement("h6",{className:"hidden-m"},s.createElement(c.a,{EN:"Jakarta Only",ID:"Hanya melayani DKI Jakarta dan sekitarnya"})),s.createElement("label",{className:"visible-m"},s.createElement(c.a,{EN:"Address",ID:"Alamat"})),s.createElement(at,null),s.createElement("div",{className:"address-row"},s.createElement("div",{className:"address-col-12"},s.createElement("textarea",{className:"address-details",placeholder:"EN"==this.props.language?"Address details":"Petunjuk lokasi",disabled:this.state.newForm.disabledForm,onChange:this.handleChangeAddressDetails.bind(this),value:this.state.locationDetail}))))}}var rt=Object(i.b)(e=>({wizardStep:e.wizardStep,language:e.language,productSelection:e.productSelection,newForm:e.newForm,cart:e.cart,user:e.user}),e=>({setLocationDetail:Object(o.a)(f.n,e),getSlotsAsync:t=>w(e,t)}))(st);class nt extends s.Component{constructor(e){super(e),this.state=Object.assign({wizardStep:e.wizardStep,language:e.language,carSelection:e.carSelection,newForm:e.newForm,cart:e.cart,contactInformation:e.contactInformation},this.getDataProps(e))}getDataProps(e){return{fullName:e.contactInformation.fullName?e.contactInformation.fullName:void 0,email:e.contactInformation.email?e.contactInformation.email:void 0,phone:e.contactInformation.phone?e.contactInformation.phone:void 0,note:e.contactInformation.note?e.contactInformation.note:void 0}}componentDidMount(){this.props.setFormFullName(this.state.fullName?this.state.fullName:null),this.props.setFormEmail(this.state.email?this.state.email:null),this.props.setFormPhone(this.state.phone?this.state.phone:null),this.props.setFormNote(this.state.note?this.state.note:null)}componentWillReceiveProps(e){let t=this.state;this.state.carSelection!=e.carSelection&&(t=Object.assign(Object.assign({},t),{carSelection:e.carSelection}),this.setState(t)),this.state.newForm!=e.newForm&&(t=Object.assign(Object.assign({},t),{newForm:e.newForm}),this.setState(t)),this.state.cart!=e.cart&&(t=Object.assign(Object.assign({},t),{cart:e.cart}),this.setState(t)),this.state.wizardStep!=e.wizardStep&&(t=Object.assign(Object.assign({},t),{wizardStep:e.wizardStep}),this.setState(t))}getWizardStepClass(e){return e==this.state.wizardStep.step?" wizard-step":e==this.state.wizardStep.step-1?" wizard-step wizard-step-prev":e==this.state.wizardStep.step+1?" wizard-step wizard-step-next":" hidden-m"}smoothScrollTo(e){$(e).addClass("flash"),setTimeout((function(){$(e).removeClass("flash")}),100);let t=$(e).offset();t&&window.scroll({top:t.top-70,left:0,behavior:"smooth"})}handleSubmit(){if(!this.state.newForm.disabledForm){let e={nameValidation:null,emailValidation:null,phoneValidation:null,dateValidation:null,timeValidation:null,locationValidation:null},t=!1;if(this.state.fullName?0==this.state.fullName.trim().length?(e.nameValidation="EN"==this.state.language?"Name cannot be empty":"Nama harap diisi",t=!0):this.state.fullName.trim().length<3&&(e.nameValidation="EN"==this.state.language?"Name is too short":"Nama terlalu pendek",t=!0):(e.nameValidation="EN"==this.state.language?"Name cannot be empty":"Nama harap diisi",t=!0),this.state.email?0==this.state.email.trim().length?(e.emailValidation="EN"==this.state.language?"Email address cannot be empty":"Email harap diisi",t=!0):/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.state.email.trim())||(e.emailValidation="EN"==this.state.language?"Email address is not valid":"Email tidak sesuai format yang benar",t=!0):(e.emailValidation="EN"==this.state.language?"Email address cannot be empty":"Email harap diisi",t=!0),this.state.phone?0==this.state.phone.trim().length?(e.phoneValidation="EN"==this.state.language?"Mobile phone number cannot be empty":"Nomor ponsel harap diisi",t=!0):/^(0|62|\+62)[8][0-9]{5,14}$/.test(this.state.phone.trim())||(e.phoneValidation="EN"==this.state.language?"Not a valid Indonesian <b>mobile phone</b> number":"Bukan nomor ponsel Indonesia",t=!0):(e.phoneValidation="EN"==this.state.language?"Mobile phone number cannot be empty":"Nomor ponsel harap diisi",t=!0),this.state.newForm.selectedTab&&4!=this.state.newForm.selectedTab.tab&&1!=this.state.newForm.selectedTab.tab&&(this.state.newForm.date||(e.dateValidation="EN"==this.state.language?"Date cannot be empty":"Tanggal harap diisi",t=!0,this.smoothScrollTo("#make-appointment")),this.state.newForm.time||(e.timeValidation="EN"==this.state.language?"Time cannot be empty":"Waktu harap diisi",t=!0,this.smoothScrollTo("#make-appointment")),this.state.newForm.location?this.state.newForm.locationValid||(e.locationValidation="EN"==this.state.language?"Your selected location is outside our service coverage area":"Maaf, Montir belum bisa melayani wilayah Anda",t=!0,this.smoothScrollTo("#make-appointment")):(e.locationValidation="EN"==this.state.language?"Location cannot be empty":"Alamat harap diisi",t=!0,this.smoothScrollTo("#make-appointment"))),this.props.setFormValidation(e),t)return;let a=[],s=[];if(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0)for(let e of this.state.cart.bookedProducts){let t={addons:e.addons,hasAddons:e.hasAddons,hasParts:e.hasParts,hasQuantity:e.hasQuantity,id:e.id,name:e.name,p:e.p,part:e.part,q:e.q&&e.q>1?e.q:1,quote:e.quote,subtotal:e.subtotal};if(e.part&&(t.part={brand:e.part.brand,d:e.part.d,icon:e.part.icon,id:e.part.id,lp:e.part.lp,name:e.part.name,p:e.part.p,q:e.part.q,type:e.part.type,unit:e.part.unit}),e.addons){t.addons=[];for(let a of e.addons)a.hasQuantity?a.q&&a.q>=1&&t.addons.push(a):a.added&&(a.q=a.q&&a.q>1?a.q:1,t.addons.push(a))}a.push(t)}if(this.state.cart.bookedInquiries&&this.state.cart.bookedInquiries.length>0)for(let e of this.state.cart.bookedInquiries){let t={id:e.id,category:e.category,description:e.description};s.push(t)}if(s.length>0&&a.length>0){if(this.state.fullName&&this.state.email&&this.state.phone&&this.state.cart.bookedInquiries&&this.state.cart.bookedInquiries.length>0&&this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0&&this.state.newForm.date&&this.state.newForm.time&&this.state.newForm.location&&this.state.newForm.locationValid){let e;if(this.state.carSelection.cars&&this.state.carSelection.cars.length>0){let t=s[0].category,r=s[0].description;null!=this.state.carSelection.selectedCarIndex?(e={custCarId:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].custCarId?this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].custCarId:1,make:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].make,model:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].model,year:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].year,trim:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].trim},this.props.orderAsync(e,this.state.fullName,this.state.email,this.state.phone,void 0===this.state.note?null:this.state.note,a,this.state.newForm.date,this.state.newForm.time,this.state.newForm.location,this.state.newForm.locationDetail,this.state.newForm.applyVoucherResult&&this.state.newForm.applyVoucherResult.valid?this.state.newForm.voucherCode:null,t,r,this.state.language,null!=this.state.carSelection.selectedCustCarId)):null!=this.state.carSelection.selectedCustCarId&&(e=this.state.carSelection.cars.find(e=>e.custCarId==this.state.carSelection.selectedCustCarId),e&&this.props.orderAsync(e,this.state.fullName,this.state.email,this.state.phone,void 0===this.state.note?null:this.state.note,a,this.state.newForm.date,this.state.newForm.time,this.state.newForm.location,this.state.newForm.locationDetail,this.state.newForm.applyVoucherResult&&this.state.newForm.applyVoucherResult.valid?this.state.newForm.voucherCode:null,t,r,this.state.language,!0))}}}else if(a.length>0){if(this.state.fullName&&this.state.email&&this.state.phone&&this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0){let e;this.state.carSelection.cars&&this.state.carSelection.cars.length>0&&(null!=this.state.carSelection.selectedCarIndex?(e={custCarId:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].custCarId?this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].custCarId:1,make:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].make,model:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].model,year:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].year,trim:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].trim},this.props.bookingAsync(e,this.state.fullName,this.state.email,this.state.phone,void 0===this.state.note?null:this.state.note,a,this.state.newForm.date,this.state.newForm.time,this.state.newForm.location,this.state.newForm.locationDetail,this.state.newForm.applyVoucherResult&&this.state.newForm.applyVoucherResult.valid?this.state.newForm.voucherCode:null,this.state.language,null!=this.state.carSelection.selectedCustCarId)):null!=this.state.carSelection.selectedCustCarId&&(e=this.state.carSelection.cars.find(e=>e.custCarId==this.state.carSelection.selectedCustCarId),e&&this.props.bookingAsync(e,this.state.fullName,this.state.email,this.state.phone,void 0===this.state.note?null:this.state.note,a,this.state.newForm.date,this.state.newForm.time,this.state.newForm.location,this.state.newForm.locationDetail,this.state.newForm.applyVoucherResult&&this.state.newForm.applyVoucherResult.valid?this.state.newForm.voucherCode:null,this.state.language,!0)))}}else if(s.length>0&&this.state.fullName&&this.state.email&&this.state.phone&&this.state.cart.bookedInquiries&&this.state.cart.bookedInquiries.length>0){let e;this.state.carSelection.cars&&this.state.carSelection.cars.length>0&&(null!=this.state.carSelection.selectedCarIndex?(e={custCarId:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].custCarId?this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].custCarId:1,make:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].make,model:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].model,year:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].year,trim:this.state.carSelection.cars[this.state.carSelection.selectedCarIndex].trim},this.props.problemInquiryAsync(e,this.state.fullName,this.state.email,this.state.phone,s[0].category,s[0].description,this.state.language)):null!=this.state.carSelection.selectedCustCarId&&(e=this.state.carSelection.cars.find(e=>e.custCarId==this.state.carSelection.selectedCustCarId),e&&this.props.problemInquiryAsync(e,this.state.fullName,this.state.email,this.state.phone,s[0].category,s[0].description,this.state.language)))}}}handleChangeFullName(e){e.currentTarget.value!=this.state.fullName&&this.setState({fullName:e.currentTarget.value},function(){this.props.setFormFullName(this.state.fullName)}.bind(this))}handleChangeEmail(e){e.currentTarget.value!=this.state.email&&this.setState({email:e.currentTarget.value},function(){this.props.setFormEmail(this.state.email)}.bind(this))}handleChangePhone(e){e.currentTarget.value!=this.state.phone&&this.setState({phone:e.currentTarget.value},function(){this.props.setFormPhone(this.state.phone)}.bind(this))}handleChangeNote(e){e.currentTarget.value!=this.state.note&&this.setState({note:e.currentTarget.value},function(){this.props.setFormNote(this.state.note)}.bind(this))}handlePrev(){this.props.setStep(1)}render(){let e="Contact Information",t="Informasi Kontak",a="BOOK NOW",r="PESAN SEKARANG";return s.createElement("div",{id:"contact-info",className:"booking-contact"+this.getWizardStepClass(4)+(this.state.wizardStep.step<4?" hidden-android":"")},s.createElement("h1",{className:"visible-m"},s.createElement(c.a,{EN:"CONTACT INFO",ID:"INFO KONTAK"})),s.createElement("h5",{className:"hidden-m"},s.createElement(c.a,{EN:e,ID:t})),s.createElement("hr",{className:"hidden-m"}),s.createElement("div",{className:"contact-row"},s.createElement("label",{className:"visible-m no-mt"},s.createElement(c.a,{EN:"Full name",ID:"Nama lengkap"})),s.createElement("div",{className:"contact-col"},s.createElement("input",{type:"text",value:this.state.fullName,className:"full-name",disabled:this.state.newForm.disabledForm||!!this.props.contactInformation.fullName,placeholder:"EN"==this.state.language?"Full name":"Nama lengkap",onChange:this.handleChangeFullName.bind(this)}),this.state.newForm.validationForm&&this.state.newForm.validationForm.nameValidation&&s.createElement("div",{className:"validation-error",dangerouslySetInnerHTML:{__html:this.state.newForm.validationForm.nameValidation}})),s.createElement("label",{className:"visible-m"},s.createElement(c.a,{EN:"Email",ID:"Email"})),s.createElement("div",{className:"contact-col"},s.createElement("input",{type:"email",value:this.state.email,className:"email",disabled:this.state.newForm.disabledForm||!!this.props.contactInformation.email,placeholder:(this.state.language,"Email"),onChange:this.handleChangeEmail.bind(this)}),this.state.newForm.validationForm&&this.state.newForm.validationForm.emailValidation&&s.createElement("div",{className:"validation-error",dangerouslySetInnerHTML:{__html:this.state.newForm.validationForm.emailValidation}}))),s.createElement("div",{className:"contact-row"},s.createElement("label",{className:"visible-m no-mt"},s.createElement(c.a,{EN:"Mobile phone number",ID:"Nomor ponsel"})),s.createElement("div",{className:"contact-col"},s.createElement("input",{type:"tel",value:this.state.phone,className:"phone",disabled:this.state.newForm.disabledForm||!!this.props.contactInformation.phone,placeholder:"EN"==this.state.language?"Mobile phone number":"Nomor ponsel",onChange:this.handleChangePhone.bind(this)}),this.state.newForm.validationForm&&this.state.newForm.validationForm.phoneValidation&&s.createElement("div",{className:"validation-error",dangerouslySetInnerHTML:{__html:this.state.newForm.validationForm.phoneValidation}})),s.createElement("label",{className:"visible-m"},s.createElement(c.a,{EN:"Add notes",ID:"Catatan tambahan"})),s.createElement("div",{className:"contact-col"},s.createElement("input",{type:"text",value:this.state.note,className:"notes",disabled:this.state.newForm.disabledForm,placeholder:"EN"==this.state.language?"Add notes to our mechanic...":"Catatan tambahan untuk montir kami...",onChange:this.handleChangeNote.bind(this)}))),s.createElement("div",{className:"voucher-row"}),s.createElement("div",{className:"contact-row"},s.createElement("div",{className:"contact-col"},s.createElement("button",{type:"button",className:"btn btn-primary btn-submit",disabled:this.state.newForm.disabledForm,onClick:!this.state.newForm.disabledForm&&this.handleSubmit.bind(this)},s.createElement(c.a,{EN:a,ID:r})))))}}var ot=Object(i.b)(e=>({wizardStep:e.wizardStep,language:e.language,carSelection:e.carSelection,newForm:e.newForm,cart:e.cart,contactInformation:e.contactInformation}),e=>({setProgress:Object(o.a)(u,e),setStep:Object(o.a)(d,e),setFormFullName:Object(o.a)(f.i,e),setFormEmail:Object(o.a)(f.h,e),setFormPhone:Object(o.a)(f.k,e),setFormNote:Object(o.a)(f.j,e),setFormValidation:Object(o.a)(f.l,e),bookingAsync:(t,a,s,r,n,o,i,c,l,d,u,h,p)=>q(e,t,a,s,r,n,o,i,c,l,d,u,h,p),problemInquiryAsync:(t,a,s,r,n,o,i)=>M(e,t,a,s,r,n,o,i),orderAsync:(t,a,s,r,n,o,i,c,l,d,u,h,p,m,g)=>V(e,t,a,s,r,n,o,i,c,l,d,u,h,p,m,g)}))(nt);class it extends s.Component{constructor(e){super(e),this.state={}}render(){return s.createElement("div",{id:"psbb-notice"},s.createElement("p",null,"Pelanggan yang terhormat,"),s.createElement("p",null,"Untuk memutus mata rantai penularan COVID-19, Montir.id berpartisipasi dalam pelaksanakan Pembatasan Sosial Berskala Besar (PSBB) dan tidak beroperasi sampai dengan tanggal 22 Mei 2020. Kebijakan ini dapat berubah sewaktu-waktu."))}}class ct extends s.Component{constructor(e){super(e),this.state={productSelection:e.productSelection,newForm:e.newForm,wizardStep:e.wizardStep,carSelection:e.carSelection,cart:e.cart,user:e.user,cartOpen:!1}}componentDidMount(){let e,t=0,a=this.state.carSelection.cars,s=this.state.carSelection.selectedCustCarId,r=this.state.carSelection.selectedCarIndex;if(s?a&&a.length>0&&(e=a.find(e=>e.custCarId==s)):null!=r&&a&&a.length>0&&(e=a[r]),e&&t++,this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0){let e=[];for(let t of this.state.cart.bookedProducts)e.push(t.id);this.props.getSlotsAsync(e),t++}else this.state.cart.bookedInquiries&&this.state.cart.bookedInquiries.length>0&&t++;if(this.state.newForm.date&&this.state.newForm.time&&this.state.newForm.location&&this.state.newForm.location.name&&this.state.newForm.locationValid&&t++,this.props.setProgress(t),history.replaceState(JSON.stringify({step:1,category:this.state.newForm.selectedTab?this.state.newForm.selectedTab.tab:1}),document.title,location.href),$(window).on("popstate",function(e){let t=JSON.parse(e.originalEvent.state);t&&(t.step&&this.props.setStep(t.step),t.category&&(1==t.category?this.props.setSelectedTab({tab:1,name:"EN"==this.props.lang?"CONSULTATION":"KONSULTASI",iconSrc:"/img/icon-konsult.png",title:"EN"==this.props.lang?"Select your services":"Pilih servis sesuai keluhan Anda",url:"EN"==this.props.lang?"consultation":"konsultasi"}):2==t.category?this.props.setSelectedTab({tab:2,name:"EN"==this.props.lang?"REGULAR SERVICE":"SERVIS BERKALA",iconSrc:"/img/icon-others.png",title:"EN"==this.props.lang?"Regular service as your needs":"Semua servis berkala sesuai kebutuhan Anda",url:"EN"==this.props.lang?"regular-service":"servis-berkala"}):3==t.category?this.props.setSelectedTab({tab:3,name:"EN"==this.props.lang?"GENERAL SERVICE":"SERVIS UMUM",iconSrc:"/img/icon-sr.png",title:"EN"==this.props.lang?"General service as your needs":"Semua servis berkala sesuai kebutuhan Anda",url:"EN"==this.props.lang?"general-service":"servis-umum"}):4==t.category?this.props.setSelectedTab({tab:4,name:"EN"==this.props.lang?"CHANGE SPAREPART":"GANTI SPAREPART",iconSrc:"/img/icon-ganti-s.png",title:"EN"==this.props.lang?"Change sparepart":"Ganti sparepart",url:"EN"==this.props.lang?"change-sparepart":"ganti-sparepart"}):5==t.category?this.props.setSelectedTab({tab:5,name:(this.props.lang,"DETAILING"),iconSrc:"/img/icon-wash.png",title:(this.props.lang,"Detailing"),url:(this.props.lang,"detailing")}):6==t.category?this.props.setSelectedTab({tab:6,name:(this.props.lang,"EMERGENCY"),iconSrc:"/img/icon-emergency.png",title:(this.props.lang,"Emergency"),url:(this.props.lang,"emergency")}):7==t.category&&this.props.setSelectedTab({tab:7,name:(this.props.lang,"PROMO"),iconSrc:"/img/icon-promo.png",title:"EN"==this.props.lang?"Coming soon":"Belum tersedia",url:(this.props.lang,"promo")})))}.bind(this)),this.state.newForm.paramMake&&this.state.newForm.paramModel&&this.state.newForm.paramYear&&this.state.newForm.paramTrim&&e){if(this.state.newForm.paramMake!=e.make||this.state.newForm.paramModel!=e.model||this.state.newForm.paramYear!=e.year||this.state.newForm.paramTrim!=e.trim)if(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0||this.state.cart.bookedInquiries&&this.state.cart.bookedInquiries.length>0){let e={title:"EN"==this.props.lang?"Empty the cart?":"Kosongkan keranjang?",message:"EN"==this.props.lang?"You previously had cart with a different car.":"Anda sebelumnya mempunyai keranjang dengan mobil yang berbeda.",okButton:"EN"==this.props.lang?"REMOVE":"KOSONGKAN",cancelButton:"EN"==this.props.lang?"CANCEL":"BATAL",okOnly:!1,ok:function(){if(this.props.setBookedProducts([],this.state.user.userLoggedin),this.props.setBookedInquiries([],this.state.user.userLoggedin),this.props.setBookedGroup(null,this.state.user.userLoggedin),this.state.user.userLoggedin)this.props.addCarAsync(this.state.newForm.paramMake,this.state.newForm.paramModel,this.state.newForm.paramYear,this.state.newForm.paramTrim,this.state.user.userLoggedin);else{let e={custCarId:null,make:this.state.newForm.paramMake,model:this.state.newForm.paramModel,year:this.state.newForm.paramYear,trim:this.state.newForm.paramTrim};this.props.addCar(e,this.state.user.userLoggedin)}}.bind(this)};this.props.setAlert(e)}else if(this.state.user.userLoggedin)this.props.addCarAsync(this.state.newForm.paramMake,this.state.newForm.paramModel,this.state.newForm.paramYear,this.state.newForm.paramTrim,this.state.user.userLoggedin);else{let e={custCarId:null,make:this.state.newForm.paramMake,model:this.state.newForm.paramModel,year:this.state.newForm.paramYear,trim:this.state.newForm.paramTrim};this.props.addCar(e,this.state.user.userLoggedin)}}else if(this.state.newForm.paramMake&&this.state.newForm.paramModel&&this.state.newForm.paramYear&&this.state.newForm.paramTrim)if(this.state.user.userLoggedin)this.props.addCarAsync(this.state.newForm.paramMake,this.state.newForm.paramModel,this.state.newForm.paramYear,this.state.newForm.paramTrim,this.state.user.userLoggedin);else{let e={custCarId:null,make:this.state.newForm.paramMake,model:this.state.newForm.paramModel,year:this.state.newForm.paramYear,trim:this.state.newForm.paramTrim};this.props.addCar(e,this.state.user.userLoggedin)}if(this.state.newForm.selectedTab&&(this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0||this.state.cart.bookedInquiries&&this.state.cart.bookedInquiries.length>0))if(1==this.state.cart.bookedGroup&&1==this.state.newForm.selectedTab.tab||1==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab);else if(2==this.state.cart.bookedGroup&&3==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&5==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&6==this.state.newForm.selectedTab.tab||2==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab);else if(3==this.state.cart.bookedGroup&&4==this.state.newForm.selectedTab.tab||3==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab);else if(4==this.state.cart.bookedGroup&&2==this.state.newForm.selectedTab.tab||4==this.state.cart.bookedGroup&&7==this.state.newForm.selectedTab.tab);else{let e={title:"EN"==this.props.lang?"Empty the cart?":"Kosongkan keranjang?",message:"EN"==this.props.lang?"You must empty the cart before moving service.":"Anda harus mengosongkan keranjang sebelum pindah layanan.",okButton:"EN"==this.props.lang?"REMOVE":"KOSONGKAN",cancelButton:"EN"==this.props.lang?"CANCEL":"BATAL",okOnly:!1,ok:function(){this.props.setBookedProducts([],this.state.user.userLoggedin),this.props.setBookedInquiries([],this.state.user.userLoggedin),this.props.setBookedGroup(null,this.state.user.userLoggedin),this.props.setProgress(1)}.bind(this)};this.props.setAlert(e)}}componentWillReceiveProps(e){let t=this.state;this.state.productSelection!=e.productSelection&&(t=Object.assign(Object.assign({},t),{productSelection:e.productSelection}),this.setState(t,(function(){this.toggleBodyScroll()}))),this.state.newForm!=e.newForm&&(t=Object.assign(Object.assign({},t),{newForm:e.newForm}),this.setState(t,(function(){this.toggleBodyScroll()}))),this.state.cart!=e.cart&&(t=Object.assign(Object.assign({},t),{cart:e.cart}),this.setState(t)),this.state.wizardStep.progress==e.wizardStep.progress&&this.state.wizardStep.step==e.wizardStep.step||(t=Object.assign(Object.assign({},t),{wizardStep:e.wizardStep}),this.setState(t,function(){1==this.state.wizardStep.step?0==this.state.wizardStep.progress?holiday||this.smoothScrollTo("#select-car"):1==this.state.wizardStep.progress&&(holiday||this.smoothScrollTo("#select-services")):2==this.state.wizardStep.step&&(2==this.state.wizardStep.progress?this.smoothScrollTo("#make-appointment"):3==this.state.wizardStep.progress&&this.smoothScrollTo("#contact-info"))}.bind(this)))}smoothScrollTo(e){console.log("smoothScrollTo:"+e),$(e).addClass("flash"),setTimeout((function(){$(e).removeClass("flash")}),100);let t=$(e).offset();t&&window.scroll({top:t.top-70,left:0,behavior:"smooth"})}toggleBodyScroll(){let e=$("html,body"),t=$("body"),a=$("#navbar"),s=$(".page-wrapper");if(this.state.productSelection.product||this.state.newForm.alert||1==this.state.cartOpen){if(!e.is(".open-product")){let r=e.scrollTop(),n=t.width(),o=t.scrollTop();e.addClass("open-product");let i=t.width(),c=0;i&&n&&(c=i-n),t.css("padding-right",c),o&&s.css("margin-top",-o),a.css("margin-right",c),r?(e.scrollTop(r),this.props.setScroll(r)):this.props.setScroll(0)}}else if(e.hasClass("open-product")){e.removeClass("open-product"),t.removeAttr("style"),a.removeAttr("style");var r=parseInt(s.css("margin-top").replace("px",""));s.removeAttr("style"),t.scrollTop(-r),e.scrollTop(this.state.newForm.scroll)}}handleOpenCart(e){this.setState({cartOpen:e},function(){this.toggleBodyScroll()}.bind(this))}handleDismissCart(e){this.setState({cartOpen:e},function(){this.toggleBodyScroll()}.bind(this))}render(){return s.createElement("div",{className:"row section-order"},s.createElement("section",{className:"section-booking-form"},s.createElement(b,{cartOpen:this.state.cartOpen,onOpenCart:this.handleOpenCart.bind(this)}),s.createElement("div",{className:"container"},s.createElement("div",{className:"row"},s.createElement(z,{cartOpen:this.state.cartOpen,onDismissCart:this.handleDismissCart.bind(this)}),s.createElement("div",{className:"booking-first"},holiday&&s.createElement(it,null),1==this.state.wizardStep.step&&s.createElement(we,null),1==this.state.wizardStep.step&&s.createElement(Be,null)),this.state.wizardStep.step>=2&&this.state.cart.bookedGroup&&3!=this.state.cart.bookedGroup&&this.state.cart.bookedProducts&&this.state.cart.bookedProducts.length>0&&s.createElement(rt,null),this.state.wizardStep.step>=2&&s.createElement(ot,null),s.createElement(p,null)))),this.state.productSelection&&this.state.productSelection.product&&!this.state.productSelection.addon&&s.createElement(Qe,null),this.state.productSelection&&this.state.productSelection.product&&this.state.productSelection.addon&&s.createElement(ze,null),this.state.newForm.alert&&s.createElement(He,null))}}var lt=Object(i.b)(e=>({productSelection:e.productSelection,newForm:e.newForm,wizardStep:e.wizardStep,carSelection:e.carSelection,cart:e.cart,user:e.user}),e=>({getSlotsAsync:t=>w(e,t),setProgress:Object(o.a)(u,e),setStep:Object(o.a)(d,e),setBookedProducts:Object(o.a)(m.c,e),setBookedInquiries:Object(o.a)(m.b,e),setBookedGroup:Object(o.a)(m.a,e),setAlert:Object(o.a)(f.c,e),setScroll:Object(o.a)(f.t,e),addCar:Object(o.a)(X.a,e),addCarAsync:(t,a,s,r,n)=>ge(e,t,a,s,r,n),setSelectedTab:Object(o.a)(f.u,e)}))(ct);t.a=()=>s.createElement(r.a,null,s.createElement(n.a,{exact:!0,path:"/pesan",component:()=>s.createElement(lt,{lang:"ID"})}),s.createElement(n.a,{exact:!0,path:"/en/book",component:()=>s.createElement(lt,{lang:"EN"})}),s.createElement(n.a,{path:"/pesan/:category",component:()=>s.createElement(lt,{lang:"ID"})}),s.createElement(n.a,{path:"/en/book/:category",component:()=>s.createElement(lt,{lang:"EN"})}))},323:function(e,t,a){"use strict";var s=a(13),r=a.n(s),n=a(0),o=a.n(n),i=a(5),c=a.n(i),l=a(16);function d(e){return"/"===e.charAt(0)}function u(e,t){for(var a=t,s=a+1,r=e.length;s<r;a+=1,s+=1)e[a]=e[s];e.pop()}var h=function(e,t){void 0===t&&(t="");var a,s=e&&e.split("/")||[],r=t&&t.split("/")||[],n=e&&d(e),o=t&&d(t),i=n||o;if(e&&d(e)?r=s:s.length&&(r.pop(),r=r.concat(s)),!r.length)return"/";if(r.length){var c=r[r.length-1];a="."===c||".."===c||""===c}else a=!1;for(var l=0,h=r.length;h>=0;h--){var p=r[h];"."===p?u(r,h):".."===p?(u(r,h),l++):l&&(u(r,h),l--)}if(!i)for(;l--;l)r.unshift("..");!i||""===r[0]||r[0]&&d(r[0])||r.unshift("");var m=r.join("/");return a&&"/"!==m.substr(-1)&&(m+="/"),m};var p=function(e,t){if(!e)throw new Error("Invariant failed")};function m(e){return"/"===e.charAt(0)?e:"/"+e}function g(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function b(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function f(e){var t=e.pathname,a=e.search,s=e.hash,r=t||"/";return a&&"?"!==a&&(r+="?"===a.charAt(0)?a:"?"+a),s&&"#"!==s&&(r+="#"===s.charAt(0)?s:"#"+s),r}function E(e,t,a,s){var r;"string"==typeof e?(r=function(e){var t=e||"/",a="",s="",r=t.indexOf("#");-1!==r&&(s=t.substr(r),t=t.substr(0,r));var n=t.indexOf("?");return-1!==n&&(a=t.substr(n),t=t.substr(0,n)),{pathname:t,search:"?"===a?"":a,hash:"#"===s?"":s}}(e)).state=t:(void 0===(r=Object(l.a)({},e)).pathname&&(r.pathname=""),r.search?"?"!==r.search.charAt(0)&&(r.search="?"+r.search):r.search="",r.hash?"#"!==r.hash.charAt(0)&&(r.hash="#"+r.hash):r.hash="",void 0!==t&&void 0===r.state&&(r.state=t));try{r.pathname=decodeURI(r.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return a&&(r.key=a),s?r.pathname?"/"!==r.pathname.charAt(0)&&(r.pathname=h(r.pathname,s.pathname)):r.pathname=s.pathname:r.pathname||(r.pathname="/"),r}function S(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,a,s,r){if(null!=e){var n="function"==typeof e?e(t,a):e;"string"==typeof n?"function"==typeof s?s(n,r):r(!0):r(!1!==n)}else r(!0)},appendListener:function(e){var a=!0;function s(){a&&e.apply(void 0,arguments)}return t.push(s),function(){a=!1,t=t.filter((function(e){return e!==s}))}},notifyListeners:function(){for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];t.forEach((function(e){return e.apply(void 0,a)}))}}}var y=!("undefined"==typeof window||!window.document||!window.document.createElement);function v(e,t){t(window.confirm(e))}function k(){try{return window.history.state||{}}catch(e){return{}}}function N(e){void 0===e&&(e={}),y||p(!1);var t,a=window.history,s=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,r=!(-1===window.navigator.userAgent.indexOf("Trident")),n=e,o=n.forceRefresh,i=void 0!==o&&o,c=n.getUserConfirmation,d=void 0===c?v:c,u=n.keyLength,h=void 0===u?6:u,N=e.basename?b(m(e.basename)):"";function w(e){var t=e||{},a=t.key,s=t.state,r=window.location,n=r.pathname+r.search+r.hash;return N&&(n=g(n,N)),E(n,s,a)}function C(){return Math.random().toString(36).substr(2,h)}var P=S();function O(e){Object(l.a)(x,e),x.length=a.length,P.notifyListeners(x.location,x.action)}function T(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||j(w(e.state))}function I(){j(w(k()))}var A=!1;function j(e){if(A)A=!1,O();else{P.confirmTransitionTo(e,"POP",d,(function(t){t?O({action:"POP",location:e}):function(e){var t=x.location,a=q.indexOf(t.key);-1===a&&(a=0);var s=q.indexOf(e.key);-1===s&&(s=0);var r=a-s;r&&(A=!0,D(r))}(e)}))}}var F=w(k()),q=[F.key];function R(e){return N+f(e)}function D(e){a.go(e)}var L=0;function M(e){1===(L+=e)&&1===e?(window.addEventListener("popstate",T),r&&window.addEventListener("hashchange",I)):0===L&&(window.removeEventListener("popstate",T),r&&window.removeEventListener("hashchange",I))}var B=!1;var x={length:a.length,action:"POP",location:F,createHref:R,push:function(e,t){var r=E(e,t,C(),x.location);P.confirmTransitionTo(r,"PUSH",d,(function(e){if(e){var t=R(r),n=r.key,o=r.state;if(s)if(a.pushState({key:n,state:o},null,t),i)window.location.href=t;else{var c=q.indexOf(x.location.key),l=q.slice(0,c+1);l.push(r.key),q=l,O({action:"PUSH",location:r})}else window.location.href=t}}))},replace:function(e,t){var r=E(e,t,C(),x.location);P.confirmTransitionTo(r,"REPLACE",d,(function(e){if(e){var t=R(r),n=r.key,o=r.state;if(s)if(a.replaceState({key:n,state:o},null,t),i)window.location.replace(t);else{var c=q.indexOf(x.location.key);-1!==c&&(q[c]=r.key),O({action:"REPLACE",location:r})}else window.location.replace(t)}}))},go:D,goBack:function(){D(-1)},goForward:function(){D(1)},block:function(e){void 0===e&&(e=!1);var t=P.setPrompt(e);return B||(M(1),B=!0),function(){return B&&(B=!1,M(-1)),t()}},listen:function(e){var t=P.appendListener(e);return M(1),function(){M(-1),t()}}};return x}var w=a(21),C=a.n(w),P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e};function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var I=function(e){function t(){var a,s;O(this,t);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return a=s=T(this,e.call.apply(e,[this].concat(n))),s.state={match:s.computeMatch(s.props.history.location.pathname)},T(s,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:P({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,a=t.children,s=t.history;C()(null==a||1===o.a.Children.count(a),"A <Router> may have only one child element"),this.unlisten=s.listen((function(){e.setState({match:e.computeMatch(s.location.pathname)})}))},t.prototype.componentWillReceiveProps=function(e){r()(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?o.a.Children.only(e):null},t}(o.a.Component);I.propTypes={history:c.a.object.isRequired,children:c.a.node},I.contextTypes={router:c.a.object},I.childContextTypes={router:c.a.object.isRequired};var A=I;function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var q=function(e){function t(){var a,s;j(this,t);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return a=s=F(this,e.call.apply(e,[this].concat(n))),s.history=N(s.props),F(s,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){r()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},t.prototype.render=function(){return o.a.createElement(A,{history:this.history,children:this.props.children})},t}(o.a.Component);q.propTypes={basename:c.a.string,forceRefresh:c.a.bool,getUserConfirmation:c.a.func,keyLength:c.a.number,children:c.a.node};t.a=q},34:function(e,t){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch(e){"object"==typeof window&&(a=window)}e.exports=a},40:function(e,t,a){"use strict";e.exports=function(e,t,a,s,r,n,o,i){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[a,s,r,n,o,i],d=0;(c=new Error(t.replace(/%s/g,(function(){return l[d++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},422:function(e,t,a){"use strict";var s=a(0),r=a.n(s),n=a(5),o=a.n(n),i=a(13),c=a.n(i),l=a(21),d=a.n(l),u=a(28);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){return h(this,t),p(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){d()(this.context.router,"You should not use <Switch> outside a <Router>")},t.prototype.componentWillReceiveProps=function(e){c()(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),c()(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},t.prototype.render=function(){var e=this.context.router.route,t=this.props.children,a=this.props.location||e.location,s=void 0,n=void 0;return r.a.Children.forEach(t,(function(t){if(null==s&&r.a.isValidElement(t)){var o=t.props,i=o.path,c=o.exact,l=o.strict,d=o.sensitive,h=o.from,p=i||h;n=t,s=Object(u.a)(a.pathname,{path:p,exact:c,strict:l,sensitive:d},e.match)}})),s?r.a.cloneElement(n,{location:a,computedMatch:s}):null},t}(r.a.Component);m.contextTypes={router:o.a.shape({route:o.a.object.isRequired}).isRequired},m.propTypes={children:o.a.node,location:o.a.object};var g=m;t.a=g},423:function(e,t,a){"use strict";var s=a(13),r=a.n(s),n=a(21),o=a.n(n),i=a(0),c=a.n(i),l=a(5),d=a.n(l),u=a(28),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e};function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){return 0===c.a.Children.count(e)},b=function(e){function t(){var a,s;p(this,t);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return a=s=m(this,e.call.apply(e,[this].concat(n))),s.state={match:s.computeMatch(s.props,s.context.router)},m(s,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:h({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},t.prototype.computeMatch=function(e,t){var a=e.computedMatch,s=e.location,r=e.path,n=e.strict,i=e.exact,c=e.sensitive;if(a)return a;o()(t,"You should not use <Route> or withRouter() outside a <Router>");var l=t.route,d=(s||l.location).pathname;return Object(u.a)(d,{path:r,strict:n,exact:i,sensitive:c},l.match)},t.prototype.componentWillMount=function(){r()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),r()(!(this.props.component&&this.props.children&&!g(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),r()(!(this.props.render&&this.props.children&&!g(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},t.prototype.componentWillReceiveProps=function(e,t){r()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),r()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},t.prototype.render=function(){var e=this.state.match,t=this.props,a=t.children,s=t.component,r=t.render,n=this.context.router,o=n.history,i=n.route,l=n.staticContext,d={match:e,location:this.props.location||i.location,history:o,staticContext:l};return s?e?c.a.createElement(s,d):null:r?e?r(d):null:"function"==typeof a?a(d):a&&!g(a)?c.a.Children.only(a):null},t}(c.a.Component);b.propTypes={computedMatch:d.a.object,path:d.a.string,exact:d.a.bool,strict:d.a.bool,sensitive:d.a.bool,component:d.a.func,render:d.a.func,children:d.a.oneOfType([d.a.func,d.a.node]),location:d.a.object},b.contextTypes={router:d.a.shape({history:d.a.object.isRequired,route:d.a.object.isRequired,staticContext:d.a.object})},b.childContextTypes={router:d.a.object.isRequired};var f=b;t.a=f},43:function(e,t,a){"use strict";var s=a(44);function r(){}function n(){}n.resetWarningCache=r,e.exports=function(){function e(e,t,a,r,n,o){if(o!==s){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:n,resetWarningCache:r};return a.PropTypes=a,a}},44:function(e,t,a){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},461:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a(14),n=a(8),o=a(323),i=a(17),c=a(315),l=a(320),d=a(12),u=a(2);var h=a(10);var p,m,g,b,f,E,S,y=a(15),v=a(7),k=a(9);if(location.pathname.startsWith("/en/")&&i.a.dispatch((p="EN",{type:u.ib,language:p})),i.a.dispatch((m=user,{type:u.Lb,userLoggedin:m})),i.a.dispatch(Object(h.h)(popularMakes)),i.a.dispatch(Object(h.e)(makes)),i.a.dispatch(Object(y.d)(productLines)),i.a.dispatch(Object(y.e)(regularServices)),i.a.dispatch(Object(y.c)(generalServices)),i.a.dispatch(Object(y.a)(changeSpareparts)),i.a.dispatch(Object(y.h)(washDetailings)),i.a.dispatch(Object(y.b)(emergencies)),paramMake&&i.a.dispatch(Object(v.p)(paramMake)),paramModel&&i.a.dispatch(Object(v.q)(paramModel)),paramYear&&i.a.dispatch(Object(v.s)(paramYear)),paramTrim&&i.a.dispatch(Object(v.r)(paramTrim)),selectedTab){let e=null;1==selectedTab?e={tab:1,name:location.pathname.startsWith("/en/")?"CONSULTATION":"KONSULTASI",iconSrc:"/img/icon-konsult.png",title:location.pathname.startsWith("/en/")?"Select your services":"Pilih servis sesuai keluhan Anda",url:location.pathname.startsWith("/en/")?"consultation":"konsultasi"}:2==selectedTab?e={tab:2,name:location.pathname.startsWith("/en/")?"REGULAR SERVICE":"SERVIS BERKALA",iconSrc:"/img/icon-others.png",title:location.pathname.startsWith("/en/")?"Regular service as your needs":"Semua servis berkala sesuai kebutuhan Anda",url:location.pathname.startsWith("/en/")?"regular-service":"servis-berkala"}:3==selectedTab?e={tab:3,name:location.pathname.startsWith("/en/")?"GENERAL SERVICE":"SERVIS UMUM",iconSrc:"/img/icon-sr.png",title:location.pathname.startsWith("/en/")?"General service as your needs":"Semua servis umum sesuai kebutuhan Anda",url:location.pathname.startsWith("/en/")?"general-service":"servis-umum"}:4==selectedTab?e={tab:4,name:location.pathname.startsWith("/en/")?"CHANGE SPAREPART":"GANTI SPAREPART",iconSrc:"/img/icon-ganti-s.png",title:location.pathname.startsWith("/en/")?"Change sparepart":"Ganti sparepart",url:location.pathname.startsWith("/en/")?"change-sparepart":"ganti-sparepart"}:5==selectedTab?e={tab:5,name:(location.pathname.startsWith("/en/"),"DETAILING"),iconSrc:"/img/icon-wash.png",title:location.pathname.startsWith("/en/")?"Detailing":"detailing",url:(location.pathname.startsWith("/en/"),"detailing")}:6==selectedTab?e={tab:6,name:(location.pathname.startsWith("/en/"),"EMERGENCY"),iconSrc:"/img/icon-emergency.png",title:(location.pathname.startsWith("/en/"),"Emergency"),url:(location.pathname.startsWith("/en/"),"emergency")}:7==selectedTab&&(e={tab:7,name:(location.pathname.startsWith("/en/"),"PROMO"),iconSrc:"/img/icon-promo.png",title:location.pathname.startsWith("/en/")?"Coming soon":"Belum tersedia",url:(location.pathname.startsWith("/en/"),"promo")}),e&&i.a.dispatch(Object(v.u)(e))}if(hotlineContact&&(i.a.dispatch((b=hotlineContact.Label,{type:u.gb,hotlineContactLabel:b})),i.a.dispatch((g=hotlineContact.Tel,{type:u.hb,hotlineContactTel:g}))),user)userFullName&&i.a.dispatch((S=userFullName,{type:u.eb,fullName:S})),userEmail&&i.a.dispatch((E=userEmail,{type:u.X,email:E})),userPhoneNumber&&i.a.dispatch((f=userPhoneNumber,{type:u.rb,phone:f})),i.a.dispatch(Object(h.c)(userCars)),i.a.dispatch(Object(h.j)(selectedCarId));else if(localStorage){let e=localStorage.getItem(d.a),t=localStorage.getItem(d.h),a=localStorage.getItem(d.f),s=localStorage.getItem(d.e),r=localStorage.getItem(d.g),n=localStorage.getItem(d.d),o=localStorage.getItem(d.c),c=localStorage.getItem(d.b);if(e){let t=JSON.parse(e);i.a.dispatch(Object(h.c)(t))}if(t){let e=parseInt(t);i.a.dispatch(Object(h.i)(e))}if(a){let e=JSON.parse(a);i.a.dispatch(Object(v.m)(e,user))}if(s&&i.a.dispatch(Object(v.n)(s,user)),r&&i.a.dispatch(Object(v.o)("true"==r,user)),n){let e=JSON.parse(n);i.a.dispatch(Object(k.c)(e,user))}if(o){let e=JSON.parse(o);i.a.dispatch(Object(k.b)(e,user))}if(c){let e=parseInt(c);i.a.dispatch(Object(k.a)(e,user))}}r.render(s.createElement(n.a,{store:i.a},s.createElement(o.a,null,s.createElement("div",null,s.createElement(c.a,null),s.createElement(l.a,null)))),document.getElementById("root"))},5:function(e,t,a){e.exports=a(43)()},50:function(e,t,a){"use strict";e.exports=a(109)},51:function(e,t,a){e.exports=a(110)},7:function(e,t,a){"use strict";a.d(t,"g",(function(){return n})),a.d(t,"v",(function(){return o})),a.d(t,"m",(function(){return i})),a.d(t,"n",(function(){return c})),a.d(t,"o",(function(){return l})),a.d(t,"w",(function(){return d})),a.d(t,"y",(function(){return u})),a.d(t,"a",(function(){return h})),a.d(t,"d",(function(){return p})),a.d(t,"x",(function(){return m})),a.d(t,"b",(function(){return g})),a.d(t,"u",(function(){return b})),a.d(t,"c",(function(){return f})),a.d(t,"p",(function(){return E})),a.d(t,"q",(function(){return S})),a.d(t,"s",(function(){return y})),a.d(t,"r",(function(){return v})),a.d(t,"t",(function(){return k})),a.d(t,"i",(function(){return N})),a.d(t,"h",(function(){return w})),a.d(t,"k",(function(){return C})),a.d(t,"j",(function(){return P})),a.d(t,"l",(function(){return O})),a.d(t,"e",(function(){return T})),a.d(t,"f",(function(){return I}));var s=a(2),r=a(12);const n=e=>({type:s.V,date:e}),o=e=>({type:s.Jb,time:e}),i=(e,t)=>{if(localStorage&&!t)try{localStorage.setItem(r.f,JSON.stringify(e))}catch(e){}return{type:s.jb,location:e}},c=(e,t)=>{if(localStorage&&!t)try{localStorage.setItem(r.e,e)}catch(e){}return{type:s.kb,locationDetail:e}},l=(e,t)=>{if(localStorage&&!t)try{localStorage.setItem(r.g,e.toString())}catch(e){}return{type:s.lb,locationValid:e}},d=e=>({type:s.Kb,timeSlots:e}),u=e=>({type:s.Nb,voucherResult:e}),h=(e,t)=>({type:s.k,bookedProducts:e,voucherResult:t}),p=e=>({type:s.J,applyVoucherResult:e}),m=e=>({type:s.Mb,voucherCode:e}),g=(e,t)=>({type:s.l,bookedProducts:e,applyVoucherResult:t}),b=e=>({type:s.Hb,selectedTab:e}),f=e=>({type:s.I,alert:e}),E=e=>({type:s.nb,paramMake:e}),S=e=>({type:s.ob,paramModel:e}),y=e=>({type:s.qb,paramYear:e}),v=e=>({type:s.pb,paramTrim:e}),k=e=>({type:s.yb,scroll:e}),N=e=>({type:s.ab,formFullName:e}),w=e=>({type:s.Z,formEmail:e}),C=e=>({type:s.cb,formPhone:e}),P=e=>({type:s.bb,formNote:e}),O=e=>({type:s.db,formValidation:e}),T=e=>({type:s.T,consultationCategory:e}),I=e=>({type:s.U,consultationDescription:e})},74:function(e,t,a){"use strict";var s=a(50),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};function c(e){return s.isMemo(e)?o:i[e.$$typeof]||r}i[s.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i[s.Memo]=o;var l=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,a,s){if("string"!=typeof a){if(m){var r=p(a);r&&r!==m&&e(t,r,s)}var o=d(a);u&&(o=o.concat(u(a)));for(var i=c(t),g=c(a),b=0;b<o.length;++b){var f=o[b];if(!(n[f]||s&&s[f]||g&&g[f]||i&&i[f])){var E=h(a,f);try{l(t,f,E)}catch(e){}}}}return t}},75:function(e,t,a){"use strict";(function(e){var a="object"==typeof e&&e&&e.Object===Object&&e;t.a=a}).call(this,a(34))},76:function(e,t,a){"use strict";var s=function(){};e.exports=s},77:function(e,t,a){"use strict";e.exports=function(e,t,a,s,r,n,o,i){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[a,s,r,n,o,i],d=0;(c=new Error(t.replace(/%s/g,(function(){return l[d++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},78:function(e,t,a){"use strict";a.d(t,"a",(function(){return S}));var s=a(0),r=a.n(s),n=a(5),o=a.n(n),i=a(76),c=a.n(i),l=a(77),d=a.n(l),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e};function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var a,s;h(this,t);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return a=s=p(this,e.call.apply(e,[this].concat(n))),s.state={match:s.computeMatch(s.props.history.location.pathname)},p(s,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:u({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,a=t.children,s=t.history;d()(null==a||1===r.a.Children.count(a),"A <Router> may have only one child element"),this.unlisten=s.listen((function(){e.setState({match:e.computeMatch(s.location.pathname)})}))},t.prototype.componentWillReceiveProps=function(e){c()(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?r.a.Children.only(e):null},t}(r.a.Component);m.propTypes={history:o.a.object.isRequired,children:o.a.node},m.contextTypes={router:o.a.object},m.childContextTypes={router:o.a.object.isRequired};var g=m,b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},f="@@router/LOCATION_CHANGE",E={location:null};function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.type,s=t.payload;return a===f?b({},e,{location:s}):e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var k=function(e){function t(){var a,s;y(this,t);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return a=s=v(this,e.call.apply(e,[this].concat(n))),s.handleLocationChange=function(e){s.store.dispatch({type:f,payload:e})},v(s,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){var e=this.props,t=e.store,a=e.history;this.store=t||this.context.store,this.handleLocationChange(a.location)},t.prototype.componentDidMount=function(){var e=this.props.history;this.unsubscribeFromHistory=e.listen(this.handleLocationChange)},t.prototype.componentWillUnmount=function(){this.unsubscribeFromHistory&&this.unsubscribeFromHistory()},t.prototype.render=function(){return r.a.createElement(g,this.props)},t}(s.Component);k.propTypes={store:o.a.object,history:o.a.object,children:o.a.node},k.contextTypes={store:o.a.object};a(31);function N(e){return function(){for(var t=arguments.length,a=Array(t),s=0;s<t;s++)a[s]=arguments[s];return{type:"@@router/CALL_HISTORY_METHOD",payload:{method:e,args:a}}}}N("push"),N("replace"),N("go"),N("goBack"),N("goForward")},8:function(e,t,a){"use strict";function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return ee}));var r=a(0),n=a.n(r),o=a(5),i=a.n(o),c=i.a.shape({trySubscribe:i.a.func.isRequired,tryUnsubscribe:i.a.func.isRequired,notifyNestedSubs:i.a.func.isRequired,isSubscribed:i.a.func.isRequired}),l=i.a.shape({subscribe:i.a.func.isRequired,dispatch:i.a.func.isRequired,getState:i.a.func.isRequired});n.a.forwardRef;var d=function(e){var t;void 0===e&&(e="store");var a=e+"Subscription",n=function(t){s(o,t);var n=o.prototype;function o(a,s){var r;return(r=t.call(this,a,s)||this)[e]=a.store,r}return n.getChildContext=function(){var t;return(t={})[e]=this[e],t[a]=null,t},n.render=function(){return r.Children.only(this.props.children)},o}(r.Component);return n.propTypes={store:l.isRequired,children:i.a.element.isRequired},n.childContextTypes=((t={})[e]=l.isRequired,t[a]=c,t),n}();function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=a(16);function p(e,t){if(null==e)return{};var a,s,r={},n=Object.keys(e);for(s=0;s<n.length;s++)a=n[s],t.indexOf(a)>=0||(r[a]=e[a]);return r}var m=a(74),g=a.n(m),b=a(40),f=a.n(b),E=a(50),S={notify:function(){}};var y=function(){function e(e,t,a){this.store=e,this.parentSub=t,this.onStateChange=a,this.unsubscribe=null,this.listeners=S}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){var e,t;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(e=[],t=[],{clear:function(){t=null,e=null},notify:function(){for(var a=e=t,s=0;s<a.length;s++)a[s]()},get:function(){return t},subscribe:function(a){var s=!0;return t===e&&(t=e.slice()),t.push(a),function(){s&&null!==e&&(s=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(a),1))}}}))},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=S)},e}(),v=void 0!==n.a.forwardRef,k=0,N={};function w(){}function C(e,t){var a,n;void 0===t&&(t={});var o=t,i=o.getDisplayName,d=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,m=o.methodName,b=void 0===m?"connectAdvanced":m,S=o.renderCountProp,C=void 0===S?void 0:S,P=o.shouldHandleStateChanges,O=void 0===P||P,T=o.storeKey,I=void 0===T?"store":T,A=o.withRef,j=void 0!==A&&A,F=p(o,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),q=I+"Subscription",R=k++,D=((a={})[I]=l,a[q]=c,a),L=((n={})[q]=c,n);return function(t){f()(Object(E.isValidElementType)(t),"You must pass a component to the function returned by "+b+". Instead received "+JSON.stringify(t));var a=t.displayName||t.name||"Component",n=d(a),o=Object(h.a)({},F,{getDisplayName:d,methodName:b,renderCountProp:C,shouldHandleStateChanges:O,storeKey:I,withRef:j,displayName:n,wrappedComponentName:a,WrappedComponent:t}),i=function(a){function i(e,t){var s;return(s=a.call(this,e,t)||this).version=R,s.state={},s.renderCount=0,s.store=e[I]||t[I],s.propsMode=Boolean(e[I]),s.setWrappedInstance=s.setWrappedInstance.bind(u(u(s))),f()(s.store,'Could not find "'+I+'" in either the context or props of "'+n+'". Either wrap the root component in a <Provider>, or explicitly pass "'+I+'" as a prop to "'+n+'".'),s.initSelector(),s.initSubscription(),s}s(i,a);var c=i.prototype;return c.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[q]=t||this.context[q],e},c.componentDidMount=function(){O&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},c.componentWillReceiveProps=function(e){this.selector.run(e)},c.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},c.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=w,this.store=null,this.selector.run=w,this.selector.shouldComponentUpdate=!1},c.getWrappedInstance=function(){return f()(j,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+b+"() call."),this.wrappedInstance},c.setWrappedInstance=function(e){this.wrappedInstance=e},c.initSelector=function(){var t=e(this.store.dispatch,o);this.selector=function(e,t){var a={run:function(s){try{var r=e(t.getState(),s);(r!==a.props||a.error)&&(a.shouldComponentUpdate=!0,a.props=r,a.error=null)}catch(e){a.shouldComponentUpdate=!0,a.error=e}}};return a}(t,this.store),this.selector.run(this.props)},c.initSubscription=function(){if(O){var e=(this.propsMode?this.props:this.context)[q];this.subscription=new y(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},c.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(N)):this.notifyNestedSubs()},c.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},c.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},c.addExtraProps=function(e){if(!(j||C||this.propsMode&&this.subscription))return e;var t=Object(h.a)({},e);return j&&(t.ref=this.setWrappedInstance),C&&(t[C]=this.renderCount++),this.propsMode&&this.subscription&&(t[q]=this.subscription),t},c.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(r.createElement)(t,this.addExtraProps(e.props))},i}(r.Component);return v&&(i.prototype.UNSAFE_componentWillReceiveProps=i.prototype.componentWillReceiveProps,delete i.prototype.componentWillReceiveProps),i.WrappedComponent=t,i.displayName=n,i.childContextTypes=L,i.contextTypes=D,i.propTypes=D,g()(i,t)}}var P=Object.prototype.hasOwnProperty;function O(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function T(e,t){if(O(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(var r=0;r<a.length;r++)if(!P.call(t,a[r])||!O(e[a[r]],t[a[r]]))return!1;return!0}var I=a(3);function A(e){return function(t,a){var s=e(t,a);function r(){return s}return r.dependsOnOwnProps=!1,r}}function j(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function F(e,t){return function(t,a){a.displayName;var s=function(e,t){return s.dependsOnOwnProps?s.mapToProps(e,t):s.mapToProps(e)};return s.dependsOnOwnProps=!0,s.mapToProps=function(t,a){s.mapToProps=e,s.dependsOnOwnProps=j(e);var r=s(t,a);return"function"==typeof r&&(s.mapToProps=r,s.dependsOnOwnProps=j(r),r=s(t,a)),r},s}}var q=[function(e){return"function"==typeof e?F(e):void 0},function(e){return e?void 0:A((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?A((function(t){return Object(I.a)(e,t)})):void 0}];var R=[function(e){return"function"==typeof e?F(e):void 0},function(e){return e?void 0:A((function(){return{}}))}];function D(e,t,a){return Object(h.a)({},a,e,t)}var L=[function(e){return"function"==typeof e?function(e){return function(t,a){a.displayName;var s,r=a.pure,n=a.areMergedPropsEqual,o=!1;return function(t,a,i){var c=e(t,a,i);return o?r&&n(c,s)||(s=c):(o=!0,s=c),s}}}(e):void 0},function(e){return e?void 0:function(){return D}}];function M(e,t,a,s){return function(r,n){return a(e(r,n),t(s,n),n)}}function B(e,t,a,s,r){var n,o,i,c,l,d=r.areStatesEqual,u=r.areOwnPropsEqual,h=r.areStatePropsEqual,p=!1;function m(r,p){var m,g,b=!u(p,o),f=!d(r,n);return n=r,o=p,b&&f?(i=e(n,o),t.dependsOnOwnProps&&(c=t(s,o)),l=a(i,c,o)):b?(e.dependsOnOwnProps&&(i=e(n,o)),t.dependsOnOwnProps&&(c=t(s,o)),l=a(i,c,o)):f?(m=e(n,o),g=!h(m,i),i=m,g&&(l=a(i,c,o)),l):l}return function(r,d){return p?m(r,d):(i=e(n=r,o=d),c=t(s,o),l=a(i,c,o),p=!0,l)}}function x(e,t){var a=t.initMapStateToProps,s=t.initMapDispatchToProps,r=t.initMergeProps,n=p(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),o=a(e,n),i=s(e,n),c=r(e,n);return(n.pure?B:M)(o,i,c,e,n)}function G(e,t,a){for(var s=t.length-1;s>=0;s--){var r=t[s](e);if(r)return r}return function(t,s){throw new Error("Invalid value of type "+typeof e+" for "+a+" argument when connecting component "+s.wrappedComponentName+".")}}function V(e,t){return e===t}var _,K,Q,U,z,Y,H,W,$,J,X,Z,ee=(Q=(K=void 0===_?{}:_).connectHOC,U=void 0===Q?C:Q,z=K.mapStateToPropsFactories,Y=void 0===z?R:z,H=K.mapDispatchToPropsFactories,W=void 0===H?q:H,$=K.mergePropsFactories,J=void 0===$?L:$,X=K.selectorFactory,Z=void 0===X?x:X,function(e,t,a,s){void 0===s&&(s={});var r=s,n=r.pure,o=void 0===n||n,i=r.areStatesEqual,c=void 0===i?V:i,l=r.areOwnPropsEqual,d=void 0===l?T:l,u=r.areStatePropsEqual,m=void 0===u?T:u,g=r.areMergedPropsEqual,b=void 0===g?T:g,f=p(r,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),E=G(e,Y,"mapStateToProps"),S=G(t,W,"mapDispatchToProps"),y=G(a,J,"mergeProps");return U(Z,Object(h.a)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:E,initMapDispatchToProps:S,initMergeProps:y,pure:o,areStatesEqual:c,areOwnPropsEqual:d,areStatePropsEqual:m,areMergedPropsEqual:b},f))})},80:function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},9:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return i}));var s=a(2),r=a(12);const n=(e,t)=>{if(localStorage&&!t)try{localStorage.setItem(r.d,JSON.stringify(e))}catch(e){}return{type:s.M,bookedProducts:e}},o=(e,t)=>{if(localStorage&&!t)try{localStorage.setItem(r.c,JSON.stringify(e))}catch(e){}return{type:s.L,bookedInquiries:e}},i=(e,t)=>{if(localStorage&&!t)try{e?localStorage.setItem(r.b,e.toString()):localStorage.removeItem(r.b)}catch(e){}return{type:s.K,bookedGroup:e}}}});
//# sourceMappingURL=order.bundle.js.map